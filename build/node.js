"use strict";/* eslint-disable */
var Yh=Object.defineProperty;var HT=(s,e,t)=>e in s?Yh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e)=>Yh(s,"name",{value:e,configurable:!0});var l=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var ce=(s,e,t)=>(HT(s,typeof e!="symbol"?e+"":e,t),t),Eu=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var u=(s,e,t)=>(Eu(s,e,"read from private field"),t?t.call(s):e.get(s)),E=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},I=(s,e,t,i)=>(Eu(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t);var f=(s,e,t)=>(Eu(s,e,"access private method"),t);var ye=l((zA,Gh)=>{"use strict";Gh.exports={URLS:{YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",API:{BASE:"https://youtubei.googleapis.com",PRODUCTION:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}},OAUTH:{SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:{accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"},REGEX:{AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:/.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},/}},CLIENTS:{WEB:{NAME:"WEB"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"17.17.32"}},STREAM_HEADERS:{accept:"*/*",connection:"keep-alive",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},INNERTUBE_HEADERS_BASE:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},METADATA_KEYS:["embed","view_count","average_rating","allow_ratings","length_seconds","channel_id","channel_url","external_channel_id","is_live_content","is_family_safe","is_unlisted","is_private","has_ypc_metadata","category","owner_channel_name","publish_date","upload_date","keywords","available_countries","owner_profile_url"],BLACKLISTED_KEYS:["is_owner_viewing","is_unplugged_corpus","is_crawlable","author"],ACCOUNT_SETTINGS:{SUBSCRIPTIONS:"NOTIFICATION_SUBSCRIPTION_NOTIFICATIONS",RECOMMENDED_VIDEOS:"NOTIFICATION_RECOMMENDATION_WEB_CONTROL",CHANNEL_ACTIVITY:"NOTIFICATION_COMMENT_WEB_CONTROL",COMMENT_REPLIES:"NOTIFICATION_COMMENT_REPLY_OTHER_WEB_CONTROL",USER_MENTION:"NOTIFICATION_USER_MENTION_WEB_CONTROL",SHARED_CONTENT:"NOTIFICATION_RETUBING_WEB_CONTROL",PLAYLISTS_PRIVACY:"PRIVACY_DISCOVERABLE_SAVED_PLAYLISTS",SUBSCRIPTIONS_PRIVACY:"PRIVACY_DISCOVERABLE_SUBSCRIPTIONS"},BASE64_DIALECT:{NORMAL:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),REVERSE:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("")},SIG_REGEX:{ACTIONS:/;.{2}\.(?<name>.{2})\(.*?,(?<param>.*?)\)/g,FUNCTIONS:/(?<name>.{2}):function\(.*?\){(.*?)}/g},NTOKEN_REGEX:{CALLS:/c\[(.*?)\]\((.+?)\)/g,PLACEHOLDERS:/c\[(.*?)\]=c/g,FUNCTIONS:/d\.push\(e\)|d\.reverse\(\)|d\[0\]\)\[0\]\)|f=d\[0];d\[0\]|d\.length;d\.splice\(e,1\)|function\(\){for\(var|function\(d,e,f\){var|function\(d\){for\(var|reverse\(\)\.forEach|unshift\(d\.pop\(\)\)|function\(d,e\){for\(var f/},FUNCS:{PUSH:"d.push(e)",REVERSE_1:"d.reverse()",REVERSE_2:"function(d){for(var",SPLICE:"d.length;d.splice(e,1)",SWAP0_1:"d[0])[0])",SWAP0_2:"f=d[0];d[0]",ROTATE_1:"reverse().forEach",ROTATE_2:"unshift(d.pop())",BASE64_DIA:"function(){for(var",TRANSLATE_1:"function(d,e){for(var f",TRANSLATE_2:"function(d,e,f){var"}}});var jn=l((XA,KT)=>{KT.exports={name:"youtubei.js",version:"2.0.0",description:"A full-featured wrapper around YouTube's private API. Allows you to retrieve info about any video, subscribe, unsubscribe, like, dislike, comment, search, download videos/music and much more!",author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)"],funding:"https://ko-fi.com/luanrt",license:"MIT",scripts:{test:"npx jest --verbose","test:node":"npm run build:node:prod && npx jest node","test:browser":"npm run build:browser:prod && npx jest browser",lint:"npx eslint ./lib","lint:fix":"npx eslint --fix ./lib","build:types":"npx tsc","build:parser-map":"node ./scripts/build-parser-json.js","build:general":'npm run build:parser-map && npx esbuild ./lib/Innertube.js --banner:js="/* eslint-disable */" --bundle --target=node12 --keep-names --format=cjs --sourcemap',"build:node":"npm run build:general -- --outfile=./build/node.js --platform=node --external:axios --external:buffer --external:events --external:flat --external:idb --external:node-forge --external:protocol-buffers-encodings --external:stream-browserify --external:user-agents --external:uuid --define:BROWSER=false","build:node:prod":"npm run build:node -- --minify","build:browser":"npm run build:general -- --outfile=./build/browser.js --platform=browser --define:BROWSER=true","build:browser:prod":"npm run build:browser -- --minify"},types:"./typings/lib/Innertube.d.ts",main:"./build/node.js",browser:"./build/browser.js",directories:{test:"./test",typings:"./typings",examples:"./examples",lib:"./lib"},dependencies:{"@zxing/text-encoding":"^0.9.0",axios:"^0.21.4",buffer:"^6.0.3",events:"^3.3.0",flat:"^5.0.2",idb:"^7.0.2","node-forge":"^1.3.1","protocol-buffers-encodings":"^1.1.1","stream-browserify":"^3.0.0","user-agents":"^1.0.778",uuid:"^8.3.2"},devDependencies:{"@types/node":"^17.0.31",esbuild:"^0.14.48",eslint:"^8.15.0","eslint-plugin-jsdoc":"^39.3.2","fake-dom":"^1.0.4",jest:"^28.1.0",typescript:"^4.6.4",xhr2:"^0.2.1","xmlhttprequest-ssl":"^2.0.0"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","innertube","innertubeapi","unofficial","downloader","livechat","ytmusic","dislike","search","comment","music","like","api"]}});var V=l((QA,Hh)=>{"use strict";var zT=require("node-forge"),$h=require("user-agents"),XT=require("flat"),Ce=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=jn().version}};n(Ce,"InnertubeError");var on=class extends Ce{};n(on,"ParsingError");var ei=class extends Ce{};n(ei,"DownloadError");var cn=class extends Ce{};n(cn,"MissingParamError");var ti=class extends Ce{};n(ti,"UnavailableContentError");var ni=class extends Ce{};n(ni,"NoStreamingDataError");var ii=class extends Ce{};n(ii,"OAuthError");function QT(s,e,t,i,a=!0){let r=XT(s,{safe:a,maxDepth:i||2}),o=Object.keys(r).find(c=>c.includes(e)&&JSON.stringify(r[c]||"{}").includes(t));if(!o)throw new on(`Expected to find "${e}" with content "${t}" but got ${o}`,{key:e,target:t,data_snippet:`${JSON.stringify(r,null,4).slice(0,300)}..`});return r[o]}n(QT,"findNode");function ZT(s){return new Proxy(s,{get(e,t){return t=="get"?(i,a)=>e.find((r,o)=>{let c=Wh(i,r);return c&&a&&e.splice(o,1),c}):t=="findAll"?(i,a)=>e.filter((r,o)=>{let c=Wh(i,r);return c&&a&&e.splice(o,1),c}):t=="remove"?i=>e.splice(i,1):Reflect.get(...arguments)}})}n(ZT,"observe");function Wh(s,e){return Reflect.ownKeys(s).some(i=>{var r;let a=((r=e[i])==null?void 0:r.constructor.name)==="Text";return!a&&typeof e[i]=="object"?JSON.stringify(s[i])===JSON.stringify(e[i]):s[i]===(a?e[i].toString():e[i])})}n(Wh,"deepCompare");function jT(){let s={},e=process.platform==="win32",t=e?/[^:]\\$/:/.\/$/,i;return e?i=s.TEMP||s.TMP||`${s.SystemRoot||s.windir}\\temp`:i=s.TMPDIR||s.TMP||s.TEMP||"/tmp",t.test(i)&&(i=i.slice(0,-1)),i}n(jT,"getTmpdir");function eq(s,e,t){let i=new RegExp(`${Jh(e)}(.*?)${Jh(t)}`,"s"),a=s.match(i);return a?a[1]:void 0}n(eq,"getStringBetweenStrings");function Jh(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Jh,"escapeStringRegexp");function tq(s){switch(s){case"mobile":return new $h(/Android/).data;case"desktop":return new $h({deviceCategory:"desktop"}).data;default:}}n(tq,"getRandomUserAgent");function nq(s){let e="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),i=[t,s,e].join(" "),a=zT.md.sha1.create();a.update(i);let r=a.digest().toHex();return["SAPISIDHASH",[t,r].join("_")].join(" ")}n(nq,"generateSidAuth");function iq(s){let e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let i=0;i<s;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}n(iq,"generateRandomString");function sq(s){let e=s.split(":");switch(e.length){case 1:return parseInt(+e[0]);case 2:return parseInt(+e[0]*60+ +e[1]);case 3:return parseInt(+e[0]*3600+ +e[1]*60+ +e[2]);default:break}}n(sq,"timeToSeconds");function rq(s){return s[0].toLowerCase()+s.slice(1,s.length).replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(rq,"camelToSnake");function oq(s){return["YOUTUBE","YTMUSIC"].includes(s)}n(oq,"isValidClient");function cq(s){for(let[e,t]of Object.entries(s))if(!t)throw new cn(`${e} is missing`)}n(cq,"throwIfMissing");function aq(s){return s.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}n(aq,"refineNTokenData");var uq={InnertubeError:Ce,UnavailableContentError:ti,ParsingError:on,DownloadError:ei,MissingParamError:cn,NoStreamingDataError:ni,OAuthError:ii},lq={findNode:QT,observe:ZT,getTmpdir:jT,getRandomUserAgent:tq,generateSidAuth:nq,generateRandomString:iq,getStringBetweenStrings:eq,camelToSnake:rq,isValidClient:oq,throwIfMissing:cq,timeToSeconds:sq,refineNTokenData:aq};Hh.exports={...lq,...uq}});var Qh=l((ZA,Xh)=>{"use strict";var hq=require("uuid"),ve=ye(),{OAuthError:an}=V(),Pe,Ve,ae,un,we,ln,Tu,ri,Kh,oi,zh,hn,qu,si=class{constructor(e,t){E(this,ln);E(this,ri);E(this,oi);E(this,hn);E(this,Pe,void 0);E(this,Ve,void 0);E(this,ae,{});E(this,un,5);E(this,we,null);I(this,we,e),I(this,Pe,t)}init(e){I(this,ae,e),e.access_token||f(this,ln,Tu).call(this)}async checkAccessTokenValidity(){let e=new Date(u(this,ae).expires).getTime();new Date().getTime()>e&&await f(this,oi,zh).call(this)}revokeCredentials(){return u(this,Pe).call(this,{url:"/o/oauth2/revoke",baseURL:ve.URLS.YT_BASE,params:{token:this.getAccessToken()},method:"post"})}get credentials(){return u(this,ae)}validateCredentials(){return u(this,ae).hasOwnProperty("access_token")&&u(this,ae).hasOwnProperty("refresh_token")&&u(this,ae).hasOwnProperty("expires")}};n(si,"OAuth"),Pe=new WeakMap,Ve=new WeakMap,ae=new WeakMap,un=new WeakMap,we=new WeakMap,ln=new WeakSet,Tu=n(async function(){I(this,Ve,await f(this,hn,qu).call(this));let e={client_id:u(this,Ve).client_id,scope:ve.OAUTH.SCOPE,device_id:hq.v4(),model_name:ve.OAUTH.MODEL_NAME},t=await u(this,Pe).call(this,{data:e,url:"/o/oauth2/device/code",baseURL:ve.URLS.YT_BASE,method:"post"}).catch(i=>i);if(t instanceof Error)return u(this,we).emit("auth",new an("Could not obtain user code.",t.message));u(this,we).emit("auth",{...t.data,status:"AUTHORIZATION_PENDING"}),I(this,un,t.data.interval),f(this,ri,Kh).call(this,t.data.device_code)},"#getUserCode"),ri=new WeakSet,Kh=n(function(e){let t=setInterval(async()=>{let i={...u(this,Ve),code:e,grant_type:ve.OAUTH.GRANT_TYPE},a=await u(this,Pe).call(this,{data:i,url:"/o/oauth2/token",baseURL:ve.URLS.YT_BASE,method:"post"}).catch(o=>o);if(a instanceof Error)return u(this,we).emit("auth",new an("Could not obtain user code.",{status:"FAILED",message:a.message}));if(a.data.error){switch(a.data.error){case"access_denied":u(this,we).emit("auth",new an("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,we).emit("auth",new an("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),f(this,ln,Tu).call(this);break;default:break}return}let r=new Date(new Date().getTime()+a.data.expires_in*1e3);I(this,ae,{access_token:a.data.access_token,refresh_token:a.data.refresh_token,expires:r}),u(this,we).emit("auth",{credentials:u(this,ae),status:"SUCCESS"}),clearInterval(t)},u(this,un)*1e3)},"#startPolling"),oi=new WeakSet,zh=n(async function(){I(this,Ve,await f(this,hn,qu).call(this));let e={...u(this,Ve),refresh_token:u(this,ae).refresh_token,grant_type:"refresh_token"},t=await u(this,Pe).call(this,{data:e,url:"/o/oauth2/token",baseURL:ve.URLS.YT_BASE,method:"post"}).catch(a=>a);if(t instanceof Error)return u(this,we).emit("update-credentials",new an("Could not refresh access token.",{status:"FAILED"}));let i=new Date(new Date().getTime()+t.data.expires_in*1e3);I(this,ae,{access_token:t.data.access_token,refresh_token:t.data.refresh_token||this.credentials.refresh_token,expires:i}),u(this,we).emit("update-credentials",{credentials:u(this,ae),status:"SUCCESS"})},"#refreshAccessToken"),hn=new WeakSet,qu=n(async function(){let e=await u(this,Pe).call(this,{url:"/tv",baseURL:ve.URLS.YT_BASE,headers:ve.OAUTH.HEADERS}),t=ve.OAUTH.REGEX.AUTH_SCRIPT.exec(e.data)[1];return(await u(this,Pe).call(this,{url:t,baseURL:ve.URLS.YT_BASE})).data.replace(/\n/g,"").match(ve.OAUTH.REGEX.CLIENT_IDENTITY).groups},"#getClientIdentity");Xh.exports=si});var Zh=l(de=>{var B=require("buffer/").Buffer,g=require("protocol-buffers-encodings"),w=g.varint,F=g.skip,Su=de.VisitorData={buffer:!0,encodingLength:null,encode:null,decode:null},ci=de.ChannelAnalytics={buffer:!0,encodingLength:null,encode:null,decode:null},ai=de.InnertubePayload={buffer:!0,encodingLength:null,encode:null,decode:null},ui=de.SoundInfoParams={buffer:!0,encodingLength:null,encode:null,decode:null},li=de.NotificationPreferences={buffer:!0,encodingLength:null,encode:null,decode:null},hi=de.LiveMessageParams={buffer:!0,encodingLength:null,encode:null,decode:null},dn=de.GetCommentsSectionParams={buffer:!0,encodingLength:null,encode:null,decode:null},di=de.CreateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null},pi=de.CreateCommentReplyParams={buffer:!0,encodingLength:null,encode:null,decode:null},gi=de.PeformCommentActionParams={buffer:!0,encodingLength:null,encode:null,decode:null},_i=de.MusicSearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null},mi=de.SearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null};dq();pq();gq();_q();mq();yq();vq();wq();xq();bq();Eq();Tq();function dq(){Su.encodingLength=s,Su.encode=e,Su.decode=t;function s(i){var a=0;if(b(i.id)){var r=g.string.encodingLength(i.id);a+=1+r}if(b(i.timestamp)){var r=g.int32.encodingLength(i.timestamp);a+=1+r}return a}n(s,"encodingLength");function e(i,a,r){r||(r=0),a||(a=B.allocUnsafe(s(i)));var o=r;return b(i.id)&&(a[r++]=10,g.string.encode(i.id,a,r),r+=g.string.encode.bytes),b(i.timestamp)&&(a[r++]=40,g.int32.encode(i.timestamp,a,r),r+=g.int32.encode.bytes),e.bytes=r-o,a}n(e,"encode");function t(i,a,r){if(a||(a=0),r||(r=i.length),!(r<=i.length&&a<=i.length))throw new Error("Decoded message is not valid");for(var o=a,c={id:"",timestamp:0};;){if(r<=a)return t.bytes=a-o,c;var p=w.decode(i,a);a+=w.decode.bytes;var d=p>>3;switch(d){case 1:c.id=g.string.decode(i,a),a+=g.string.decode.bytes;break;case 5:c.timestamp=g.int32.decode(i,a),a+=g.int32.decode.bytes;break;default:a=F(p&7,i,a)}}}n(t,"decode")}n(dq,"defineVisitorData");function pq(){var s=ci.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.channel_id)){var h=g.string.encodingLength(p.channel_id);d+=2+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=B.allocUnsafe(r(p)));var _=h;return b(p.channel_id)&&(d[h++]=202,d[h++]=62,g.string.encode(p.channel_id,d,h),h+=g.string.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={channel_id:""};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1001:v.channel_id=g.string.decode(p,d),d+=g.string.decode.bytes;break;default:d=F(x&7,p,d)}}}n(c,"decode")}n(e,"defineParams"),ci.encodingLength=t,ci.encode=i,ci.decode=a;function t(r){var o=0;if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.params)&&(o[c++]=130,o[c++]=2,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={params:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 32:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(pq,"defineChannelAnalytics");function gq(){var s=ai.Context={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Client={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.unkparam)){var m=g.int32.encodingLength(x.unkparam);y+=2+m}if(b(x.client_version)){var m=g.string.encodingLength(x.client_version);y+=2+m}if(b(x.client_name)){var m=g.string.encodingLength(x.client_name);y+=2+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=B.allocUnsafe(h(x)));var T=m;return b(x.unkparam)&&(y[m++]=128,y[m++]=1,g.int32.encode(x.unkparam,y,m),m+=g.int32.encode.bytes),b(x.client_version)&&(y[m++]=138,y[m++]=1,g.string.encode(x.client_version,y,m),m+=g.string.encode.bytes),b(x.client_name)&&(y[m++]=146,y[m++]=1,g.string.encode(x.client_name,y,m),m+=g.string.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={unkparam:0,client_version:"",client_name:""};;){if(m<=y)return v.bytes=y-T,P;var A=w.decode(x,y);y+=w.decode.bytes;var S=A>>3;switch(S){case 16:P.unkparam=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 17:P.client_version=g.string.decode(x,y),y+=g.string.decode.bytes;break;case 18:P.client_name=g.string.decode(x,y),y+=g.string.decode.bytes;break;default:y=F(A&7,x,y)}}}n(v,"decode")}n(o,"defineClient"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.client)){var v=r.encodingLength(h.client);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.client)&&(_[v++]=10,w.encode(r.encodingLength(h.client),_,v),v+=w.encode.bytes,r.encode(h.client,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={client:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 1:var P=w.decode(h,_);_+=w.decode.bytes,y.client=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(e,"defineContext"),ai.encodingLength=t,ai.encode=i,ai.decode=a;function t(r){var o=0;if(b(r.context)){var c=s.encodingLength(r.context);o+=w.encodingLength(c),o+=1+c}if(b(r.target)){var c=g.string.encodingLength(r.target);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.context)&&(o[c++]=10,w.encode(s.encodingLength(r.context),o,c),c+=w.encode.bytes,s.encode(r.context,o,c),c+=s.encode.bytes),b(r.target)&&(o[c++]=18,g.string.encode(r.target,o,c),c+=g.string.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={context:null,target:""};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:var v=w.decode(r,o);o+=w.decode.bytes,d.context=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 2:d.target=g.string.decode(r,o),o+=g.string.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(gq,"defineInnertubePayload");function _q(){var s=ui.Sound={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Params={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){var h=r.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){h.encodingLength=m,h.encode=T,h.decode=P;function m(A){var S=0;if(b(A.id_1)){var R=g.string.encodingLength(A.id_1);S+=1+R}if(b(A.id_2)){var R=g.string.encodingLength(A.id_2);S+=1+R}if(b(A.id_3)){var R=g.string.encodingLength(A.id_3);S+=1+R}return S}n(m,"encodingLength");function T(A,S,R){R||(R=0),S||(S=B.allocUnsafe(m(A)));var k=R;return b(A.id_1)&&(S[R++]=10,g.string.encode(A.id_1,S,R),R+=g.string.encode.bytes),b(A.id_2)&&(S[R++]=18,g.string.encode(A.id_2,S,R),R+=g.string.encode.bytes),b(A.id_3)&&(S[R++]=26,g.string.encode(A.id_3,S,R),R+=g.string.encode.bytes),T.bytes=R-k,S}n(T,"encode");function P(A,S,R){if(S||(S=0),R||(R=A.length),!(R<=A.length&&S<=A.length))throw new Error("Decoded message is not valid");for(var k=S,N={id_1:"",id_2:"",id_3:""};;){if(R<=S)return P.bytes=S-k,N;var D=w.decode(A,S);S+=w.decode.bytes;var $=D>>3;switch($){case 1:N.id_1=g.string.decode(A,S),S+=g.string.decode.bytes;break;case 2:N.id_2=g.string.decode(A,S),S+=g.string.decode.bytes;break;case 3:N.id_3=g.string.decode(A,S),S+=g.string.decode.bytes;break;default:S=F(D&7,A,S)}}}n(P,"decode")}n(_,"defineIds"),r.encodingLength=v,r.encode=x,r.decode=y;function v(m){var T=0;if(b(m.ids)){var P=h.encodingLength(m.ids);T+=w.encodingLength(P),T+=1+P}return T}n(v,"encodingLength");function x(m,T,P){P||(P=0),T||(T=B.allocUnsafe(v(m)));var A=P;return b(m.ids)&&(T[P++]=18,w.encode(h.encodingLength(m.ids),T,P),P+=w.encode.bytes,h.encode(m.ids,T,P),P+=h.encode.bytes),x.bytes=P-A,T}n(x,"encode");function y(m,T,P){if(T||(T=0),P||(P=m.length),!(P<=m.length&&T<=m.length))throw new Error("Decoded message is not valid");for(var A=T,S={ids:null};;){if(P<=T)return y.bytes=T-A,S;var R=w.decode(m,T);T+=w.decode.bytes;var k=R>>3;switch(k){case 2:var N=w.decode(m,T);T+=w.decode.bytes,S.ids=h.decode(m,T,T+N),T+=h.decode.bytes;break;default:T=F(R&7,m,T)}}}n(y,"decode")}n(o,"defineParams"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.params)){var v=r.encodingLength(h.params);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.params)&&(_[v++]=10,w.encode(r.encodingLength(h.params),_,v),v+=w.encode.bytes,r.encode(h.params,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={params:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 1:var P=w.decode(h,_);_+=w.decode.bytes,y.params=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(e,"defineSound"),ui.encodingLength=t,ui.encode=i,ui.decode=a;function t(r){var o=0;if(b(r.sound)){var c=s.encodingLength(r.sound);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.sound)&&(o[c++]=242,o[c++]=5,w.encode(s.encodingLength(r.sound),o,c),c+=w.encode.bytes,s.encode(r.sound,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={sound:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 94:var v=w.decode(r,o);o+=w.decode.bytes,d.sound=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(_q,"defineSoundInfoParams");function mq(){var s=li.Preference={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.index)){var h=g.int32.encodingLength(p.index);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=B.allocUnsafe(r(p)));var _=h;return b(p.index)&&(d[h++]=8,g.int32.encode(p.index,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={index:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.index=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=F(x&7,p,d)}}}n(c,"decode")}n(e,"definePreference"),li.encodingLength=t,li.encode=i,li.decode=a;function t(r){var o=0;if(b(r.channel_id)){var c=g.string.encodingLength(r.channel_id);o+=1+c}if(b(r.pref_id)){var c=s.encodingLength(r.pref_id);o+=w.encodingLength(c),o+=1+c}if(b(r.number_0)){var c=g.int32.encodingLength(r.number_0);o+=1+c}if(b(r.number_1)){var c=g.int32.encodingLength(r.number_1);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.channel_id)&&(o[c++]=10,g.string.encode(r.channel_id,o,c),c+=g.string.encode.bytes),b(r.pref_id)&&(o[c++]=18,w.encode(s.encodingLength(r.pref_id),o,c),c+=w.encode.bytes,s.encode(r.pref_id,o,c),c+=s.encode.bytes),b(r.number_0)&&(o[c++]=24,g.int32.encode(r.number_0,o,c),c+=g.int32.encode.bytes),b(r.number_1)&&(o[c++]=32,g.int32.encode(r.number_1,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={channel_id:"",pref_id:null,number_0:0,number_1:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.channel_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.pref_id=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 3:d.number_0=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 4:d.number_1=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(mq,"defineNotificationPreferences");function yq(){var s=hi.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.channel_id)){var m=g.string.encodingLength(x.channel_id);y+=1+m}if(b(x.video_id)){var m=g.string.encodingLength(x.video_id);y+=1+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=B.allocUnsafe(h(x)));var T=m;return b(x.channel_id)&&(y[m++]=10,g.string.encode(x.channel_id,y,m),m+=g.string.encode.bytes),b(x.video_id)&&(y[m++]=18,g.string.encode(x.video_id,y,m),m+=g.string.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={channel_id:"",video_id:""};;){if(m<=y)return v.bytes=y-T,P;var A=w.decode(x,y);y+=w.decode.bytes;var S=A>>3;switch(S){case 1:P.channel_id=g.string.decode(x,y),y+=g.string.decode.bytes;break;case 2:P.video_id=g.string.decode(x,y),y+=g.string.decode.bytes;break;default:y=F(A&7,x,y)}}}n(v,"decode")}n(o,"defineIds"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.ids)){var v=r.encodingLength(h.ids);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.ids)&&(_[v++]=42,w.encode(r.encodingLength(h.ids),_,v),v+=w.encode.bytes,r.encode(h.ids,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={ids:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 5:var P=w.decode(h,_);_+=w.decode.bytes,y.ids=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(e,"defineParams"),hi.encodingLength=t,hi.encode=i,hi.decode=a;function t(r){var o=0;if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.number_0)){var c=g.int32.encodingLength(r.number_0);o+=1+c}if(b(r.number_1)){var c=g.int32.encodingLength(r.number_1);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.params)&&(o[c++]=10,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.number_0)&&(o[c++]=16,g.int32.encode(r.number_0,o,c),c+=g.int32.encode.bytes),b(r.number_1)&&(o[c++]=24,g.int32.encode(r.number_1,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={params:null,number_0:0,number_1:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 2:d.number_0=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 3:d.number_1=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(yq,"defineLiveMessageParams");function vq(){var s=dn.Context={buffer:!0,encodingLength:null,encode:null,decode:null},e=dn.Params={buffer:!0,encodingLength:null,encode:null,decode:null};t(),i();function t(){s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.video_id)){var v=g.string.encodingLength(h.video_id);_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.video_id)&&(_[v++]=18,g.string.encode(h.video_id,_,v),v+=g.string.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={video_id:""};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 2:y.video_id=g.string.decode(h,_),_+=g.string.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(t,"defineContext");function i(){var c=e.Options={buffer:!0,encodingLength:null,encode:null,decode:null},p=e.RepliesOptions={buffer:!0,encodingLength:null,encode:null,decode:null};d(),h();function d(){c.encodingLength=y,c.encode=m,c.decode=T;function y(P){var A=0;if(b(P.video_id)){var S=g.string.encodingLength(P.video_id);A+=1+S}if(b(P.sort_by)){var S=g.int32.encodingLength(P.sort_by);A+=1+S}if(b(P.type)){var S=g.int32.encodingLength(P.type);A+=1+S}return A}n(y,"encodingLength");function m(P,A,S){S||(S=0),A||(A=B.allocUnsafe(y(P)));var R=S;return b(P.video_id)&&(A[S++]=34,g.string.encode(P.video_id,A,S),S+=g.string.encode.bytes),b(P.sort_by)&&(A[S++]=48,g.int32.encode(P.sort_by,A,S),S+=g.int32.encode.bytes),b(P.type)&&(A[S++]=120,g.int32.encode(P.type,A,S),S+=g.int32.encode.bytes),m.bytes=S-R,A}n(m,"encode");function T(P,A,S){if(A||(A=0),S||(S=P.length),!(S<=P.length&&A<=P.length))throw new Error("Decoded message is not valid");for(var R=A,k={video_id:"",sort_by:0,type:0};;){if(S<=A)return T.bytes=A-R,k;var N=w.decode(P,A);A+=w.decode.bytes;var D=N>>3;switch(D){case 4:k.video_id=g.string.decode(P,A),A+=g.string.decode.bytes;break;case 6:k.sort_by=g.int32.decode(P,A),A+=g.int32.decode.bytes;break;case 15:k.type=g.int32.decode(P,A),A+=g.int32.decode.bytes;break;default:A=F(N&7,P,A)}}}n(T,"decode")}n(d,"defineOptions");function h(){var y=p.UnkOpts={buffer:!0,encodingLength:null,encode:null,decode:null};m();function m(){y.encodingLength=S,y.encode=R,y.decode=k;function S(N){var D=0;if(b(N.unk_param)){var $=g.int32.encodingLength(N.unk_param);D+=1+$}return D}n(S,"encodingLength");function R(N,D,$){$||($=0),D||(D=B.allocUnsafe(S(N)));var Me=$;return b(N.unk_param)&&(D[$++]=8,g.int32.encode(N.unk_param,D,$),$+=g.int32.encode.bytes),R.bytes=$-Me,D}n(R,"encode");function k(N,D,$){if(D||(D=0),$||($=N.length),!($<=N.length&&D<=N.length))throw new Error("Decoded message is not valid");for(var Me=D,j={unk_param:0};;){if($<=D)return k.bytes=D-Me,j;var Vh=w.decode(N,D);D+=w.decode.bytes;var JT=Vh>>3;switch(JT){case 1:j.unk_param=g.int32.decode(N,D),D+=g.int32.decode.bytes;break;default:D=F(Vh&7,N,D)}}}n(k,"decode")}n(m,"defineUnkOpts"),p.encodingLength=T,p.encode=P,p.decode=A;function T(S){var R=0;if(b(S.comment_id)){var k=g.string.encodingLength(S.comment_id);R+=1+k}if(b(S.unkopts)){var k=y.encodingLength(S.unkopts);R+=w.encodingLength(k),R+=1+k}if(b(S.channel_id)){var k=g.string.encodingLength(S.channel_id);R+=1+k}if(b(S.video_id)){var k=g.string.encodingLength(S.video_id);R+=1+k}if(b(S.unk_param_1)){var k=g.int32.encodingLength(S.unk_param_1);R+=1+k}if(b(S.unk_param_2)){var k=g.int32.encodingLength(S.unk_param_2);R+=1+k}return R}n(T,"encodingLength");function P(S,R,k){k||(k=0),R||(R=B.allocUnsafe(T(S)));var N=k;return b(S.comment_id)&&(R[k++]=18,g.string.encode(S.comment_id,R,k),k+=g.string.encode.bytes),b(S.unkopts)&&(R[k++]=34,w.encode(y.encodingLength(S.unkopts),R,k),k+=w.encode.bytes,y.encode(S.unkopts,R,k),k+=y.encode.bytes),b(S.channel_id)&&(R[k++]=42,g.string.encode(S.channel_id,R,k),k+=g.string.encode.bytes),b(S.video_id)&&(R[k++]=50,g.string.encode(S.video_id,R,k),k+=g.string.encode.bytes),b(S.unk_param_1)&&(R[k++]=64,g.int32.encode(S.unk_param_1,R,k),k+=g.int32.encode.bytes),b(S.unk_param_2)&&(R[k++]=72,g.int32.encode(S.unk_param_2,R,k),k+=g.int32.encode.bytes),P.bytes=k-N,R}n(P,"encode");function A(S,R,k){if(R||(R=0),k||(k=S.length),!(k<=S.length&&R<=S.length))throw new Error("Decoded message is not valid");for(var N=R,D={comment_id:"",unkopts:null,channel_id:"",video_id:"",unk_param_1:0,unk_param_2:0};;){if(k<=R)return A.bytes=R-N,D;var $=w.decode(S,R);R+=w.decode.bytes;var Me=$>>3;switch(Me){case 2:D.comment_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 4:var j=w.decode(S,R);R+=w.decode.bytes,D.unkopts=y.decode(S,R,R+j),R+=y.decode.bytes;break;case 5:D.channel_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 6:D.video_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 8:D.unk_param_1=g.int32.decode(S,R),R+=g.int32.decode.bytes;break;case 9:D.unk_param_2=g.int32.decode(S,R),R+=g.int32.decode.bytes;break;default:R=F($&7,S,R)}}}n(A,"decode")}n(h,"defineRepliesOptions"),e.encodingLength=_,e.encode=v,e.decode=x;function _(y){var m=0;if(b(y.unk_token)){var T=g.string.encodingLength(y.unk_token);m+=1+T}if(b(y.opts)){var T=c.encodingLength(y.opts);m+=w.encodingLength(T),m+=1+T}if(b(y.replies_opts)){var T=p.encodingLength(y.replies_opts);m+=w.encodingLength(T),m+=1+T}if(b(y.page)){var T=g.int32.encodingLength(y.page);m+=1+T}if(b(y.target)){var T=g.string.encodingLength(y.target);m+=1+T}return m}n(_,"encodingLength");function v(y,m,T){T||(T=0),m||(m=B.allocUnsafe(_(y)));var P=T;return b(y.unk_token)&&(m[T++]=10,g.string.encode(y.unk_token,m,T),T+=g.string.encode.bytes),b(y.opts)&&(m[T++]=34,w.encode(c.encodingLength(y.opts),m,T),T+=w.encode.bytes,c.encode(y.opts,m,T),T+=c.encode.bytes),b(y.replies_opts)&&(m[T++]=26,w.encode(p.encodingLength(y.replies_opts),m,T),T+=w.encode.bytes,p.encode(y.replies_opts,m,T),T+=p.encode.bytes),b(y.page)&&(m[T++]=40,g.int32.encode(y.page,m,T),T+=g.int32.encode.bytes),b(y.target)&&(m[T++]=66,g.string.encode(y.target,m,T),T+=g.string.encode.bytes),v.bytes=T-P,m}n(v,"encode");function x(y,m,T){if(m||(m=0),T||(T=y.length),!(T<=y.length&&m<=y.length))throw new Error("Decoded message is not valid");for(var P=m,A={unk_token:"",opts:null,replies_opts:null,page:0,target:""};;){if(T<=m)return x.bytes=m-P,A;var S=w.decode(y,m);m+=w.decode.bytes;var R=S>>3;switch(R){case 1:A.unk_token=g.string.decode(y,m),m+=g.string.decode.bytes;break;case 4:var k=w.decode(y,m);m+=w.decode.bytes,A.opts=c.decode(y,m,m+k),m+=c.decode.bytes;break;case 3:var k=w.decode(y,m);m+=w.decode.bytes,A.replies_opts=p.decode(y,m,m+k),m+=p.decode.bytes;break;case 5:A.page=g.int32.decode(y,m),m+=g.int32.decode.bytes;break;case 8:A.target=g.string.decode(y,m),m+=g.string.decode.bytes;break;default:m=F(S&7,y,m)}}}n(x,"decode")}n(i,"defineParams"),dn.encodingLength=a,dn.encode=r,dn.decode=o;function a(c){var p=0;if(b(c.ctx)){var d=s.encodingLength(c.ctx);p+=w.encodingLength(d),p+=1+d}if(b(c.unk_param)){var d=g.int32.encodingLength(c.unk_param);p+=1+d}if(b(c.params)){var d=e.encodingLength(c.params);p+=w.encodingLength(d),p+=1+d}return p}n(a,"encodingLength");function r(c,p,d){d||(d=0),p||(p=B.allocUnsafe(a(c)));var h=d;return b(c.ctx)&&(p[d++]=18,w.encode(s.encodingLength(c.ctx),p,d),d+=w.encode.bytes,s.encode(c.ctx,p,d),d+=s.encode.bytes),b(c.unk_param)&&(p[d++]=24,g.int32.encode(c.unk_param,p,d),d+=g.int32.encode.bytes),b(c.params)&&(p[d++]=50,w.encode(e.encodingLength(c.params),p,d),d+=w.encode.bytes,e.encode(c.params,p,d),d+=e.encode.bytes),r.bytes=d-h,p}n(r,"encode");function o(c,p,d){if(p||(p=0),d||(d=c.length),!(d<=c.length&&p<=c.length))throw new Error("Decoded message is not valid");for(var h=p,_={ctx:null,unk_param:0,params:null};;){if(d<=p)return o.bytes=p-h,_;var v=w.decode(c,p);p+=w.decode.bytes;var x=v>>3;switch(x){case 2:var y=w.decode(c,p);p+=w.decode.bytes,_.ctx=s.decode(c,p,p+y),p+=s.decode.bytes;break;case 3:_.unk_param=g.int32.decode(c,p),p+=g.int32.decode.bytes;break;case 6:var y=w.decode(c,p);p+=w.decode.bytes,_.params=e.decode(c,p,p+y),p+=e.decode.bytes;break;default:p=F(v&7,c,p)}}}n(o,"decode")}n(vq,"defineGetCommentsSectionParams");function wq(){var s=di.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.index)){var h=g.int32.encodingLength(p.index);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=B.allocUnsafe(r(p)));var _=h;return b(p.index)&&(d[h++]=8,g.int32.encode(p.index,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={index:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.index=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=F(x&7,p,d)}}}n(c,"decode")}n(e,"defineParams"),di.encodingLength=t,di.encode=i,di.decode=a;function t(r){var o=0;if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.number)){var c=g.int32.encodingLength(r.number);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.video_id)&&(o[c++]=18,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.params)&&(o[c++]=42,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.number)&&(o[c++]=80,g.int32.encode(r.number,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={video_id:"",params:null,number:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 10:d.number=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(wq,"defineCreateCommentParams");function xq(){var s=pi.UnknownParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.unk_num)){var h=g.int32.encodingLength(p.unk_num);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=B.allocUnsafe(r(p)));var _=h;return b(p.unk_num)&&(d[h++]=8,g.int32.encode(p.unk_num,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={unk_num:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.unk_num=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=F(x&7,p,d)}}}n(c,"decode")}n(e,"defineUnknownParams"),pi.encodingLength=t,pi.encode=i,pi.decode=a;function t(r){var o=0;if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.comment_id)){var c=g.string.encodingLength(r.comment_id);o+=1+c}if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.unk_num)){var c=g.int32.encodingLength(r.unk_num);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.video_id)&&(o[c++]=18,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.comment_id)&&(o[c++]=34,g.string.encode(r.comment_id,o,c),c+=g.string.encode.bytes),b(r.params)&&(o[c++]=42,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.unk_num)&&(o[c++]=80,g.int32.encode(r.unk_num,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={video_id:"",comment_id:"",params:null,unk_num:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 4:d.comment_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 10:d.unk_num=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(xq,"defineCreateCommentReplyParams");function bq(){var s=gi.TranslateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Params={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){var h=r.Comment={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){h.encodingLength=m,h.encode=T,h.decode=P;function m(A){var S=0;if(b(A.text)){var R=g.string.encodingLength(A.text);S+=1+R}return S}n(m,"encodingLength");function T(A,S,R){R||(R=0),S||(S=B.allocUnsafe(m(A)));var k=R;return b(A.text)&&(S[R++]=10,g.string.encode(A.text,S,R),R+=g.string.encode.bytes),T.bytes=R-k,S}n(T,"encode");function P(A,S,R){if(S||(S=0),R||(R=A.length),!(R<=A.length&&S<=A.length))throw new Error("Decoded message is not valid");for(var k=S,N={text:""};;){if(R<=S)return P.bytes=S-k,N;var D=w.decode(A,S);S+=w.decode.bytes;var $=D>>3;switch($){case 1:N.text=g.string.decode(A,S),S+=g.string.decode.bytes;break;default:S=F(D&7,A,S)}}}n(P,"decode")}n(_,"defineComment"),r.encodingLength=v,r.encode=x,r.decode=y;function v(m){var T=0;if(b(m.comment)){var P=h.encodingLength(m.comment);T+=w.encodingLength(P),T+=1+P}return T}n(v,"encodingLength");function x(m,T,P){P||(P=0),T||(T=B.allocUnsafe(v(m)));var A=P;return b(m.comment)&&(T[P++]=10,w.encode(h.encodingLength(m.comment),T,P),P+=w.encode.bytes,h.encode(m.comment,T,P),P+=h.encode.bytes),x.bytes=P-A,T}n(x,"encode");function y(m,T,P){if(T||(T=0),P||(P=m.length),!(P<=m.length&&T<=m.length))throw new Error("Decoded message is not valid");for(var A=T,S={comment:null};;){if(P<=T)return y.bytes=T-A,S;var R=w.decode(m,T);T+=w.decode.bytes;var k=R>>3;switch(k){case 1:var N=w.decode(m,T);T+=w.decode.bytes,S.comment=h.decode(m,T,T+N),T+=h.decode.bytes;break;default:T=F(R&7,m,T)}}}n(y,"decode")}n(o,"defineParams"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.params)){var v=r.encodingLength(h.params);_+=w.encodingLength(v),_+=1+v}if(b(h.comment_id)){var v=g.string.encodingLength(h.comment_id);_+=1+v}if(b(h.target_language)){var v=g.string.encodingLength(h.target_language);_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.params)&&(_[v++]=26,w.encode(r.encodingLength(h.params),_,v),v+=w.encode.bytes,r.encode(h.params,_,v),v+=r.encode.bytes),b(h.comment_id)&&(_[v++]=18,g.string.encode(h.comment_id,_,v),v+=g.string.encode.bytes),b(h.target_language)&&(_[v++]=34,g.string.encode(h.target_language,_,v),v+=g.string.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={params:null,comment_id:"",target_language:""};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 3:var P=w.decode(h,_);_+=w.decode.bytes,y.params=r.decode(h,_,_+P),_+=r.decode.bytes;break;case 2:y.comment_id=g.string.decode(h,_),_+=g.string.decode.bytes;break;case 4:y.target_language=g.string.decode(h,_),_+=g.string.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(e,"defineTranslateCommentParams"),gi.encodingLength=t,gi.encode=i,gi.decode=a;function t(r){var o=0;if(b(r.type)){var c=g.int32.encodingLength(r.type);o+=1+c}if(b(r.comment_id)){var c=g.string.encodingLength(r.comment_id);o+=1+c}if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.unk_num)){var c=g.int32.encodingLength(r.unk_num);o+=1+c}if(b(r.channel_id)){var c=g.string.encodingLength(r.channel_id);o+=2+c}if(b(r.translate_comment_params)){var c=s.encodingLength(r.translate_comment_params);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.type)&&(o[c++]=8,g.int32.encode(r.type,o,c),c+=g.int32.encode.bytes),b(r.comment_id)&&(o[c++]=26,g.string.encode(r.comment_id,o,c),c+=g.string.encode.bytes),b(r.video_id)&&(o[c++]=42,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.unk_num)&&(o[c++]=16,g.int32.encode(r.unk_num,o,c),c+=g.int32.encode.bytes),b(r.channel_id)&&(o[c++]=186,o[c++]=1,g.string.encode(r.channel_id,o,c),c+=g.string.encode.bytes),b(r.translate_comment_params)&&(o[c++]=250,o[c++]=1,w.encode(s.encodingLength(r.translate_comment_params),o,c),c+=w.encode.bytes,s.encode(r.translate_comment_params,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={type:0,comment_id:"",video_id:"",unk_num:0,channel_id:"",translate_comment_params:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.type=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 3:d.comment_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 2:d.unk_num=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 23:d.channel_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 31:var v=w.decode(r,o);o+=w.decode.bytes,d.translate_comment_params=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(bq,"definePeformCommentActionParams");function Eq(){var s=_i.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Type={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.all)){var m=g.int32.encodingLength(x.all);y+=1+m}if(b(x.song)){var m=g.int32.encodingLength(x.song);y+=1+m}if(b(x.video)){var m=g.int32.encodingLength(x.video);y+=1+m}if(b(x.album)){var m=g.int32.encodingLength(x.album);y+=1+m}if(b(x.artist)){var m=g.int32.encodingLength(x.artist);y+=1+m}if(b(x.playlist)){var m=g.int32.encodingLength(x.playlist);y+=1+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=B.allocUnsafe(h(x)));var T=m;return b(x.all)&&(y[m++]=0,g.int32.encode(x.all,y,m),m+=g.int32.encode.bytes),b(x.song)&&(y[m++]=8,g.int32.encode(x.song,y,m),m+=g.int32.encode.bytes),b(x.video)&&(y[m++]=16,g.int32.encode(x.video,y,m),m+=g.int32.encode.bytes),b(x.album)&&(y[m++]=24,g.int32.encode(x.album,y,m),m+=g.int32.encode.bytes),b(x.artist)&&(y[m++]=32,g.int32.encode(x.artist,y,m),m+=g.int32.encode.bytes),b(x.playlist)&&(y[m++]=40,g.int32.encode(x.playlist,y,m),m+=g.int32.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={all:0,song:0,video:0,album:0,artist:0,playlist:0};;){if(m<=y)return v.bytes=y-T,P;var A=w.decode(x,y);y+=w.decode.bytes;var S=A>>3;switch(S){case 0:P.all=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 1:P.song=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 2:P.video=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 3:P.album=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 4:P.artist=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 5:P.playlist=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;default:y=F(A&7,x,y)}}}n(v,"decode")}n(o,"defineType"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.type)){var v=r.encodingLength(h.type);_+=w.encodingLength(v),_+=2+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=B.allocUnsafe(c(h)));var x=v;return b(h.type)&&(_[v++]=138,_[v++]=1,w.encode(r.encodingLength(h.type),_,v),v+=w.encode.bytes,r.encode(h.type,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={type:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 17:var P=w.decode(h,_);_+=w.decode.bytes,y.type=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=F(m&7,h,_)}}}n(d,"decode")}n(e,"defineFilters"),_i.encodingLength=t,_i.encode=i,_i.decode=a;function t(r){var o=0;if(b(r.filters)){var c=s.encodingLength(r.filters);o+=w.encodingLength(c),o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.filters)&&(o[c++]=18,w.encode(s.encodingLength(r.filters),o,c),c+=w.encode.bytes,s.encode(r.filters,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={filters:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.filters=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(Eq,"defineMusicSearchFilter");function Tq(){var s=mi.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.upload_date)){var h=g.int32.encodingLength(p.upload_date);d+=1+h}if(b(p.type)){var h=g.int32.encodingLength(p.type);d+=1+h}if(b(p.duration)){var h=g.int32.encodingLength(p.duration);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=B.allocUnsafe(r(p)));var _=h;return b(p.upload_date)&&(d[h++]=8,g.int32.encode(p.upload_date,d,h),h+=g.int32.encode.bytes),b(p.type)&&(d[h++]=16,g.int32.encode(p.type,d,h),h+=g.int32.encode.bytes),b(p.duration)&&(d[h++]=24,g.int32.encode(p.duration,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={upload_date:0,type:0,duration:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.upload_date=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;case 2:v.type=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;case 3:v.duration=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=F(x&7,p,d)}}}n(c,"decode")}n(e,"defineFilters"),mi.encodingLength=t,mi.encode=i,mi.decode=a;function t(r){var o=0;if(b(r.sort_by)){var c=g.int32.encodingLength(r.sort_by);o+=1+c}if(b(r.no_filter)){var c=g.int32.encodingLength(r.no_filter);o+=2+c}if(b(r.filters)){var c=s.encodingLength(r.filters);o+=w.encodingLength(c),o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=B.allocUnsafe(t(r)));var p=c;return b(r.sort_by)&&(o[c++]=8,g.int32.encode(r.sort_by,o,c),c+=g.int32.encode.bytes),b(r.no_filter)&&(o[c++]=152,o[c++]=1,g.int32.encode(r.no_filter,o,c),c+=g.int32.encode.bytes),b(r.filters)&&(o[c++]=18,w.encode(s.encodingLength(r.filters),o,c),c+=w.encode.bytes,s.encode(r.filters,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={sort_by:0,no_filter:0,filters:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.sort_by=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 19:d.no_filter=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.filters=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=F(h&7,r,o)}}}n(a,"decode")}n(Tq,"defineSearchFilter");function b(s){return s!=null&&(typeof s!="number"||!isNaN(s))}n(b,"defined")});var gt=l((ek,jh)=>{"use strict";var pe=require("buffer/").Buffer,xe=Zh(),yi=class{static encodeVisitorData(e,t){let i=xe.VisitorData.encode({id:e,timestamp:t});return encodeURIComponent(pe.from(i).toString("base64").replace(/\/|\+/g,"_"))}static encodeChannelAnalyticsParams(e){let t=xe.ChannelAnalytics.encode({params:{channel_id:e}});return encodeURIComponent(pe.from(t).toString("base64"))}static encodeSearchFilters(e){let t={all:null,hour:1,today:2,week:3,month:4,year:5},i={all:null,video:1,channel:2,playlist:3,movie:4},a={all:null,short:1,long:2,medium:3},r={relevance:null,rating:1,upload_date:2,view_count:3},o={};if(e?o.filters={}:o.no_filter=0,e){if(e.upload_date&&e.type!=="video")throw new Error(`Upload date filter cannot be used with type ${e.type}`);e.upload_date&&(o.filters.upload_date=t[e.upload_date]),e.type&&(o.filters.type=i[e.type]),e.duration&&(o.filters.duration=a[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(o.sort_by=r[e.sort_by])}let c=xe.SearchFilter.encode(o);return encodeURIComponent(pe.from(c).toString("base64"))}static encodeMusicSearchFilters(e={}){let t={filters:{type:{}}};t.filters.type[e.type||"all"]=1;let i=xe.MusicSearchFilter.encode(t);return encodeURIComponent(pe.from(i).toString("base64"))}static encodeMessageParams(e,t){let i=xe.LiveMessageParams.encode({params:{ids:{channel_id:e,video_id:t}},number_0:1,number_1:4});return pe.from(encodeURIComponent(pe.from(i).toString("base64"))).toString("base64")}static encodeCommentsSectionParams(e,t={}){let i={TOP_COMMENTS:0,NEWEST_FIRST:1},a=xe.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{opts:{video_id:e,sort_by:i[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}});return encodeURIComponent(pe.from(a).toString("base64"))}static encodeCommentRepliesParams(e,t){let i=xe.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{replies_opts:{video_id:e,comment_id:t,unkopts:{unk_param:0},unk_param_1:1,unk_param_2:10,channel_id:" "},target:`comment-replies-item-${t}`}});return encodeURIComponent(pe.from(i).toString("base64"))}static encodeCommentParams(e){let t=xe.CreateCommentParams.encode({video_id:e,params:{index:0},number:7});return encodeURIComponent(pe.from(t).toString("base64"))}static encodeCommentReplyParams(e,t){let i=xe.CreateCommentReplyParams.encode({video_id:t,comment_id:e,params:{unk_num:0},unk_num:7});return encodeURIComponent(pe.from(i).toString("base64"))}static encodeCommentActionParams(e,t={}){let i={};i.type=e,i.video_id=t.video_id||"",i.comment_id=t.comment_id||"",i.unk_num=2,t.hasOwnProperty("text")&&(t.comment_id&&delete i.unk_num,i.translate_comment_params={params:{comment:{text:t.text}},comment_id:t.comment_id||"",target_language:t.target_language});let a=xe.PeformCommentActionParams.encode(i);return encodeURIComponent(pe.from(a).toString("base64"))}static encodeNotificationPref(e,t){let i=xe.NotificationPreferences.encode({channel_id:e,pref_id:{index:t},number_0:0,number_1:4});return encodeURIComponent(pe.from(i).toString("base64"))}static encodeSoundInfoParams(e){let t={sound:{params:{ids:{id_1:e,id_2:e,id_3:e}}}},i=xe.SoundInfoParams.encode(t);return encodeURIComponent(pe.from(i).toString("base64"))}};n(yi,"Proto");jh.exports=yi});var Iu=l((tk,ed)=>{"use strict";var vi=class{constructor(e){this.itag=e.itag,this.mime_type=e.mimeType,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width||null,this.height=e.height||null,this.init_range=e.initRange&&{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)},this.index_range=e.indexRange&&{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)},this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel||null,this.fps=e.fps||null,this.url=e.url||null,this.cipher=e.cipher||null,this.signature_cipher=e.signatureCipher||null,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel}decipher(e){return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(vi,"Format");ed.exports=vi});var O=l((nk,td)=>{"use strict";var _t=class{url;width;height;constructor({url:e,width:t,height:i}){this.url=e,this.width=t,this.height=i}static fromResponse(e){if(!(!e||!e.thumbnails))return e.thumbnails.map(t=>new _t(t)).sort((t,i)=>i.width-t.width)}};n(_t,"Thumbnail");td.exports=_t});var Cu=l((ik,nd)=>{"use strict";var qq=O(),wi=class{id;channel_id;title;keywords;short_description;author;constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=qq.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live_content=!!e.isLiveContent,this.is_crawlable=!!e.isCrawlable}};n(wi,"VideoDetails");nd.exports=wi});var sd=l((sk,id)=>{"use strict";var Sq=q(),xi=class{type="AppendContinuationItemsAction";constructor(e){this.items=Sq.parse(e.continuationItems),this.target=e.target}};n(xi,"AppendContinuationItemsAction");id.exports=xi});var od=l((rk,rd)=>{"use strict";var Iq=q(),bi=class{type="OpenPopupAction";constructor(e){this.popup=Iq.parse(e.popup),this.popup_type=e.popupType}};n(bi,"OpenPopupAction");rd.exports=bi});var Pu=l((ok,cd)=>{"use strict";var Ei=class{type="DataModelSection";constructor(e){this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator,this.series_configuration={line_series:{lines_data:e.seriesConfiguration.lineSeries.linesData,domain_axis:e.seriesConfiguration.lineSeries.domainAxis,measure_axis:e.seriesConfiguration.lineSeries.measureAxis}}}};n(Ei,"DataModelSection");cd.exports=Ei});var ud=l((ck,ad)=>{"use strict";var Cq=Pu(),Ti=class{type="AnalyticsMainAppKeyMetrics";constructor(e){this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(i=>new Cq(i))}};n(Ti,"AnalyticsMainAppKeyMetrics");ad.exports=Ti});var Ru=l((ak,ld)=>{"use strict";var Pq=O(),qi=class{type="AnalyticsVideo";constructor(e){this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:Pq.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(qi,"AnalyticsVideo");ld.exports=qi});var dd=l((uk,hd)=>{"use strict";var Rq=Ru(),Si=class{type="AnalyticsVodCarouselCard";constructor(e){this.title=e.title,this.videos=e.videoCarouselData.videos.map(t=>new Rq(t))}};n(Si,"AnalyticsVodCarouselCard");hd.exports=Si});var L=l((lk,pd)=>{"use strict";var tt=q(),Ii=class{type="NavigationEndpoint";constructor(e){var i,a,r,o,c,p,d,h,_,v,x,y,m,T,P,A,S,R,k,N,D,$,Me;let t=Object.keys(e||{}).find(j=>j.endsWith("Endpoint")||j.endsWith("Command"));if(this.payload=(e==null?void 0:e[t])||{},Reflect.has(this.payload,"dialog")&&(this.dialog=tt.parse(this.payload.dialog)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(a=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&a.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(o=(r=e==null?void 0:e.commandMetadata)==null?void 0:r.webCommandMetadata)!=null&&o.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(p=(c=e==null?void 0:e.commandMetadata)==null?void 0:c.webCommandMetadata)!=null&&p.apiUrl&&(this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/","")),(h=(d=e==null?void 0:e.commandMetadata)==null?void 0:d.webCommandMetadata)!=null&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.browseEndpoint){let j=(v=(_=e==null?void 0:e.browseEndpoint)==null?void 0:_.browseEndpointContextSupportedConfigs)==null?void 0:v.browseEndpointContextMusicConfig;this.browse={id:((x=e==null?void 0:e.browseEndpoint)==null?void 0:x.browseId)||null,params:(e==null?void 0:e.browseEndpoint.params)||null,base_url:((y=e==null?void 0:e.browseEndpoint)==null?void 0:y.canonicalBaseUrl)||null,page_type:(j==null?void 0:j.pageType)||null}}if(e!=null&&e.watchEndpoint){let j=(T=(m=e==null?void 0:e.watchEndpoint)==null?void 0:m.watchEndpointMusicSupportedConfigs)==null?void 0:T.watchEndpointMusicConfig;this.watch={video_id:(P=e==null?void 0:e.watchEndpoint)==null?void 0:P.videoId,playlist_id:(e==null?void 0:e.watchEndpoint.playlistId)||null,params:(e==null?void 0:e.watchEndpoint.params)||null,index:(e==null?void 0:e.watchEndpoint.index)||null,supported_onesie_config:(A=e==null?void 0:e.watchEndpoint)==null?void 0:A.watchEndpointSupportedOnesieConfig,music_video_type:(j==null?void 0:j.musicVideoType)||null}}e!=null&&e.searchEndpoint&&(this.search={query:e.searchEndpoint.query,params:e.searchEndpoint.params}),e!=null&&e.subscribeEndpoint&&(this.subscribe={channel_ids:e.subscribeEndpoint.channelIds,params:e.subscribeEndpoint.params}),e!=null&&e.unsubscribeEndpoint&&(this.unsubscribe={channel_ids:e.unsubscribeEndpoint.channelIds,params:e.unsubscribeEndpoint.params}),e!=null&&e.likeEndpoint&&(this.like={status:e.likeEndpoint.status,target:{video_id:e.likeEndpoint.target.videoId,playlist_id:e.likeEndpoint.target.playlistId},params:((S=e.likeEndpoint)==null?void 0:S.removeLikeParams)||((R=e.likeEndpoint)==null?void 0:R.likeParams)||((k=e.likeEndpoint)==null?void 0:k.dislikeParams)}),e!=null&&e.performCommentActionEndpoint&&(this.perform_comment_action={action:e==null?void 0:e.performCommentActionEndpoint.action}),e!=null&&e.offlineVideoEndpoint&&(this.offline_video={video_id:e.offlineVideoEndpoint.videoId,on_add_command:{get_download_action:{video_id:e.offlineVideoEndpoint.videoId,params:e.offlineVideoEndpoint.onAddCommand.getDownloadActionCommand.params}}}),e!=null&&e.continuationCommand&&(this.continuation={request:((N=e==null?void 0:e.continuationCommand)==null?void 0:N.request)||null,token:((D=e==null?void 0:e.continuationCommand)==null?void 0:D.token)||null}),e!=null&&e.feedbackEndpoint&&(this.feedback={token:e.feedbackEndpoint.feedbackToken}),e!=null&&e.watchPlaylistEndpoint&&(this.watch_playlist={playlist_id:($=e.watchPlaylistEndpoint)==null?void 0:$.playlistId}),e!=null&&e.playlistEditEndpoint&&(this.playlist_edit={playlist_id:e.playlistEditEndpoint.playlistId,actions:e.playlistEditEndpoint.actions.map(j=>({action:j.action,removed_video_id:j.removedVideoId}))}),e!=null&&e.addToPlaylistEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistEndpoint.videoId}),e!=null&&e.addToPlaylistServiceEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistServiceEndpoint.videoId}),e!=null&&e.getReportFormEndpoint&&(this.get_report_form={params:e.getReportFormEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:(Me=e==null?void 0:e.liveChatItemContextMenuEndpoint)==null?void 0:Me.params}),e!=null&&e.sendLiveChatVoteEndpoint&&(this.send_live_chat_vote={params:e.sendLiveChatVoteEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:e.liveChatItemContextMenuEndpoint.params})}async callTest(e,t={parse:!0,params:{}}){if(!e)throw new Error("An active caller must be provided");let i=await e.execute(this.metadata.api_url,{...this.payload,...t.params});return t.parse?tt.parseResponse(i.data):i}async call(e,t){if(!e)throw new Error("An active caller must be provided");if(this.continuation)switch(this.continuation.request){case"CONTINUATION_REQUEST_TYPE_BROWSE":{let i=await e.browse(this.continuation.token,{is_ctoken:!0});return tt.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_SEARCH":{let i=await e.search({ctoken:this.continuation.token});return tt.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":{let i=await e.next({ctoken:this.continuation.token});return tt.parseResponse(i.data)}default:throw new Error(`${this.continuation.request} not implemented`)}if(this.search){let i=await e.search({query:this.search.query,params:this.search.params,client:t});return tt.parseResponse(i.data)}if(this.browse){let i=await e.browse(this.browse.id,{...this.browse,client:t});return tt.parseResponse(i.data)}if(this.like)return await e.engage(this.metadata.api_url,{video_id:this.like.target.video_id,params:this.like.params})}};n(Ii,"NavigationEndpoint");pd.exports=Ii});var Au=l((hk,gd)=>{"use strict";var Aq=L(),Ci=class{constructor(e){this.text=e.text,this.endpoint=e.navigationEndpoint?new Aq(e.navigationEndpoint):{}}};n(Ci,"TextRun");gd.exports=Ci});var ku=l((dk,_d)=>{"use strict";var kq=O(),Pi=class{constructor(e){var t,i,a;this.text=((t=e.emoji)==null?void 0:t.emojiId)||((a=(i=e.emoji)==null?void 0:i.shortcuts)==null?void 0:a[0])||null,this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji.shortcuts,search_terms:e.emoji.searchTerms,image:kq.fromResponse(e.emoji.image)}}};n(Pi,"EmojiRun");_d.exports=Pi});var C=l((pk,md)=>{"use strict";var Lq=Au(),fq=ku(),Ri=class{text;constructor(e){e!=null&&e.hasOwnProperty("runs")?(this.runs=e.runs.map(t=>t.emoji&&new fq(t)||new Lq(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=(e==null?void 0:e.simpleText)||"N/A"}toString(){return this.text}};n(Ri,"Text");md.exports=Ri});var ki=l((gk,yd)=>{"use strict";var Oq=C(),Lu=L(),Ai=class extends Oq{type="NavigatableText";endpoint;constructor(e){var t,i;super(e),this.endpoint=(i=(t=e.runs)==null?void 0:t[0])!=null&&i.navigationEndpoint?new Lu(e.runs[0].navigationEndpoint):e.navigationEndpoint?new Lu(e.navigationEndpoint):e.titleNavigationEndpoint?new Lu(e.titleNavigationEndpoint):null}toJSON(){return this}};n(Ai,"NavigatableText");yd.exports=Ai});var ie=l((_k,wd)=>{"use strict";var Dq=q(),Uq=ki(),Nq=O(),vd=ye(),ue,Li=class{constructor(e,t,i){E(this,ue,void 0);var a,r,o,c,p,d,h,_,v,x,y,m,T,P;I(this,ue,new Uq(e)),this.id=((r=(a=u(this,ue).runs)==null?void 0:a[0].endpoint.browse)==null?void 0:r.id)||((c=(o=u(this,ue).endpoint)==null?void 0:o.browse)==null?void 0:c.id)||"N/A",this.name=u(this,ue).text||"N/A",this.thumbnails=i?Nq.fromResponse(i):[],this.endpoint=((p=u(this,ue).runs)==null?void 0:p[0].endpoint)||u(this,ue).endpoint,this.badges=Array.isArray(t)?Dq.parse(t):[],this.is_verified=((d=this.badges)==null?void 0:d.some(A=>A.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.is_verified_artist=((h=this.badges)==null?void 0:h.some(A=>A.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.url=((_=u(this,ue).runs)==null?void 0:_[0].endpoint.browse)&&`${vd.URLS.YT_BASE}${((v=u(this,ue).runs[0].endpoint.browse)==null?void 0:v.base_url)||`/u/${(x=u(this,ue).runs[0].endpoint.browse)==null?void 0:x.id}`}`||`${vd.URLS.YT_BASE}${((m=(y=u(this,ue).endpoint)==null?void 0:y.browse)==null?void 0:m.base_url)||`/u/${(P=(T=u(this,ue).endpoint)==null?void 0:T.browse)==null?void 0:P.id}`}`||null}get best_thumbnail(){return this.thumbnails[0]}};n(Li,"Author"),ue=new WeakMap;wd.exports=Li});var bd=l((mk,xd)=>{"use strict";var Bq=O(),fi=class{type="BackstageImage";constructor(e){this.image=Bq.fromResponse(e.image)}};n(fi,"BackstageImage");xd.exports=fi});var Ou=l((yk,Ed)=>{"use strict";var Oi=q(),Fq=ie(),fu=C(),Mq=L(),Di=class{type="BackstagePost";constructor(e){this.id=e.postId,this.author=new Fq({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new fu(e.contentText,""),this.published=new fu(e.publishedTimeText),this.poll_status=e.pollStatus,this.vote_status=e.voteStatus,this.likes=new fu(e.voteCount),this.menu=Oi.parse(e.actionMenu)||null,this.actions=Oi.parse(e.actionButtons),this.vote_button=Oi.parse(e.voteButton),this.surface=e.surface,this.endpoint=new Mq(e.navigationEndpoint),this.attachment=Oi.parse(e.backstageAttachment)||null}};n(Di,"BackstagePost");Ed.exports=Di});var qd=l((vk,Td)=>{"use strict";var Vq=q(),Ui=class{type="BackstagePostThread";constructor(e){this.post=Vq.parse(e.post)}};n(Ui,"BackstagePostThread");Td.exports=Ui});var Id=l((wk,Sd)=>{"use strict";var Yq=q(),Ni=class{type="BrowseFeedActions";constructor(e){this.contents=Yq.parse(e.contents)}};n(Ni,"BrowseFeedActions");Sd.exports=Ni});var Fi=l((xk,Cd)=>{"use strict";var Gq=C(),$q=L(),Bi=class{type="Button";constructor(e){var t,i,a,r;this.text=new Gq(e.text).toString(),(t=e.accessibility)!=null&&t.label&&(this.label=(i=e.accessibility)==null?void 0:i.label),e.tooltip&&(this.tooltip=e.tooltip),(a=e.icon)!=null&&a.iconType&&(this.iconType=(r=e.icon)==null?void 0:r.iconType),this.endpoint=new $q(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Bi,"Button");Cd.exports=Bi});var Rd=l((bk,Pd)=>{"use strict";var Du=q(),Wq=ie(),Uu=O(),Jq=C(),Mi=class{type="C4TabbedHeader";constructor(e){this.author=new Wq({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),this.banner=e.banner?Uu.fromResponse(e.banner):[],this.tv_banner=e.tvBanner?Uu.fromResponse(e.tvBanner):[],this.mobile_banner=e.mobileBanner?Uu.fromResponse(e.mobileBanner):[],this.subscribers=new Jq(e.subscriberCountText),this.sponsor_button=e.sponsorButton&&Du.parse(e.sponsorButton),this.subscribe_button=e.subscribeButton&&Du.parse(e.subscribeButton),this.header_links=e.headerLinks&&Du.parse(e.headerLinks)}};n(Mi,"C4TabbedHeader");Pd.exports=Mi});var kd=l((Ek,Ad)=>{"use strict";var Hq=C(),Vi=class{type="CallToActionButton";constructor(e){this.label=new Hq(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Vi,"CallToActionButton");Ad.exports=Vi});var Od=l((Tk,fd)=>{"use strict";var Ld=q(),Yi=class{type="Card";constructor(e){this.teaser=Ld.parse(e.teaser),this.content=Ld.parse(e.content),this.card_id=e.cardId,this.feature=e.feature,this.cue_ranges=e.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};n(Yi,"Card");fd.exports=Yi});var Ud=l((qk,Dd)=>{"use strict";var Kq=q(),zq=C(),Gi=class{type="CardCollection";constructor(e){this.cards=Kq.parse(e.cards),this.header=new zq(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Gi,"CardCollection");Dd.exports=Gi});var Bd=l((Sk,Nd)=>{"use strict";var Xq=ie(),Qq=L(),Nu=C(),$i=class{type="Channel";constructor(e){this.id=e.channelId,this.author=new Xq({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Nu(e.subscriberCountText),this.videos=new Nu(e.videoCountText),this.endpoint=new Qq(e.navigationEndpoint),this.description_snippet=new Nu(e.descriptionSnippet)}};n($i,"Channel");Nd.exports=$i});var Md=l((Ik,Fd)=>{"use strict";var Zq=O(),jq=L(),pn=C(),e1=q(),Wi=class{type="ChannelAboutFullMetadata";constructor(e){this.id=e.channelId,this.name=new pn(e.title),this.avatar=Zq.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.views=new pn(e.viewCountText),this.joined=new pn(e.joinedDateText),this.description=new pn(e.description),this.email_reveal=new jq(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new pn(e.country),this.buttons=e1.parse(e.actionButtons)}};n(Wi,"ChannelAboutFullMetadata");Fd.exports=Wi});var Yd=l((Ck,Vd)=>{"use strict";var t1=q(),n1=C(),Ji=class{type="ChannelFeaturedContent";constructor(e){this.title=new n1(e.title),this.items=t1.parse(e.items)}};n(Ji,"ChannelFeaturedContent");Vd.exports=Ji});var $d=l((Pk,Gd)=>{"use strict";var i1=L(),s1=C(),r1=O(),gn=class{constructor(e){this.endpoint=new i1(e.navigationEndpoint),this.icon=r1.fromResponse(e.icon),this.title=new s1(e.title)}};n(gn,"HeaderLink");var Hi=class{type="ChannelHeaderLinks";constructor(e){var t,i;this.primary=((t=e.primaryLinks)==null?void 0:t.map(a=>new gn(a)))||[],this.secondary=((i=e.secondaryLinks)==null?void 0:i.map(a=>new gn(a)))||[]}};n(Hi,"ChannelHeaderLinks");Gd.exports=Hi});var Jd=l((Rk,Wd)=>{"use strict";var o1=O(),Ki=class{type="ChannelMetadata";constructor(e){this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_urls=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=o1.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ki,"ChannelMetadata");Wd.exports=Ki});var Kd=l((Ak,Hd)=>{"use strict";var c1=C(),zi=class{constructor(e){this.title=new c1(e.title)}};n(zi,"ChannelMobileHeader");Hd.exports=zi});var Xd=l((kk,zd)=>{"use strict";var a1=O(),u1=L(),Xi=class{type="ChannelThumbnailWithLink";constructor(e){this.thumbnails=a1.fromResponse(e.thumbnail),this.endpoint=new u1(e.navigationEndpoint),this.label=e.accessibility.accessibilityData.label}};n(Xi,"ChannelThumbnailWithLink");zd.exports=Xi});var Zd=l((Lk,Qd)=>{"use strict";var Qi=C(),Zi=class{type="ChannelVideoPlayer";constructor(e){this.id=e.videoId,this.title=new Qi(e.title,""),this.description=new Qi(e.description,""),this.views=new Qi(e.viewCountText,""),this.published_at=new Qi(e.publishedTimeText,"")}};n(Zi,"ChannelVideoPlayer");Qd.exports=Zi});var ep=l((fk,jd)=>{"use strict";var l1=L(),h1=V(),d1=C(),ji=class{type="ChildVideo";constructor(e){this.id=e.videoId,this.title=new d1(e.title),this.duration={text:e.lengthText.simpleText,seconds:h1.timeToSeconds(e.lengthText.simpleText)},this.endpoint=new l1(e.navigationEndpoint)}};n(ji,"ChildVideo");jd.exports=ji});var np=l((Ok,tp)=>{"use strict";var Bu=q(),es=class{type="ChipCloud";constructor(e){this.chips=Bu.parse(e.chips),this.next_button=Bu.parse(e.nextButton),this.previous_button=Bu.parse(e.previousButton),this.horizontal_scrollable=e.horizontalScrollable}};n(es,"ChipCloud");tp.exports=es});var sp=l((Dk,ip)=>{"use strict";var p1=C(),g1=L(),ts=class{type="ChipCloudChip";constructor(e){this.is_selected=e.isSelected,this.endpoint=e.navigationEndpoint&&new g1(e.navigationEndpoint),this.text=new p1(e.text).toString()}};n(ts,"ChipCloudChip");ip.exports=ts});var op=l((Uk,rp)=>{"use strict";var _1=L(),Fu=O(),ns=class{type="CollageHeroImage";constructor(e){this.left=Fu.fromResponse(e.leftThumbnail),this.top_right=Fu.fromResponse(e.topRightThumbnail),this.bottom_right=Fu.fromResponse(e.bottomRightThumbnail),this.endpoint=new _1(e.navigationEndpoint)}};n(ns,"CollageHeroImage");rp.exports=ns});var ap=l((Nk,cp)=>{"use strict";var _n,is=class{constructor(e){ce(this,"type","AuthorCommentBadge");E(this,_n,void 0);this.icon_type=e.icon.iconType,this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,_n,e)}get orig_badge(){return u(this,_n)}};n(is,"AuthorCommentBadge"),_n=new WeakMap;cp.exports=is});var lp=l((Bk,up)=>{"use strict";var Mu=q(),Vu=C(),m1=O(),y1=ie(),v1=gt(),{InnertubeError:Yu}=V(),Ye,ss=class{constructor(e){ce(this,"type","Comment");E(this,Ye,void 0);var t,i;this.content=new Vu(e.contentText),this.published=new Vu(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=m1.fromResponse(e.currentUserReplyThumbnail),this.author_badge=Mu.parse(e.authorCommentBadge,"comments"),this.author=new y1({...e.authorText,navigationEndpoint:e.authorEndpoint},this.author_badge?[{metadataBadgeRenderer:(t=this.author_badge)==null?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=Mu.parse(e.actionMenu),this.action_buttons=Mu.parse(e.actionButtons,"comments"),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count={text:e.voteCount?(i=e.voteCount.accessibility.accessibilityData)==null?void 0:i.label.replace(/\D/g,""):"0",short_text:e.voteCount?new Vu(e.voteCount).toString():"0"},this.reply_count=e.replyCount||0,this.is_liked=this.action_buttons.like_button.is_toggled,this.is_disliked=this.action_buttons.dislike_button.is_toggled,this.is_pinned=!!e.pinnedCommentBadge}async like(){let e=this.action_buttons.like_button;if(e.is_toggled)throw new Yu("This comment is already liked",{comment_id:this.comment_id});return await e.endpoint.callTest(u(this,Ye),{parse:!1})}async dislike(){let e=this.action_buttons.dislike_button;if(e.is_toggled)throw new Yu("This comment is already disliked",{comment_id:this.comment_id});return await e.endpoint.callTest(u(this,Ye),{parse:!1})}async reply(e){if(!this.action_buttons.reply_button)throw new Yu("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let i=this.action_buttons.reply_button.endpoint.dialog.reply_button,a={params:{commentText:e}};return await i.endpoint.callTest(u(this,Ye),a)}async translate(e){let i={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},a=v1.encodeCommentActionParams(22,i),r=await u(this,Ye).execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),c=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload.translatedContent.content;return{...r,content:c}}setActions(e){I(this,Ye,e)}};n(ss,"Comment"),Ye=new WeakMap;up.exports=ss});var dp=l((Fk,hp)=>{"use strict";var Gu=q(),rs=class{type="CommentActionButtons";constructor(e){this.like_button=Gu.parse(e.likeButton),this.dislike_button=Gu.parse(e.dislikeButton),this.reply_button=Gu.parse(e.replyButton)}};n(rs,"CommentActionButtons");hp.exports=rs});var gp=l((Mk,pp)=>{"use strict";var $u=q(),os=class{type="CommentReplies";constructor(e){this.contents=$u.parse(e.contents),this.view_replies=$u.parse(e.viewReplies),this.hide_replies=$u.parse(e.hideReplies)}};n(os,"CommentReplies");pp.exports=os});var vp=l((Vk,yp)=>{"use strict";var _p=q(),w1=O(),mp=C(),cs=class{type="CommentReplyDialog";constructor(e){this.reply_button=_p.parse(e.replyButton),this.cancel_button=_p.parse(e.cancelButton),this.author_thumbnail=w1.fromResponse(e.authorThumbnail),this.placeholder=new mp(e.placeholderText),this.error_message=new mp(e.errorMessage)}};n(cs,"CommentReplyDialog");yp.exports=cs});var xp=l((Yk,wp)=>{"use strict";var as=C(),x1=O(),us=class{type="CommentsEntryPointHeader";constructor(e){this.header=new as(e.headerText),this.comment_count=new as(e.commentCount),this.teaser_avatar=x1.fromResponse(e.teaserAvatar||e.simpleboxAvatar),this.teaser_content=new as(e.teaserContent),this.simplebox_placeholder=new as(e.simpleboxPlaceholder)}};n(us,"CommentsEntryPointHeader");wp.exports=us});var Tp=l((Gk,Ep)=>{"use strict";var bp=q(),Wu=C(),b1=O(),ls=class{type="CommentsHeader";constructor(e){var t;this.title=new Wu(e.titleText),this.count=new Wu(e.countText),this.comments_count=new Wu(e.commentsCount),this.create_renderer=bp.parse(e.createRenderer,"comments"),this.sort_menu=bp.parse(e.sortMenu),this.custom_emojis=((t=e.customEmojis)==null?void 0:t.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:b1.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))||null}};n(ls,"CommentsHeader");Ep.exports=ls});var Ip=l(($k,Sp)=>{"use strict";var qp=q(),E1=O(),T1=C(),hs=class{type="CommentSimplebox";constructor(e){this.submit_button=qp.parse(e.submitButton),this.cancel_button=qp.parse(e.cancelButton),this.author_thumbnails=E1.fromResponse(e.authorThumbnail),this.placeholder=new T1(e.placeholderText),this.avatar_size=e.avatarSize}};n(hs,"CommentSimplebox");Sp.exports=hs});var Rp=l((Wk,Pp)=>{"use strict";var Cp=q(),{InnertubeError:Ju}=V(),mt,Ge,nt,ds=class{constructor(e){ce(this,"type","CommentThread");E(this,mt,void 0);E(this,Ge,void 0);E(this,nt,void 0);this.comment=Cp.parse(e.comment),I(this,mt,Cp.parse(e.replies)),this.is_moderated_elq_comment=e.isModeratedElqComment}async getReplies(){var i;if(!u(this,mt))throw new Ju("This comment has no replies.",{comment_id:this.comment.comment_id});let t=await u(this,mt).contents.get({type:"ContinuationItem"}).endpoint.callTest(u(this,Ge));return this.replies=t.on_response_received_endpoints_memo.get("Comment").map(a=>(a.setActions(u(this,Ge)),a)),I(this,nt,(i=t.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:i[0]),this}async getContinuation(){var t;if(!this.replies)throw new Ju("Continuation not available.");if(!u(this,nt))throw new Ju("Continuation not found.");let e=await u(this,nt).button.endpoint.callTest(u(this,Ge));return this.replies=e.on_response_received_endpoints_memo.get("Comment").map(i=>(i.setActions(u(this,Ge)),i)),I(this,nt,(t=e.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:t[0]),this}setActions(e){I(this,Ge,e)}};n(ds,"CommentThread"),mt=new WeakMap,Ge=new WeakMap,nt=new WeakMap;Pp.exports=ds});var kp=l((Jk,Ap)=>{"use strict";var q1=C(),S1=L(),ps=class{type="CompactLink";constructor(e){this.title=new q1(e.title).toString(),this.endpoint=new S1(e.navigationEndpoint),this.style=e.style}};n(ps,"CompactLink");Ap.exports=ps});var yt=l((Hk,Lp)=>{"use strict";var I1=ie(),gs=class extends I1{constructor(e){super(e),delete this.badges,delete this.is_verified,delete this.is_verified_artist}};n(gs,"PlaylistAuthor");Lp.exports=gs});var mn=l((Kk,fp)=>{"use strict";var _s=C(),ms=q(),C1=O(),P1=L(),R1=yt(),ys=class{type="Playlist";constructor(e){var t;this.id=e.playlistId,this.title=new _s(e.title),this.author=(t=e.shortBylineText)!=null&&t.simpleText?new _s(e.shortBylineText):new R1(e.longBylineText,e.ownerBadges,null),this.thumbnails=C1.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(i=>i.thumbnails).flat(1)}),this.video_count=new _s(e.thumbnailText),this.video_count_short=new _s(e.videoCountShortText),this.first_videos=ms.parse(e.videos)||[],this.share_url=e.shareUrl||null,this.menu=ms.parse(e.menu),this.badges=ms.parse(e.ownerBadges),this.endpoint=new P1(e.navigationEndpoint),this.thumbnail_overlays=ms.parse(e.thumbnailOverlays)||[]}};n(ys,"Playlist");fp.exports=ys});var Dp=l((zk,Op)=>{"use strict";var A1=mn(),vs=class extends A1{type="CompactMix";constructor(e){super(e)}};n(vs,"CompactMix");Op.exports=vs});var Np=l((Xk,Up)=>{"use strict";var k1=mn(),ws=class extends k1{type="CompactPlaylist";constructor(e){super(e)}};n(ws,"CompactPlaylist");Up.exports=ws});var Fp=l((Qk,Bp)=>{"use strict";var Hu=q(),vt=C(),L1=ie(),f1=V(),O1=O(),D1=L(),xs=class{type="CompactVideo";constructor(e){this.id=e.videoId,this.thumbnails=O1.fromResponse(e.thumbnail)||null,this.rich_thumbnail=e.richThumbnail&&Hu.parse(e.richThumbnail),this.title=new vt(e.title),this.author=new L1(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new vt(e.viewCountText),this.short_view_count=new vt(e.shortViewCountText),this.published=new vt(e.publishedTimeText),this.duration={text:new vt(e.lengthText).toString(),seconds:f1.timeToSeconds(new vt(e.lengthText).toString())},this.thumbnail_overlays=Hu.parse(e.thumbnailOverlays),this.endpoint=new D1(e.navigationEndpoint),this.menu=Hu.parse(e.menu)}get best_thumbnail(){return this.thumbnails[0]}};n(xs,"CompactVideo");Bp.exports=xs});var Vp=l((Zk,Mp)=>{"use strict";var U1=q(),N1=L(),bs=class{type="ContinuationItem";constructor(e){this.trigger=e.trigger,e.button&&(this.button=U1.parse(e.button)),this.endpoint=new N1(e.continuationEndpoint)}};n(bs,"ContinuationItem");Mp.exports=bs});var Gp=l((jk,Yp)=>{"use strict";var Es=class{type="CtaGoToCreatorStudio";constructor(e){this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(Es,"CtaGoToCreatorStudio");Yp.exports=Es});var Wp=l((eL,$p)=>{"use strict";var B1=C(),F1=L(),Ts=class{type="DidYouMean";constructor(e){this.corrected_query=new B1(e.correctedQuery),this.endpoint=new F1(e.navigationEndpoint)}};n(Ts,"DidYouMean");$p.exports=Ts});var Hp=l((tL,Jp)=>{"use strict";var M1=L(),qs=class{type="DownloadButton";constructor(e){this.style=e.style,this.size=e.size,this.endpoint=new M1(e.command),this.target_id=e.targetId}};n(qs,"DownloadButton");Jp.exports=qs});var zp=l((nL,Kp)=>{"use strict";var V1=q(),Ss=class{type="Element";constructor(e){let t=e.newElement.type.componentType;return V1.parse(t.model)}};n(Ss,"Element");Kp.exports=Ss});var Zp=l((iL,Qp)=>{"use strict";var Y1=C(),Xp=q(),Is=class{type="EmergencyOnebox";constructor(e){this.title=new Y1(e.title),this.first_option=Xp.parse(e.firstOption),this.menu=Xp.parse(e.menu)}};n(Is,"EmergencyOnebox");Qp.exports=Is});var eg=l((sL,jp)=>{"use strict";var G1=q(),Cs=class{type="Endscreen";constructor(e){this.elements=G1.parse(e.elements),this.start_ms=e.startMs}};n(Cs,"Endscreen");jp.exports=Cs});var sg=l((rL,ig)=>{"use strict";var tg=q(),ng=O(),$1=L(),Ku=C(),Ps=class{type="EndscreenElement";constructor(e){this.style=e.style,this.title=new Ku(e.title),this.endpoint=new $1(e.endpoint),e.image&&(this.image=ng.fromResponse(e.image)),e.icon&&(this.icon=ng.fromResponse(e.icon)),e.metadata&&(this.metadata=new Ku(e.metadata)),e.callToAction&&(this.call_to_action=new Ku(e.callToAction)),e.hovercardButton&&(this.hovercard_button=tg.parse(e.hovercardButton)),e.isSubscribe&&(this.is_subscribe=e.isSubscribe),this.thumbnail_overlays=tg.parse(e.thumbnailOverlays),this.left=e.left,this.width=e.width,this.top=e.top,this.aspect_ratio=e.aspectRatio,this.start_ms=e.startMs,this.end_ms=e.endMs,this.id=e.id}};n(Ps,"EndscreenElement");ig.exports=Ps});var og=l((oL,rg)=>{"use strict";var zu=C(),W1=O(),J1=L(),Rs=class{type="EndScreenPlaylist";constructor(e){this.id=e.playlistId,this.title=new zu(e.title),this.author=new zu(e.longBylineText),this.endpoint=new J1(e.navigationEndpoint),this.thumbnails=W1.fromResponse(e.thumbnail),this.video_count=new zu(e.videoCountText)}};n(Rs,"EndScreenPlaylist");rg.exports=Rs});var ug=l((cL,ag)=>{"use strict";var cg=q(),Xu=C(),H1=ie(),K1=O(),z1=L(),As=class{type="EndScreenVideo";constructor(e){this.id=e.videoId,this.title=new Xu(e.title),this.thumbnails=K1.fromResponse(e.thumbnail),this.thumbnail_overlays=cg.parse(e.thumbnailOverlays),this.author=new H1(e.shortBylineText,e.ownerBadges),this.endpoint=new z1(e.navigationEndpoint),this.short_view_count_text=new Xu(e.shortViewCountText),this.badges=cg.parse(e.badges),this.duration={text:new Xu(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(As,"EndScreenVideo");ag.exports=As});var hg=l((aL,lg)=>{"use strict";var X1=q(),Q1=L(),ks=class{type="ExpandableTab";constructor(e){this.title=e.title,this.endpoint=new Q1(e.endpoint),this.selected=e.selected,this.content=e.content?X1.parse(e.content):null}};n(ks,"ExpandableTab");lg.exports=ks});var pg=l((uL,dg)=>{"use strict";var Z1=q(),Ls=class{type="ExpandedShelfContents";constructor(e){this.items=Z1.parse(e.items)}get contents(){return this.items}};n(Ls,"ExpandedShelfContents");dg.exports=Ls});var _g=l((lL,gg)=>{"use strict";var j1=q(),fs=class{type="FeedFilterChipBar";constructor(e){this.contents=j1.parse(e.contents)}};n(fs,"FeedFilterChipBar");gg.exports=fs});var yg=l((hL,mg)=>{"use strict";var eS=C(),Os=class{constructor(e){this.title=new eS(e.title)}};n(Os,"FeedTabbedHeader");mg.exports=Os});var wg=l((dL,vg)=>{"use strict";var tS=q(),Ds=class{type="Grid";constructor(e){this.items=tS.parse(e.items),this.is_collapsible=e.isCollapsible,this.visible_row_count=e.visibleRowCount,this.target_id=e.targetId}get contents(){return this.items}};n(Ds,"Grid");vg.exports=Ds});var Eg=l((pL,bg)=>{"use strict";var nS=ie(),iS=q(),sS=L(),xg=C(),Us=class{type="GridChannel";constructor(e){this.id=e.channelId,this.author=new nS({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new xg(e.subscriberCountText),this.video_count=new xg(e.videoCountText),this.endpoint=new sS(e.navigationEndpoint),this.subscribe_button=iS.parse(e.subscribeButton)}};n(Us,"GridChannel");bg.exports=Us});var Ig=l((gL,Sg)=>{"use strict";var Qu=C(),Tg=q(),qg=O(),rS=yt(),oS=L(),cS=ki(),Ns=class{type="GridPlaylist";constructor(e){var t;this.id=e.playlistId,this.title=new Qu(e.title),e.shortBylineText&&(this.author=new rS(e.shortBylineText,e.ownerBadges)),this.badges=Tg.parse(e.ownerBadges),this.endpoint=new oS(e.navigationEndpoint),this.view_playlist=new cS(e.viewPlaylistText),this.thumbnails=qg.fromResponse(e.thumbnail),this.thumbnail_renderer=Tg.parse(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((t=e.sidebarThumbnails)==null?void 0:t.map(i=>qg.fromResponse(i)))||[])||null,this.video_count=new Qu(e.thumbnailText),this.video_count_short_text=new Qu(e.videoCountShortText)}};n(Ns,"GridPlaylist");Sg.exports=Ns});var Pg=l((_L,Cg)=>{"use strict";var Zu=q(),wt=C(),aS=O(),uS=L(),lS=ie(),Bs=class{type="GridVideo";constructor(e){var i;let t=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new wt(e.title),this.thumbnails=aS.fromResponse(e.thumbnail),this.thumbnail_overlays=Zu.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&Zu.parse(e.richThumbnail),this.published=new wt(e.publishedTimeText),this.duration=e.lengthText?new wt(e.lengthText):t!=null&&t.text?new wt(t.text):"",this.author=e.shortBylineText&&new lS(e.shortBylineText,e.ownerBadges),this.views=new wt(e.viewCountText),this.short_view_count=new wt(e.shortViewCountText),this.endpoint=new uS(e.navigationEndpoint),this.menu=Zu.parse(e.menu)}};n(Bs,"GridVideo");Cg.exports=Bs});var ju=l((mL,Ag)=>{"use strict";var hS=C(),Rg=L(),Fs=class{type="SearchSuggestion";constructor(e){this.suggestion=new hS(e.suggestion),this.endpoint=new Rg(e.navigationEndpoint),this.icon_type=e.icon.iconType,e.serviceEndpoint&&(this.service_endpoint=new Rg(e.serviceEndpoint))}};n(Fs,"SearchSuggestion");Ag.exports=Fs});var Lg=l((yL,kg)=>{"use strict";var dS=ju(),Ms=class extends dS{type="HistorySuggestion";constructor(e){super(e)}};n(Ms,"HistorySuggestion");kg.exports=Ms});var Og=l((vL,fg)=>{"use strict";var Vs=q(),Ys=class{type="HorizontalCardList";constructor(e){this.cards=Vs.parse(e.cards),this.header=Vs.parse(e.header),this.previous_button=Vs.parse(e.previousButton),this.next_button=Vs.parse(e.nextButton)}};n(Ys,"HorizontalCardList");fg.exports=Ys});var Ug=l((wL,Dg)=>{"use strict";var pS=q(),Gs=class{type="HorizontalList";constructor(e){this.visible_item_count=e.visibleItemCount,this.items=pS.parse(e.items)}get contents(){return this.items}};n(Gs,"HorizontalList");Dg.exports=Gs});var Fg=l((xL,Bg)=>{"use strict";var Ng=q(),$s=class{type="ItemSection";constructor(e){this.header=Ng.parse(e.header),this.contents=Ng.parse(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=(e==null?void 0:e.target_id)||(e==null?void 0:e.sectionIdentifier))}};n($s,"ItemSection");Bg.exports=$s});var Vg=l((bL,Mg)=>{"use strict";var gS=C(),Ws=class{constructor(e){this.title=new gS(e.title)}};n(Ws,"ItemSectionHeader");Mg.exports=Ws});var Gg=l((EL,Yg)=>{"use strict";var _S=L(),Js=class{type="LikeButton";constructor(e){var t;this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,e.serviceEndpoints&&(this.endpoints=(t=e.serviceEndpoints)==null?void 0:t.map(i=>new _S(i)))}};n(Js,"LikeButton");Yg.exports=Js});var Wg=l((TL,$g)=>{"use strict";var mS=q(),yn=C(),Hs=class{type="LiveChat";constructor(e){var t,i;this.header=mS.parse(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.reloadContinuationData)==null?void 0:i.continuation,this.client_messages={reconnect_message:new yn(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new yn(e.clientMessages.unableToReconnectMessage),fatal_error:new yn(e.clientMessages.fatalError),reconnected_message:new yn(e.clientMessages.reconnectedMessage),generic_error:new yn(e.clientMessages.genericError)},this.is_replay=e.isReplay||!1}};n(Hs,"LiveChat");$g.exports=Hs});var Hg=l((qL,Jg)=>{"use strict";var yS=q(),Ks=class{constructor(e){return yS.parse(e.bannerRenderer)}};n(Ks,"AddBannerToLiveChatCommand");Jg.exports=Ks});var zg=l((SL,Kg)=>{"use strict";var vS=q(),zs=class{type="AddChatItemAction";constructor(e){this.item=vS.parse(e.item),this.client_id=e.clientId||null}};n(zs,"AddChatItemAction");Kg.exports=zs});var Qg=l((IL,Xg)=>{"use strict";var wS=q(),Xs=class{type="AddLiveChatTickerItemAction";constructor(e){this.item=wS.parse(e.item),this.duration_sec=e.durationSec}};n(Xs,"AddLiveChatTickerItemAction");Xg.exports=Xs});var e_=l((CL,jg)=>{"use strict";var Zg=q(),Qs=class{type="LiveChatBanner";constructor(e){this.header=Zg.parse(e.header,"livechat/items"),this.contents=Zg.parse(e.contents,"livechat/items"),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Qs,"LiveChatBanner");jg.exports=Qs});var n_=l((PL,t_)=>{"use strict";var xS=q(),bS=C(),Zs=class{type="LiveChatBannerHeader";constructor(e){this.text=new bS(e.text).toString(),this.icon_type=e.icon.iconType,this.context_menu_button=xS.parse(e.contextMenuButton)}};n(Zs,"LiveChatBannerHeader");t_.exports=Zs});var r_=l((RL,s_)=>{"use strict";var ES=q(),i_=C(),TS=O(),js=class{type="LiveChatBannerPoll";constructor(e){this.poll_question=new i_(e.pollQuestion),this.author_photo=TS.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(t=>({option_id:t.pollOptionId,text:new i_(t.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=ES.parse(e.contextMenuButton)}};n(js,"LiveChatBannerPoll");s_.exports=js});var a_=l((AL,c_)=>{"use strict";var qS=q(),o_=C(),SS=O(),IS=L(),er=class{type="LiveChatMembershipItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new o_(e.headerSubtext),this.author={id:e.authorExternalChannelId,name:new o_(e==null?void 0:e.authorName),thumbnails:SS.fromResponse(e.authorPhoto),badges:qS.parse(e.authorBadges)},this.menu_endpoint=new IS(e.contextMenuEndpoint)}};n(er,"LiveChatMembershipItem");c_.exports=er});var h_=l((kL,l_)=>{"use strict";var tr=C(),CS=O(),PS=L(),u_=q(),nr=class{type="LiveChatPaidMessage";constructor(e){this.message=new tr(e.message),this.author={id:e.authorExternalChannelId,name:new tr(e.authorName),thumbnails:CS.fromResponse(e.authorPhoto),badges:u_.parse(e.authorBadges)};let t=u_.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.purchase_amount=new tr(e.purchaseAmountText).toString(),this.menu_endpoint=new PS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new tr(e.timestampText).toString(),this.id=e.id}};n(nr,"LiveChatPaidMessage");l_.exports=nr});var __=l((LL,g_)=>{"use strict";var RS=q(),AS=L(),d_=O(),p_=C(),ir=class{type="LiveChatPaidSticker";constructor(e){this.id=e.id,this.author={id:e.authorExternalChannelId,name:new p_(e.authorName),thumbnails:d_.fromResponse(e.authorPhoto),badges:RS.parse(e.authorBadges)},this.sticker=d_.fromResponse(e.sticker),this.purchase_amount=new p_(e.purchaseAmountText).toString(),this.context_menu=new AS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(ir,"LiveChatPaidSticker");g_.exports=ir});var y_=l((fL,m_)=>{"use strict";var sr=class{type="LiveChatPlaceholderItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(sr,"LiveChatPlaceholderItem");m_.exports=sr});var el=l((OL,w_)=>{"use strict";var v_=C(),kS=O(),LS=L(),fS=q(),rr=class{type="LiveChatTextMessage";constructor(e){this.message=new v_(e.message),this.author={id:e.authorExternalChannelId,name:new v_(e.authorName),thumbnails:kS.fromResponse(e.authorPhoto)};let t=fS.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.menu_endpoint=new LS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(rr,"LiveChatTextMessage");w_.exports=rr});var b_=l((DL,x_)=>{"use strict";var OS=C(),DS=O(),US=L(),tl=q(),or=class{type="LiveChatTickerPaidMessageItem";constructor(e){this.author={id:e.authorExternalChannelId,thumbnails:DS.fromResponse(e.authorPhoto),badges:tl.parse(e.authorBadges)};let t=tl.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.amount=new OS(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=tl.parse(e.showItemEndpoint.showLiveChatItemEndpoint.renderer,"livechat/items"),this.show_item_endpoint=new US(e.showItemEndpoint),this.id=e.id}};n(or,"LiveChatTickerPaidMessageItem");x_.exports=or});var q_=l((UL,T_)=>{"use strict";var E_=C(),NS=O(),cr=class{type="LiveChatTickerSponsorItem";constructor(e){this.id=e.id,this.detail_text=new E_(e.detailText).toString(),this.author={id:e.authorExternalChannelId,name:new E_(e==null?void 0:e.authorName),thumbnails:NS.fromResponse(e.sponsorPhoto)},this.duration_sec=e.durationSec}};n(cr,"LiveChatTickerSponsorItem");T_.exports=cr});var I_=l((NL,S_)=>{"use strict";var BS=el(),FS=q(),ar=class extends BS{type="LiveChatViewerEngagementMessage";constructor(e){super(e),delete this.author,delete this.menu_endpoint,this.icon_type=e.icon.iconType,this.action_button=FS.parse(e.actionButton)}};n(ar,"LiveChatViewerEngagementMessage");S_.exports=ar});var R_=l((BL,P_)=>{"use strict";var C_=C(),MS=O(),VS=q(),ur=class{type="PollHeader";constructor(e){this.poll_question=new C_(e.pollQuestion),this.thumbnails=MS.fromResponse(e.thumbnail),this.metadata=new C_(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=VS.parse(e.contextMenuButton)}};n(ur,"PollHeader");P_.exports=ur});var k_=l((FL,A_)=>{"use strict";var YS=q(),lr=class{type="LiveChatActionPanel";constructor(e){this.id=e.id,this.contents=YS.parse(e.contents),this.target_id=e.targetId}};n(lr,"LiveChatActionPanel");A_.exports=lr});var f_=l((ML,L_)=>{"use strict";var GS=C(),hr=class{type="MarkChatItemAsDeletedAction";constructor(e){this.deleted_state_message=new GS(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(hr,"MarkChatItemAsDeletedAction");L_.exports=hr});var D_=l((VL,O_)=>{"use strict";var $S=C(),dr=class{type="MarkChatItemsByAuthorAsDeletedAction";constructor(e){this.deleted_state_message=new $S(e.deletedStateMessage),this.channel_id=e.externalChannelId}};n(dr,"MarkChatItemsByAuthorAsDeletedAction");O_.exports=dr});var N_=l((YL,U_)=>{"use strict";var pr=class{type="RemoveBannerForLiveChatCommand";constructor(e){this.target_action_id=e.targetActionId}};n(pr,"RemoveBannerForLiveChatCommand");U_.exports=pr});var F_=l((GL,B_)=>{"use strict";var WS=q(),gr=class{constructor(e){this.target_item_id=e.targetItemId,this.replacement_item=WS.parse(e.replacementItem)}};n(gr,"ReplaceChatItemAction");B_.exports=gr});var V_=l(($L,M_)=>{"use strict";var JS=q(),_r=class{type="ReplayChatItemAction";constructor(e){var t;this.actions=JS.parse((t=e.actions)==null?void 0:t.map(i=>(delete i.clickTrackingParams,i)))||[],this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(_r,"ReplayChatItemAction");M_.exports=_r});var G_=l((WL,Y_)=>{"use strict";var HS=q(),mr=class{type="ShowLiveChatActionPanelAction";constructor(e){this.panel_to_show=HS.parse(e.panelToShow)}};n(mr,"ShowLiveChatActionPanelAction");Y_.exports=mr});var W_=l((JL,$_)=>{"use strict";var KS=q(),yr=class{type="ShowLiveChatTooltipCommand";constructor(e){this.tooltip=KS.parse(e.tooltip)}};n(yr,"ShowLiveChatTooltipCommand");$_.exports=yr});var H_=l((HL,J_)=>{"use strict";var zS=C(),vr=class{type="UpdateDateTextAction";constructor(e){this.date_text=new zS(e.dateText).toString()}};n(vr,"UpdateDateTextAction");J_.exports=vr});var z_=l((KL,K_)=>{"use strict";var XS=C(),wr=class{type="UpdateDescriptionAction";constructor(e){this.description=new XS(e.description)}};n(wr,"UpdateDescriptionAction");K_.exports=wr});var Q_=l((zL,X_)=>{"use strict";var QS=q(),xr=class{type="UpdateLiveChatPollAction";constructor(e){this.poll_to_update=QS.parse(e.pollToUpdate)}};n(xr,"UpdateLiveChatPollAction");X_.exports=xr});var j_=l((XL,Z_)=>{"use strict";var ZS=C(),br=class{type="UpdateTitleAction";constructor(e){this.title=new ZS(e.title)}};n(br,"UpdateTitleAction");Z_.exports=br});var nm=l((QL,tm)=>{"use strict";var em=C(),Er=class{type="UpdateToggleButtonTextAction";constructor(e){this.default_text=new em(e.defaultText).toString(),this.toggled_text=new em(e.toggledText).toString(),this.button_id=e.buttonId}};n(Er,"UpdateToggleButtonTextAction");tm.exports=Er});var rm=l((ZL,sm)=>{"use strict";var im=C(),Tr=class{type="UpdateViewershipAction";constructor(e){let t=e.viewCount.videoViewCountRenderer;this.view_count=new im(t.viewCount),this.extra_short_view_count=new im(t.extraShortViewCount),this.is_live=t.isLive}};n(Tr,"UpdateViewershipAction");sm.exports=Tr});var nl=l((jL,om)=>{"use strict";var qr=class{constructor(e){e.icon&&(this.icon_type=e.icon.iconType),e.style&&(this.style=e.style),this.tooltip=e.tooltip||e.iconTooltip||null}};n(qr,"MetadataBadge");om.exports=qr});var am=l((e8,cm)=>{"use strict";var jS=nl(),eI=O(),Sr=class extends jS{constructor(e){super(e),this.custom_thumbnail=e.customThumbnail?eI.fromResponse(e.customThumbnail):null}};n(Sr,"LiveChatAuthorBadge");cm.exports=Sr});var lm=l((t8,um)=>{"use strict";var il=q(),Ir=class{type="LiveChatHeader";constructor(e){this.overflow_menu=il.parse(e.overflowMenu),this.collapse_button=il.parse(e.collapseButton),this.view_selector=il.parse(e.viewSelector)}};n(Ir,"LiveChatHeader");um.exports=Ir});var dm=l((n8,hm)=>{"use strict";var tI=q(),Cr=class{type="LiveChatItemList";constructor(e){this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=tI.parse(e.moreCommentsBelowButton)}};n(Cr,"LiveChatItemList");hm.exports=Cr});var gm=l((i8,pm)=>{"use strict";var nI=C(),iI=q(),sI=O(),Pr=class{constructor(e){this.author_name=new nI(e.authorName),this.author_photo=sI.fromResponse(e.authorPhoto),this.send_button=iI.parse(e.sendButton),this.target_id=e.targetId}};n(Pr,"LiveChatMessageInput");pm.exports=Pr});var mm=l((s8,_m)=>{"use strict";var rI=q(),oI=C(),cI=O(),Rr=class{type="LiveChatParticipant";constructor(e){this.name=new oI(e.authorName),this.photo=cI.fromResponse(e.authorPhoto),this.badges=rI.parse(e.authorBadges)}};n(Rr,"LiveChatParticipant");_m.exports=Rr});var vm=l((r8,ym)=>{"use strict";var aI=q(),uI=C(),Ar=class{type="LiveChatParticipantsList";constructor(e){this.title=new uI(e.title),this.participants=aI.parse(e.participants)}};n(Ar,"LiveChatParticipantsList");ym.exports=Ar});var bm=l((o8,xm)=>{"use strict";var wm=q(),kr=class{type="Menu";constructor(e){var t,i;this.items=wm.parse(e.items)||[],this.top_level_buttons=wm.parse(e.topLevelButtons)||[],this.label=((i=(t=e.accessibility)==null?void 0:t.accessibilityData)==null?void 0:i.label)||null}get contents(){return this.items}};n(kr,"Menu");xm.exports=kr});var Tm=l((c8,Em)=>{"use strict";var lI=Fi(),Lr=class extends lI{type="MenuNavigationItem";constructor(e){super(e)}};n(Lr,"MenuNavigationItem");Em.exports=Lr});var Sm=l((a8,qm)=>{"use strict";var hI=Fi(),fr=class extends hI{type="MenuServiceItem";constructor(e){super(e)}};n(fr,"MenuServiceItem");qm.exports=fr});var Cm=l((u8,Im)=>{"use strict";var dI=L(),Or=class{type="MenuServiceItemDownload";constructor(e){this.has_separator=e.hasSeparator,this.endpoint=new dI(e.navigationEndpoint||e.serviceEndpoint)}};n(Or,"MenuServiceItemDownload");Im.exports=Or});var Am=l((l8,Rm)=>{"use strict";var Pm=q(),Dr=class{type="MultiPageMenu";constructor(e){this.header=Pm.parse(e.header),this.sections=Pm.parse(e.sections),this.style=e.style}};n(Dr,"MultiPageMenu");Rm.exports=Dr});var Lm=l((h8,km)=>{"use strict";var pI=q(),Ur=class{type="MultiPageMenuNotificationSection";constructor(e){this.items=pI.parse(e.items)}get contents(){return this.items}};n(Ur,"MultiPageMenuNotificationSection");km.exports=Ur});var Om=l((d8,fm)=>{"use strict";var gI=q(),_I=C(),Nr=class{type="SimpleMenuHeader";constructor(e){this.title=new _I(e.title),this.buttons=gI.parse(e.buttons)}};n(Nr,"SimpleMenuHeader");fm.exports=Nr});var Um=l((p8,Dm)=>{"use strict";var mI=O(),yI=L(),Br=class{type="MerchandiseItem";constructor(e){this.title=e.title,this.description=e.description,this.thumbnails=mI.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new yI(e.buttonCommand)}};n(Br,"MerchandiseItem");Dm.exports=Br});var Fm=l((g8,Bm)=>{"use strict";var Nm=q(),Fr=class{type="MerchandiseShelf";constructor(e){this.title=e.title,this.menu=Nm.parse(e.actionButton),this.items=Nm.parse(e.items)}get contents(){return this.items}};n(Fr,"MerchandiseShelf");Bm.exports=Fr});var Vm=l((_8,Mm)=>{"use strict";var vI=C(),Mr=class{type="Message";constructor(e){this.text=new vI(e.text).toString()}};n(Mr,"Message");Mm.exports=Mr});var $m=l((m8,Gm)=>{"use strict";var Ym=C(),Vr=class{type="MetadataRow";constructor(e){this.title=new Ym(e.title),this.contents=e.contents.map(t=>new Ym(t))}};n(Vr,"MetadataRow");Gm.exports=Vr});var Jm=l((y8,Wm)=>{"use strict";var wI=q(),Yr=class{type="MetadataRowContainer";constructor(e){this.rows=wI.parse(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Yr,"MetadataRowContainer");Wm.exports=Yr});var Km=l((v8,Hm)=>{"use strict";var xI=C(),Gr=class{type="MetadataRowHeader";constructor(e){this.content=new xI(e.content),this.has_divider_line=e.hasDividerLine}};n(Gr,"MetadataRowHeader");Hm.exports=Gr});var Xm=l((w8,zm)=>{"use strict";var bI=O(),$r=class{type="MicroformatData";constructor(e){this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail&&bI.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n($r,"MicroformatData");zm.exports=$r});var Zm=l((x8,Qm)=>{"use strict";var EI=mn(),Wr=class extends EI{type="Mix";constructor(e){super(e)}};n(Wr,"Mix");Qm.exports=Wr});var ey=l((b8,jm)=>{"use strict";var sl=q(),TI=ie(),qI=O(),SI=L(),II=V(),it=C(),Jr=class{type="Movie";constructor(e){var i,a,r;let t=((i=e.thumbnailOverlays.find(o=>o.thumbnailOverlayTimeStatusRenderer))==null?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new it(e.title),this.description_snippet=e.descriptionSnippet?new it(e.descriptionSnippet,""):null,this.top_metadata_items=new it(e.topMetadataItems),this.thumbnails=qI.fromResponse(e.thumbnail),this.thumbnail_overlays=sl.parse(e.thumbnailOverlays),this.author=new TI(e.longBylineText,e.ownerBadges,(r=(a=e.channelThumbnailSupportedRenderers)==null?void 0:a.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.duration={text:e.lengthText?new it(e.lengthText).text:new it(t).text,seconds:II.timeToSeconds(e.lengthText?new it(e.lengthText).text:new it(t).text)},this.endpoint=new SI(e.navigationEndpoint),this.badges=sl.parse(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=sl.parse(e.menu)}};n(Jr,"Movie");jm.exports=Jr});var ny=l((E8,ty)=>{"use strict";var CI=O(),Hr=class{type="MovingThumbnail";constructor(e){var t;return(t=e.movingThumbnailDetails)==null?void 0:t.thumbnails.map(i=>new CI(i)).sort((i,a)=>a.width-i.width)}};n(Hr,"MovingThumbnail");ty.exports=Hr});var ry=l((T8,sy)=>{"use strict";var iy=q(),Kr=class{type="MusicCarouselShelf";constructor(e){this.header=iy.parse(e.header),this.contents=iy.parse(e.contents),e.numItemsPerColumn&&(this.num_items_per_column=e.numItemsPerColumn)}};n(Kr,"MusicCarouselShelf");sy.exports=Kr});var ay=l((q8,cy)=>{"use strict";var oy=C(),PI=O(),zr=class{type="MusicCarouselShelfBasicHeader";constructor(e){e.strapline&&(this.strapline=new oy(e.strapline).toString()),this.title=new oy(e.title).toString(),e.thumbnail&&(this.thumbnail=PI.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail))}};n(zr,"MusicCarouselShelfBasicHeader");cy.exports=zr});var hy=l((S8,ly)=>{"use strict";var uy=C(),Xr=class{type="MusicDescriptionShelf";constructor(e){this.description=new uy(e.description),this.max_collapsed_lines&&(this.max_collapsed_lines=e.maxCollapsedLines),this.max_expanded_lines&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new uy(e.footer)}};n(Xr,"MusicDescriptionShelf");ly.exports=Xr});var gy=l((I8,py)=>{"use strict";var Qr=C(),RI=O(),dy=q(),Zr=class{type="MusicDetailHeader";constructor(e){this.title=new Qr(e.title),this.description=new Qr(e.description),this.subtitle=new Qr(e.subtitle),this.second_subtitle=new Qr(e.secondSubtitle),this.year=this.subtitle.runs.find(i=>/^[12][0-9]{3}$/.test(i.text)).text,this.song_count=this.second_subtitle.runs[0].text,this.total_duration=this.second_subtitle.runs[2].text,this.thumbnails=RI.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=dy.parse(e.subtitleBadges);let t=this.subtitle.runs.find(i=>{var a;return(a=i.endpoint.browse)==null?void 0:a.id.startsWith("UC")});t&&(this.author={name:t.text,channel_id:t.endpoint.browse.id,endpoint:t.endpoint}),this.menu=dy.parse(e.menu)}};n(Zr,"MusicDetailHeader");py.exports=Zr});var my=l((C8,_y)=>{"use strict";var AI=q(),jr=class{type="MusicHeader";constructor(e){this.header=AI.parse(e.header)}};n(jr,"MusicHeader");_y.exports=jr});var wy=l((P8,vy)=>{"use strict";var yy=C(),kI=q(),eo=class{type="MusicImmersiveHeader";constructor(e){this.title=new yy(e.title),this.description=new yy(e.description),this.thumbnails=kI.parse(e.thumbnail)}};n(eo,"MusicImmersiveHeader");vy.exports=eo});var by=l((R8,xy)=>{"use strict";var to=class{type="MusicInlineBadge";constructor(e){this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(to,"MusicInlineBadge");xy.exports=to});var Ty=l((A8,Ey)=>{"use strict";var LI=q(),no=class{type="MusicItemThumbnailOverlay";constructor(e){this.content=LI.parse(e.content),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(no,"MusicItemThumbnailOverlay");Ey.exports=no});var Sy=l((k8,qy)=>{"use strict";var fI=C(),OI=L(),io=class{type="MusicNavigationButton";constructor(e){this.button_text=new fI(e.buttonText).toString(),this.endpoint=new OI(e.navigationEndpoint)}};n(io,"MusicNavigationButton");qy.exports=io});var Cy=l((L8,Iy)=>{"use strict";var DI=L(),so=class{type="MusicPlayButton";constructor(e){var t;this.endpoint=new DI(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,e.accessibilityPlayData&&(this.play_label=e.accessibilityPlayData.accessibilityData.label),e.accessibilityPlayData&&(this.pause_label=(t=e.accessibilityPauseData)==null?void 0:t.accessibilityData.label),this.icon_color=e.iconColor}};n(so,"MusicPlayButton");Iy.exports=so});var Ry=l((f8,Py)=>{"use strict";var UI=q(),vn,ro=class{constructor(e){ce(this,"type","MusicPlaylistShelf");E(this,vn,void 0);this.playlist_id=e.playlistId,this.contents=UI.parse(e.contents),this.collapsed_item_count=e.collapsedItemCount,I(this,vn,e.continuations)}get continuation(){var e,t;return(t=(e=u(this,vn))==null?void 0:e[0])==null?void 0:t.nextContinuationData}};n(ro,"MusicPlaylistShelf"),vn=new WeakMap;Py.exports=ro});var ky=l((O8,Ay)=>{"use strict";var NI=q(),oo=class{type="MusicQueue";constructor(e){this.content=NI.parse(e.content)}};n(oo,"MusicQueue");Ay.exports=oo});var My=l((D8,Fy)=>{"use strict";var wn=q(),BI=C(),Ly=V(),FI=O(),MI=L(),X,xn,xt,ao,fy,uo,Oy,lo,Dy,ho,Uy,po,Ny,go,By,co=class{constructor(e){E(this,ao);E(this,uo);E(this,lo);E(this,ho);E(this,po);E(this,go);E(this,X,void 0);E(this,xn,void 0);E(this,xt,void 0);var t,i,a,r;switch(this.type=null,I(this,X,wn.parse(e.flexColumns)),I(this,xn,wn.parse(e.fixedColumns)),I(this,xt,{video_id:((t=e==null?void 0:e.playlistItemData)==null?void 0:t.videoId)||null,playlist_set_video_id:((i=e==null?void 0:e.playlistItemData)==null?void 0:i.playlistSetVideoId)||null}),this.endpoint=e.navigationEndpoint&&new MI(e.navigationEndpoint)||null,(r=(a=this.endpoint)==null?void 0:a.browse)==null?void 0:r.page_type){case"MUSIC_PAGE_TYPE_ALBUM":this.type="album",f(this,po,Ny).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",f(this,go,By).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.type="artist",f(this,ho,Uy).call(this);break;default:f(this,ao,fy).call(this);break}e.index&&(this.index=new BI(e.index)),this.thumbnails=e.thumbnail?FI.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail):[],this.badges=wn.parse(e.badges)||[],this.menu=wn.parse(e.menu),this.overlay=wn.parse(e.overlay)}};n(co,"MusicResponsiveListItem"),X=new WeakMap,xn=new WeakMap,xt=new WeakMap,ao=new WeakSet,fy=n(function(){var t;((t=u(this,X)[1].title.runs)==null?void 0:t.some(i=>i.text.match(/(.*?) views/)))?(this.type="video",f(this,lo,Dy).call(this)):(this.type="song",f(this,uo,Oy).call(this))},"#parseVideoOrSong"),uo=new WeakSet,Oy=n(function(){var a,r,o,c,p,d,h,_;this.id=u(this,xt).video_id||((a=this.endpoint)==null?void 0:a.watch.video_id),this.title=u(this,X)[0].title.toString();let e=((o=(r=u(this,X)[1].title.runs)==null?void 0:r.find(v=>/^\d+$/.test(v.text.replace(/:/g,""))))==null?void 0:o.text)||((d=(p=(c=u(this,xn))==null?void 0:c[0])==null?void 0:p.title)==null?void 0:d.text);e&&(this.duration={text:e,seconds:Ly.timeToSeconds(e)});let t=(h=u(this,X)[1].title.runs)==null?void 0:h.find(v=>{var x;return(x=v.endpoint.browse)==null?void 0:x.id.startsWith("MPR")});t&&(this.album={id:t.endpoint.browse.id,name:t.text,endpoint:t.endpoint});let i=(_=u(this,X)[1].title.runs)==null?void 0:_.filter(v=>{var x;return(x=v.endpoint.browse)==null?void 0:x.id.startsWith("UC")});i&&(this.artists=i.map(v=>({name:v.text,channel_id:v.endpoint.browse.id,endpoint:v.endpoint})))},"#parseSong"),lo=new WeakSet,Dy=n(function(){var i,a;this.id=u(this,xt).video_id,this.title=u(this,X)[0].title.toString(),this.views=u(this,X)[1].title.runs.find(r=>r.text.match(/(.*?) views/)).text;let e=(i=u(this,X)[1].title.runs)==null?void 0:i.filter(r=>{var o;return(o=r.endpoint.browse)==null?void 0:o.id.startsWith("UC")});e&&(this.authors=e.map(r=>({name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint})));let t=(a=u(this,X)[1].title.runs.find(r=>/^\d+$/.test(r.text.replace(/:/g,""))))==null?void 0:a.text;t&&(this.duration={text:t,seconds:Ly.timeToSeconds(t)})},"#parseVideo"),ho=new WeakSet,Uy=n(function(){var e;this.id=this.endpoint.browse.id,this.name=u(this,X)[0].title.toString(),this.subscribers=((e=u(this,X)[1].title.runs[2])==null?void 0:e.text)||""},"#parseArtist"),po=new WeakSet,Ny=n(function(){this.id=this.endpoint.browse.id,this.title=u(this,X)[0].title.toString();let e=u(this,X)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint}),this.year=u(this,X)[1].title.runs.find(t=>/^[12][0-9]{3}$/.test(t.text)).text},"#parseAlbum"),go=new WeakSet,By=n(function(){this.id=this.endpoint.browse.id,this.title=u(this,X)[0].title.toString(),this.item_count=parseInt(u(this,X)[1].title.runs.find(t=>t.text.match(/\d+ (song|songs)/)).text.match(/\d+/g));let e=u(this,X)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint})},"#parsePlaylist");Fy.exports=co});var Yy=l((U8,Vy)=>{"use strict";var VI=C(),_o=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new VI(e.text),this.display_priority=e.displayPriority}};n(_o,"MusicResponsiveListItemFixedColumn");Vy.exports=_o});var $y=l((N8,Gy)=>{"use strict";var YI=C(),mo=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new YI(e.text),this.display_priority=e.displayPriority}};n(mo,"MusicResponsiveListItemFlexColumn");Gy.exports=mo});var Hy=l((B8,Jy)=>{"use strict";var GI=q(),Wy=C(),$I=L(),yo=class{type="MusicShelf";constructor(e){var t;this.title=new Wy(e.title).toString(),this.contents=GI.parse(e.contents),e.bottomEndpoint&&(this.endpoint=new $I(e.bottomEndpoint)),e.continuations&&(this.continuation=(t=e.continuations)==null?void 0:t[0].nextContinuationData.continuation),e.bottomText&&(this.bottom_text=new Wy(e.bottomText))}};n(yo,"MusicShelf");Jy.exports=yo});var zy=l((F8,Ky)=>{"use strict";var WI=O(),vo=class{type="MusicThumbnail";constructor(e){return WI.fromResponse(e.thumbnail)}};n(vo,"MusicThumbnail");Ky.exports=vo});var Zy=l((M8,Qy)=>{"use strict";var rl=q(),Xy=C(),JI=O(),HI=L(),wo=class{type="MusicTwoRowItem";constructor(e){var t,i,a;switch(this.title=new Xy(e.title),this.endpoint=new HI(e.navigationEndpoint),this.id=((t=this.endpoint.browse)==null?void 0:t.id)||this.endpoint.watch.video_id,this.subtitle=new Xy(e.subtitle),this.badges=rl.parse(e.subtitleBadges),(i=this.endpoint.browse)==null?void 0:i.page_type){case"MUSIC_PAGE_TYPE_ARTIST":this.type="artist",this.subscribers=this.subtitle.toString();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",this.item_count=parseInt((a=this.subtitle.runs.find(o=>o.text.match(/\d+ (songs|song)/)))==null?void 0:a.text.match(/\d+/g))||null;break;case"MUSIC_PAGE_TYPE_ALBUM":this.type="album";let r=this.subtitle.runs.filter(o=>{var c;return(c=o.endpoint.browse)==null?void 0:c.id.startsWith("UC")});r&&(this.artists=r.map(o=>({name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint}))),this.year=this.subtitle.runs.slice(-1)[0].text,isNaN(this.year)&&delete this.year;break;default:if(this.subtitle.runs[0].text!=="Song"?this.type="video":this.type="song",this.type=="video"){this.views=this.subtitle.runs.find(c=>c.text.match(/(.*?) views/)).text;let o=this.subtitle.runs.find(c=>{var p;return(p=c.endpoint.browse)==null?void 0:p.id.startsWith("UC")});o&&(this.author={name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint})}else{let o=this.subtitle.runs.filter(c=>{var p;return(p=c.endpoint.browse)==null?void 0:p.id.startsWith("UC")});o&&(this.artists=o.map(c=>({name:c.text,channel_id:c.endpoint.browse.id,endpoint:c.endpoint})))}break}this.thumbnail=JI.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=rl.parse(e.thumbnailOverlay),this.menu=rl.parse(e.menu)}};n(wo,"MusicTwoRowItem");Qy.exports=wo});var iv=l((V8,nv)=>{"use strict";var KI=q(),jy=C(),ev=O(),tv=L(),xo=class{type="Notification";constructor(e){this.thumbnails=ev.fromResponse(e.thumbnail),this.video_thumbnails=ev.fromResponse(e.videoThumbnail),this.short_message=new jy(e.shortMessage),this.sent_time=new jy(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new tv(e.navigationEndpoint),this.record_click_endpoint=new tv(e.recordClickEndpoint),this.menu=KI.parse(e.contextualMenu),this.read=e.read}};n(xo,"Notification");nv.exports=xo});var rv=l((Y8,sv)=>{"use strict";var zI=q(),XI=O(),QI=L(),bo=class{type="PlayerAnnotationsExpanded";constructor(e){this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:XI.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new QI(e.featuredChannel.navigationEndpoint),subscribe_button:zI.parse(e.featuredChannel.subscribeButton)},this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(bo,"PlayerAnnotationsExpanded");sv.exports=bo});var av=l((G8,cv)=>{"use strict";var ov=C(),Eo=class{type="PlayerCaptionsTracklist";constructor(e){this.caption_tracks=e.captionTracks.map(t=>({base_url:t.baseUrl,name:new ov(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})),this.audio_tracks=e.audioTracks.map(t=>({caption_track_indices:t.captionTrackIndices})),this.translation_languages=e.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new ov(t.languageName)}))}};n(Eo,"PlayerCaptionsTracklist");cv.exports=Eo});var hv=l(($8,lv)=>{"use strict";var ZI=q(),uv=C(),jI=O(),To=class{type="PlayerErrorMessage";constructor(e){this.subreason=new uv(e.subreason),this.reason=new uv(e.reason),this.proceed_button=ZI.parse(e.proceedButton),this.thumbnails=jI.fromResponse(e.thumbnail),this.icon_type=e.icon.iconType}};n(To,"PlayerErrorMessage");lv.exports=To});var pv=l((W8,dv)=>{"use strict";var qo=class{type="PlayerLiveStoryboardSpec";constructor(){}};n(qo,"PlayerLiveStoryboardSpec");dv.exports=qo});var mv=l((J8,_v)=>{"use strict";var gv=C(),eC=O(),So=class{type="PlayerMicroformat";constructor(e){this.title=new gv(e.title),this.description=new gv(e.description),this.thumbnails=eC.fromResponse(e.thumbnail),this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height},this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=e.isFamilySafe,this.is_unlisted=e.isUnlisted,this.has_ypc_metadata=e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries}};n(So,"PlayerMicroformat");_v.exports=So});var vv=l((H8,yv)=>{"use strict";var bn=q(),Io=class{type="PlayerOverlay";constructor(e){this.end_screen=bn.parse(e.endScreen),this.autoplay=bn.parse(e.autoplay),this.share_button=bn.parse(e.shareButton),this.add_to_menu=bn.parse(e.addToMenu),this.fullscreen_engagement=bn.parse(e.fullscreenEngagement)}};n(Io,"PlayerOverlay");yv.exports=Io});var xv=l((K8,wv)=>{"use strict";var Co=q(),Po=C(),tC=ie(),nC=O(),Ro=class{type="PlayerOverlayAutoplay";constructor(e){this.title=new Po(e.title),this.video_id=e.videoId,this.video_title=new Po(e.videoTitle),this.short_view_count=new Po(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new Po(e.publishedTimeText),this.background=nC.fromResponse(e.background),this.thumbnail_overlays=Co.parse(e.thumbnailOverlays),this.author=new tC(e.byline),this.cancel_button=Co.parse(e.cancelButton),this.next_button=Co.parse(e.nextButton),this.close_button=Co.parse(e.closeButton)}};n(Ro,"PlayerOverlayAutoplay");wv.exports=Ro});var Ev=l((z8,bv)=>{"use strict";var Ao=class{type="PlayerStoryboardSpec";constructor(e){let t=e.spec.split("|"),i=new URL(t.shift());this.boards=t.map((a,r)=>{let[o,c,p,d,h,_,v,x]=a.split("#");i.searchParams.set("sigh",x),p=parseInt(p,10),d=parseInt(d,10),h=parseInt(h,10);let y=Math.ceil(p/(d*h));return{template_url:i.toString().replace("$L",r).replace("$N",v),thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(c,10),thumbnail_count:p,interval:parseInt(_,10),columns:d,rows:h,storyboard_count:y}})}};n(Ao,"PlayerStoryboardSpec");bv.exports=Ao});var qv=l((X8,Tv)=>{"use strict";var bt=C(),iC=yt(),ol=q(),ko=class{type="PlaylistHeader";constructor(e){this.id=e.playlistId,this.title=new bt(e.title),this.stats=e.stats.map(t=>new bt(t)),this.brief_stats=e.briefStats.map(t=>new bt(t)),this.author=new iC({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null),this.description=new bt(e.descriptionText),this.num_videos=new bt(e.numVideosText),this.view_count=new bt(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=ol.parse(e.saveButton),this.shuffle_play_button=ol.parse(e.shufflePlayButton),this.menu=ol.parse(e.moreActionsMenu)}};n(ko,"PlaylistHeader");Tv.exports=ko});var Iv=l((Q8,Sv)=>{"use strict";var cl=C(),sC=O(),rC=L(),Lo=class{type="PlaylistInfoCardContent";constructor(e){this.title=new cl(e.playlistTitle),this.thumbnails=sC.fromResponse(e.thumbnail),this.video_count=new cl(e.playlistVideoCount),this.channel_name=new cl(e.channelName),this.endpoint=new rC(e.action)}};n(Lo,"PlaylistInfoCardContent");Sv.exports=Lo});var Pv=l((Z8,Cv)=>{"use strict";var fo=class{type="PlaylistMetadata";constructor(e){this.title=e.title,this.description=e.description||null}};n(fo,"PlaylistMetadata");Cv.exports=fo});var Av=l((j8,Rv)=>{"use strict";var oC=q(),cC=C(),Oo=class{type="PlaylistPanel";constructor(e){var t,i;this.title=e.title,this.title_text=new cC(e.titleText),this.contents=oC.parse(e.contents),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.nextRadioContinuationData)==null?void 0:i.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(Oo,"PlaylistPanel");Rv.exports=Oo});var fv=l((ef,Lv)=>{"use strict";var kv=q(),st=C(),aC=O(),uC=L(),lC=V(),Do=class{type="PlaylistPanelVideo";constructor(e){this.title=new st(e.title),this.thumbnail=aC.fromResponse(e.thumbnail),this.endpoint=new uC(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new st(e.lengthText).toString(),seconds:lC.timeToSeconds(new st(e.lengthText).toString())};let t=new st(e.longBylineText).runs.find(a=>{var r;return(r=a.endpoint.browse)==null?void 0:r.id.startsWith("MPR")}),i=new st(e.longBylineText).runs.filter(a=>{var r;return(r=a.endpoint.browse)==null?void 0:r.id.startsWith("UC")});this.author=new st(e.shortBylineText).toString(),t&&(this.album={id:t.endpoint.browse.id,name:t.text,year:new st(e.longBylineText).runs.slice(-1)[0].text,endpoint:t.endpoint}),this.artists=i.map(a=>({name:a.text,channel_id:a.endpoint.browse.id,endpoint:a.endpoint})),this.badges=kv.parse(e.badges),this.menu=kv.parse(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Do,"PlaylistPanelVideo");Lv.exports=Do});var Dv=l((tf,Ov)=>{"use strict";var hC=q(),Uo=class{type="PlaylistSidebar";constructor(e){this.items=hC.parse(e.items)}get contents(){return this.items}};n(Uo,"PlaylistSidebar");Ov.exports=Uo});var Bv=l((nf,Nv)=>{"use strict";var Uv=q(),dC=L(),al=C(),No=class{type="PlaylistSidebarPrimaryInfo";constructor(e){this.stats=e.stats.map(t=>new al(t)),this.thumbnail_renderer=Uv.parse(e.thumbnailRenderer),this.title=new al(e.title),this.menu=e.menu&&Uv.parse(e.menu),this.endpoint=new dC(e.navigationEndpoint),this.description=new al(e.description)}};n(No,"PlaylistSidebarPrimaryInfo");Nv.exports=No});var Vv=l((sf,Mv)=>{"use strict";var Fv=q(),Bo=class{type="PlaylistSidebarSecondaryInfo";constructor(e){this.owner=Fv.parse(e.videoOwner)||null,this.button=Fv.parse(e.button)||null}};n(Bo,"PlaylistSidebarSecondaryInfo");Mv.exports=Bo});var $v=l((rf,Gv)=>{"use strict";var ul=C(),Yv=q(),pC=O(),gC=yt(),_C=L(),Fo=class{type="PlaylistVideo";constructor(e){this.id=e.videoId,this.index=new ul(e.index),this.title=new ul(e.title),this.author=new gC(e.shortBylineText),this.thumbnails=pC.fromResponse(e.thumbnail),this.thumbnail_overlays=Yv.parse(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new _C(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=Yv.parse(e.menu),this.duration={text:new ul(e.lengthText).text,seconds:parseInt(e.lengthSeconds)}}};n(Fo,"PlaylistVideo");Gv.exports=Fo});var Jv=l((of,Wv)=>{"use strict";var mC=q(),Mo=class{type="PlaylistVideoList";constructor(e){this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=mC.parse(e.contents)}};n(Mo,"PlaylistVideoList");Wv.exports=Mo});var Kv=l((cf,Hv)=>{"use strict";var yC=O(),Vo=class{type="PlaylistVideoThumbnail";constructor(e){this.thumbnail=yC.fromResponse(e.thumbnail)}};n(Vo,"PlaylistVideoThumbnail");Hv.exports=Vo});var Qv=l((af,Xv)=>{"use strict";var Yo=C(),vC=O(),zv=L(),Go=class{type="Poll";constructor(e){this.choices=e.choices.map(t=>({text:new Yo(t.text).toString(),select_endpoint:t.selectServiceEndpoint?new zv(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new zv(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new Yo(t.votePercentageIfSelected),vote_ratio_if_not_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new Yo(t.votePercentageIfSelected),image:t.image?vC.fromResponse(t.image):null})),e.type&&(this.poll_type=e.type),e.totalVotes&&(this.total_votes=new Yo(e.totalVotes)),e.liveChatPollId&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Go,"Poll");Xv.exports=Go});var jv=l((uf,Zv)=>{"use strict";var wC=Ou(),$o=class extends wC{type="Post";constructor(e){super(e)}};n($o,"Post");Zv.exports=$o});var tw=l((lf,ew)=>{"use strict";var xC=q(),Wo=class{type="ProfileColumn";constructor(e){this.items=xC.parse(e.items)}get contents(){return this.items}};n(Wo,"ProfileColumn");ew.exports=Wo});var iw=l((hf,nw)=>{"use strict";var bC=q(),Jo=class{type="ProfileColumnStats";constructor(e){this.items=bC.parse(e.items)}get contents(){return this.items}};n(Jo,"ProfileColumnStats");nw.exports=Jo});var ow=l((df,rw)=>{"use strict";var sw=C(),Ho=class{type="ProfileColumnStatsEntry";constructor(e){this.label=new sw(e.label),this.value=new sw(e.value)}};n(Ho,"ProfileColumnStatsEntry");rw.exports=Ho});var aw=l((pf,cw)=>{"use strict";var EC=C(),TC=O(),Ko=class{type="ProfileColumnUserInfo";constructor(e){this.title=new EC(e.title),this.thumbnails=TC.fromResponse(e.thumbnail)}};n(Ko,"ProfileColumnUserInfo");cw.exports=Ko});var hw=l((gf,lw)=>{"use strict";var qC=L(),uw=C(),SC=O(),zo=class{type="ReelItem";constructor(e){this.id=e.videoId,this.title=new uw(e.headline,""),this.thumbnails=SC.fromResponse(e.thumbnail),this.views=new uw(e.viewCountText,""),this.endpoint=new qC(e.navigationEndpoint)}};n(zo,"ReelItem");lw.exports=zo});var pw=l((_f,dw)=>{"use strict";var IC=q(),CC=L(),PC=C(),Xo=class{type="ReelShelf";constructor(e){this.title=new PC(e.title),this.items=IC.parse(e.items),this.endpoint=e.endpoint?new CC(e.endpoint):null}get contents(){return this.items}};n(Xo,"ReelShelf");dw.exports=Xo});var _w=l((mf,gw)=>{"use strict";var RC=q(),Qo=class{type="RelatedChipCloud";constructor(e){this.content=RC.parse(e.content)}};n(Qo,"RelatedChipCloud");gw.exports=Qo});var vw=l((yf,yw)=>{"use strict";var mw=q(),Zo=class{type="RichGrid";constructor(e){this.header=mw.parse(e.header),this.contents=mw.parse(e.contents)}};n(Zo,"RichGrid");yw.exports=Zo});var xw=l((vf,ww)=>{"use strict";var AC=q(),jo=class{type="RichItem";constructor(e){return AC.parse(e.content)}};n(jo,"RichItem");ww.exports=jo});var Ew=l((wf,bw)=>{"use strict";var kC=C(),ec=class{constructor(e){this.title=new kC(e.title),this.icon_type=e.icon.iconType}};n(ec,"RichListHeader");bw.exports=ec});var qw=l((xf,Tw)=>{"use strict";var LC=q(),tc=class{type="RichSection";constructor(e){this.contents=LC.parse(e.content)}};n(tc,"RichSection");Tw.exports=tc});var Iw=l((bf,Sw)=>{"use strict";var fC=q(),OC=L(),DC=C(),nc=class{type="RichShelf";constructor(e){this.title=new DC(e.title),this.contents=fC.parse(e.contents),this.endpoint=e.endpoint?new OC(e.endpoint):null}};n(nc,"RichShelf");Sw.exports=nc});var Rw=l((Ef,Pw)=>{"use strict";var Cw=q(),UC=C(),NC=L(),ic=class{type="SearchBox";constructor(e){this.endpoint=new NC(e.endpoint),this.search_button=Cw.parse(e.searchButton),this.clear_button=Cw.parse(e.clearButton),this.placeholder_text=new UC(e.placeholderText)}};n(ic,"SearchBox");Pw.exports=ic});var kw=l((Tf,Aw)=>{"use strict";var BC=L(),FC=O(),MC=C(),sc=class{type="SearchRefinementCard";constructor(e){this.thumbnails=FC.fromResponse(e.thumbnail),this.endpoint=new BC(e.searchEndpoint),this.query=new MC(e.query).toString()}};n(sc,"SearchRefinementCard");Aw.exports=sc});var fw=l((qf,Lw)=>{"use strict";var VC=q(),rc=class{type="SearchSuggestionsSection";constructor(e){this.contents=VC.parse(e.contents)}};n(rc,"SearchSuggestionsSection");Lw.exports=rc});var Dw=l((Sf,Ow)=>{"use strict";var YC=q(),oc=class{type="SecondarySearchContainer";constructor(e){this.contents=YC.parse(e.contents)}};n(oc,"SecondarySearchContainer");Ow.exports=oc});var Bw=l((If,Nw)=>{"use strict";var Uw=q(),cc=class{type="SectionList";constructor(e){e.targetId&&(this.target_id=e.targetId),this.contents=Uw.parse(e.contents),e.continuations&&(e.continuations[0].nextContinuationData?this.continuation=e.continuations[0].nextContinuationData.continuation:e.continuations[0].reloadContinuationData&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),e.header&&(this.header=Uw.parse(e.header))}};n(cc,"SectionList");Nw.exports=cc});var Vw=l((Cf,Mw)=>{"use strict";var GC=C(),Fw=q(),$C=L(),ac=class{type="Shelf";constructor(e){var t,i;this.title=new GC(e.title),e.endpoint&&(this.endpoint=new $C(e.endpoint)),this.content=Fw.parse(e.content)||[],(t=e.icon)!=null&&t.iconType&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),e.menu&&(this.menu=Fw.parse(e.menu))}};n(ac,"Shelf");Mw.exports=ac});var $w=l((Pf,Gw)=>{"use strict";var WC=C(),Yw=L(),uc=class{type="ShowingResultsFor";constructor(e){this.corrected_query=new WC(e.correctedQuery),this.endpoint=new Yw(e.correctedQueryEndpoint),this.original_query_endpoint=new Yw(e.originalQueryEndpoint)}};n(uc,"ShowingResultsFor");Gw.exports=uc});var Jw=l((Rf,Ww)=>{"use strict";var JC=C(),lc=class{type="SimpleCardTeaser";constructor(e){this.message=new JC(e.message),this.prominent=e.prominent}};n(lc,"SimpleCardTeaser");Ww.exports=lc});var Kw=l((Af,Hw)=>{"use strict";var ll=C(),HC=L(),hc=class{type="SingleActionEmergencySupport";constructor(e){this.action_text=new ll(e.actionText),this.nav_text=new ll(e.navigationText),this.details=new ll(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new HC(e.navigationEndpoint)}};n(hc,"SingleActionEmergencySupport");Hw.exports=hc});var Xw=l((kf,zw)=>{"use strict";var KC=q(),dc=class{type="SingleColumnBrowseResults";constructor(e){this.tabs=KC.parse(e.tabs)}};n(dc,"SingleColumnBrowseResults");zw.exports=dc});var Zw=l((Lf,Qw)=>{"use strict";var zC=q(),pc=class{type="SingleColumnMusicWatchNextResults";constructor(e){return zC.parse(e)}};n(pc,"SingleColumnMusicWatchNextResults");Qw.exports=pc});var ex=l((ff,jw)=>{"use strict";var XC=O(),gc=class{type="SingleHeroImage";constructor(e){this.thumbnails=new XC(e.thumbnail).thumbnails,this.style=e.style}};n(gc,"SingleHeroImage");jw.exports=gc});var nx=l((Of,tx)=>{"use strict";var{observe:QC}=V(),_c=class{type="SortFilterSubMenu";constructor(e){this.sub_menu_items=QC(e.subMenuItems.map(t=>{var i;return{title:t.title,selected:t.selected,continuation:(i=t.continuation)==null?void 0:i.reloadContinuationData.continuation,subtitle:t.subtitle}})),this.label=e.accessibility.accessibilityData.label}};n(_c,"SortFilterSubMenu");tx.exports=_c});var sx=l((Df,ix)=>{"use strict";var ZC=C(),jC=L(),mc=class{type="SubFeedOption";constructor(e){this.name=new ZC(e.name),this.is_selected=e.isSelected,this.endpoint=new jC(e.navigationEndpoint)}};n(mc,"SubFeedOption");ix.exports=mc});var ox=l((Uf,rx)=>{"use strict";var e2=q(),t2=C(),yc=class{type="SubFeedSelector";constructor(e){this.title=new t2(e.title),this.options=e2.parse(e.options)}};n(yc,"SubFeedSelector");rx.exports=yc});var ax=l((Nf,cx)=>{"use strict";var n2=q(),hl=C(),i2=L(),vc=class{type="SubscribeButton";constructor(e){var t,i;this.title=new hl(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new hl(e.subscribedButtonText),this.unsubscribed_text=new hl(e.unsubscribedButtonText),this.notification_preference_button=n2.parse(e.notificationPreferenceButton),this.endpoint=new i2(((t=e.serviceEndpoints)==null?void 0:t[0])||((i=e.onSubscribeEndpoints)==null?void 0:i[0]))}};n(vc,"SubscribeButton");cx.exports=vc});var lx=l((Bf,ux)=>{"use strict";var s2=q(),wc=class{type="SubscriptionNotificationToggleButton";constructor(e){this.states=e.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:s2.parse(t.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(wc,"SubscriptionNotificationToggleButton");ux.exports=wc});var dx=l((Ff,hx)=>{"use strict";var r2=q(),o2=L(),xc=class{type="Tab";constructor(e){this.title=e.title||"N/A",this.selected=e.selected||!1,this.endpoint=new o2(e.endpoint),this.content=r2.parse(e.content)}};n(xc,"Tab");hx.exports=xc});var gx=l((Mf,px)=>{"use strict";var c2=q(),bc=class{type="Tabbed";constructor(e){return c2.parse(e)}};n(bc,"Tabbed");px.exports=bc});var mx=l((Vf,_x)=>{"use strict";var a2=q(),Ec=class{type="TabbedSearchResults";constructor(e){this.tabs=a2.parse(e.tabs)}};n(Ec,"TabbedSearchResults");_x.exports=Ec});var vx=l((Yf,yx)=>{"use strict";var u2=C(),Tc=class{type="TextHeader";constructor(e){this.title=new u2(e.title),this.style=e.style}};n(Tc,"TextHeader");yx.exports=Tc});var xx=l((Gf,wx)=>{"use strict";var qc=class{type="ThumbnailOverlayBottomPanel";constructor(e){this.type=e.icon.iconType}};n(qc,"ThumbnailOverlayBottomPanel");wx.exports=qc});var Ex=l(($f,bx)=>{"use strict";var l2=C(),Sc=class{type="ThumbnailOverlayEndorsement";constructor(e){this.text=new l2(e.text).toString()}};n(Sc,"ThumbnailOverlayEndorsement");bx.exports=Sc});var qx=l((Wf,Tx)=>{"use strict";var h2=C(),Ic=class{type="ThumbnailOverlayHoverText";constructor(e){this.text=new h2(e.text),this.type=e.icon.iconType}};n(Ic,"ThumbnailOverlayHoverText");Tx.exports=Ic});var Ix=l((Jf,Sx)=>{"use strict";var d2=C(),Cc=class{type="ThumbnailOverlayInlineUnplayable";constructor(e){this.text=new d2(e.text).toString(),this.icon_type=e.icon.iconType}};n(Cc,"ThumbnailOverlayInlineUnplayable");Sx.exports=Cc});var Px=l((Hf,Cx)=>{"use strict";var p2=C(),Pc=class{type="ThumbnailOverlayLoadingPreview";constructor(e){this.text=new p2(e.text)}};n(Pc,"ThumbnailOverlayLoadingPreview");Cx.exports=Pc});var Ax=l((Kf,Rx)=>{"use strict";var g2=C(),Rc=class{type="ThumbnailOverlayNowPlaying";constructor(e){this.text=new g2(e.text).text}};n(Rc,"ThumbnailOverlayNowPlaying");Rx.exports=Rc});var Lx=l((zf,kx)=>{"use strict";var Ac=class{type="ThumbnailOverlayPinking";constructor(e){this.hack=e.hack}};n(Ac,"ThumbnailOverlayPinking");kx.exports=Ac});var Ox=l((Xf,fx)=>{"use strict";var _2=C(),kc=class{type="ThumbnailOverlayPlaybackStatus";constructor(e){this.text=e.texts.map(t=>new _2(t))[0].toString()}};n(kc,"ThumbnailOverlayPlaybackStatus");fx.exports=kc});var Ux=l((Qf,Dx)=>{"use strict";var Lc=class{type="ThumbnailOverlayResumePlayback";constructor(e){this.percent_duration_watched=e.percentDurationWatched}};n(Lc,"ThumbnailOverlayResumePlayback");Dx.exports=Lc});var Bx=l((Zf,Nx)=>{"use strict";var m2=C(),fc=class{type="ThumbnailOverlaySidePanel";constructor(e){this.text=new m2(e.text),this.type=e.icon.iconType}};n(fc,"ThumbnailOverlaySidePanel");Nx.exports=fc});var Mx=l((jf,Fx)=>{"use strict";var y2=C(),Oc=class{type="ThumbnailOverlayTimeStatus";constructor(e){this.text=new y2(e.text).text}};n(Oc,"ThumbnailOverlayTimeStatus");Fx.exports=Oc});var Gx=l((eO,Yx)=>{"use strict";var Vx=L(),Dc=class{type="ThumbnailOverlayToggleButton";constructor(e){this.is_toggled=e.isToggled||null,this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new Vx(e.toggledServiceEndpoint),this.untoggled_endpoint=new Vx(e.untoggledServiceEndpoint)}};n(Dc,"ThumbnailOverlayToggleButton");Yx.exports=Dc});var Wx=l((tO,$x)=>{"use strict";var dl=C(),pl=L(),Uc=class{type="ToggleButton";constructor(e){var i,a,r,o,c,p,d,h;this.text=new dl(e.defaultText),this.toggled_text=new dl(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let t=((a=(i=e==null?void 0:e.defaultText)==null?void 0:i.accessibility)==null?void 0:a.accessibilityData.label)||((r=e==null?void 0:e.accessibilityData)==null?void 0:r.accessibilityData.label)||((o=e==null?void 0:e.accessibility)==null?void 0:o.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(t.replace(/\D/g,"")),this.short_like_count=new dl(e.defaultText).toString()),this.endpoint=((p=(c=e.defaultServiceEndpoint)==null?void 0:c.commandExecutorCommand)==null?void 0:p.commands)&&new pl(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop())||new pl(e.defaultServiceEndpoint),this.toggled_endpoint=new pl(e.toggledServiceEndpoint),this.button_id=((h=(d=e.toggleButtonSupportedData)==null?void 0:d.toggleButtonIdData)==null?void 0:h.id)||null,this.target_id=e.targetId||null}};n(Uc,"ToggleButton");$x.exports=Uc});var Kx=l((nO,Hx)=>{"use strict";var Jx=C(),v2=L(),Nc=class{type="ToggleMenuServiceItem";constructor(e){this.text=new Jx(e.defaultText),this.toggled_text=new Jx(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.endpoint=new v2(e.toggledServiceEndpoint)}};n(Nc,"ToggleMenuServiceItem");Hx.exports=Nc});var Xx=l((iO,zx)=>{"use strict";var w2=C(),gl=L(),Bc=class{type="Tooltip";constructor(e){this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(t=>new gl(t)),accept:new gl(e.promoConfig.acceptCommand),dismiss:new gl(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new w2(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Bc,"Tooltip");zx.exports=Bc});var _l=l((sO,Zx)=>{"use strict";var Qx=q(),Fc=class{type="TwoColumnBrowseResults";constructor(e){this.tabs=Qx.parse(e.tabs),this.secondary_contents=Qx.parse(e.secondaryContents)}};n(Fc,"TwoColumnBrowseResults");Zx.exports=Fc});var t0=l((rO,e0)=>{"use strict";var jx=q(),Mc=class{type="TwoColumnSearchResults";constructor(e){this.primary_contents=jx.parse(e.primaryContents),this.secondary_contents=jx.parse(e.secondaryContents)}};n(Mc,"TwoColumnSearchResults");e0.exports=Mc});var i0=l((oO,n0)=>{"use strict";var ml=q(),Vc=class{type="TwoColumnWatchNextResults";constructor(e){var t,i;this.results=ml.parse((t=e.results)==null?void 0:t.results.contents),this.secondary_results=ml.parse((i=e.secondaryResults)==null?void 0:i.secondaryResults.results),this.conversation_bar=ml.parse(e==null?void 0:e.conversationBar)}};n(Vc,"TwoColumnWatchNextResults");n0.exports=Vc});var r0=l((cO,s0)=>{"use strict";var yl=q(),Yc=class{type="UniversalWatchCard";constructor(e){this.header=yl.parse(e.header),this.call_to_action=yl.parse(e.callToAction),this.sections=yl.parse(e.sections)}};n(Yc,"UniversalWatchCard");s0.exports=Yc});var c0=l((aO,o0)=>{"use strict";var x2=q(),b2=C(),Gc=class{type="VerticalList";constructor(e){this.items=x2.parse(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new b2(e.collapsedStateButtonText)}get contents(){return this.items}};n(Gc,"VerticalList");o0.exports=Gc});var u0=l((uO,a0)=>{"use strict";var E2=q(),T2=C(),q2=L(),$c=class{type="VerticalWatchCardList";constructor(e){this.items=E2.parse(e.items),this.contents=this.items,this.view_all_text=new T2(e.viewAllText),this.view_all_endpoint=new q2(e.viewAllEndpoint)}};n($c,"VerticalWatchCardList");a0.exports=$c});var h0=l((lO,l0)=>{"use strict";var vl=q(),be=C(),S2=ie(),I2=O(),C2=L(),P2=V(),Wc=class{type="Video";constructor(e){var a,r,o,c;let t=((a=e.thumbnailOverlays.find(p=>p.thumbnailOverlayTimeStatusRenderer))==null?void 0:a.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new be(e.title),this.description_snippet=e.descriptionSnippet?new be(e.descriptionSnippet,""):null,this.snippets=((r=e.detailedMetadataSnippets)==null?void 0:r.map(p=>({text:new be(p.snippetText),hover_text:new be(p.snippetHoverText)})))||[],this.thumbnails=I2.fromResponse(e.thumbnail),this.thumbnail_overlays=vl.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&vl.parse(e.richThumbnail),this.author=new S2(e.ownerText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail),this.endpoint=new C2(e.navigationEndpoint),this.published=new be(e.publishedTimeText),this.view_count_text=new be(e.viewCountText),this.short_view_count_text=new be(e.shortViewCountText);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:e.lengthText?new be(e.lengthText).text:new be(t).text,seconds:P2.timeToSeconds(e.lengthText?new be(e.lengthText).text:new be(t).text)},this.show_action_menu=e.showActionMenu,this.is_watched=e.isWatched||!1,this.menu=vl.parse(e.menu)}get description(){var e;return this.snippets.length>0?this.snippets.map(t=>t.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){return this.badges.some(e=>e.style==="BADGE_STYLE_TYPE_LIVE_NOW")}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Wc,"Video");l0.exports=Wc});var p0=l((hO,d0)=>{"use strict";var Jc=C(),R2=O(),A2=L(),Hc=class{type="VideoInfoCardContent";constructor(e){this.title=new Jc(e.videoTitle),this.channel_name=new Jc(e.channelName),this.view_count=new Jc(e.viewCountText),this.video_thumbnails=R2.fromResponse(e.videoThumbnail),this.duration=new Jc(e.lengthString),this.endpoint=new A2(e.action)}};n(Hc,"VideoInfoCardContent");d0.exports=Hc});var _0=l((dO,g0)=>{"use strict";var k2=C(),L2=ie(),Kc=class{type="VideoOwner";constructor(e){this.subscription_button=e.subscriptionButton||null,this.subscriber_count=new k2(e.subscriberCountText),this.author=new L2({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};n(Kc,"VideoOwner");g0.exports=Kc});var y0=l((pO,m0)=>{"use strict";var f2=q(),En=C(),zc=class{type="VideoPrimaryInfo";constructor(e){this.title=new En(e.title),this.super_title_link=new En(e.superTitleLink),this.view_count=new En(e.viewCount.videoViewCountRenderer.viewCount),this.short_view_count=new En(e.viewCount.videoViewCountRenderer.shortViewCount),this.published=new En(e.dateText),this.menu=f2.parse(e.videoActions)}};n(zc,"VideoPrimaryInfo");m0.exports=zc});var w0=l((gO,v0)=>{"use strict";var wl=q(),O2=C(),Xc=class{type="VideoSecondaryInfo";constructor(e){this.owner=wl.parse(e.owner),this.description=new O2(e.description),this.subscribe_button=wl.parse(e.subscribeButton),this.metadata=wl.parse(e.metadataRowContainer),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Xc,"VideoSecondaryInfo");v0.exports=Xc});var b0=l((_O,x0)=>{"use strict";var xl=C(),{timeToSeconds:D2}=V(),Qc=class{type="WatchCardCompactVideo";constructor(e){this.title=new xl(e.title),this.subtitle=new xl(e.subtitle),this.duration={text:new xl(e.lengthText).toString(),seconds:D2(e.lengthText.simpleText)},this.style=e.style}};n(Qc,"WatchCardCompactVideo");x0.exports=Qc});var q0=l((mO,T0)=>{"use strict";var E0=q(),U2=L(),Zc=class{type="WatchCardHeroVideo";constructor(e){this.endpoint=new U2(e.navigationEndpoint),this.call_to_action_button=E0.parse(e.callToActionButton),this.hero_image=E0.parse(e.heroImage),this.label=e.accessibility.accessibilityData.label}};n(Zc,"WatchCardHeroVideo");T0.exports=Zc});var C0=l((yO,I0)=>{"use strict";var N2=ie(),B2=L(),S0=C(),jc=class{type="WatchCardRichHeader";constructor(e){this.title=new S0(e.title),this.title_endpoint=new B2(e.titleNavigationEndpoint),this.subtitle=new S0(e.subtitle),this.author=new N2(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title,this.style=e.style}};n(jc,"WatchCardRichHeader");I0.exports=jc});var R0=l((vO,P0)=>{"use strict";var F2=q(),ea=class{type="WatchCardSectionSequence";constructor(e){this.lists=F2.parse(e.lists)}};n(ea,"WatchCardSectionSequence");P0.exports=ea});var k0=l((wO,A0)=>{"use strict";var M2=q(),V2=C(),ta=class{constructor(e){this.results=M2.parse(e.results),this.title=new V2(e.title).toString()}};n(ta,"WatchNextEndScreen");A0.exports=ta});var f0=l((xO,L0)=>{"use strict";var Y2=_l(),na=class extends Y2{type="WatchNextTabbedResults";constructor(e){super(e)}};n(na,"WatchNextTabbedResults");L0.exports=na});var D0=l((bO,O0)=>{var G2={AppendContinuationItemsAction:()=>sd(),OpenPopupAction:()=>od(),AnalyticsMainAppKeyMetrics:()=>ud(),AnalyticsVideo:()=>Ru(),AnalyticsVodCarouselCard:()=>dd(),Author:()=>ie(),BackstageImage:()=>bd(),BackstagePost:()=>Ou(),BackstagePostThread:()=>qd(),BrowseFeedActions:()=>Id(),Button:()=>Fi(),C4TabbedHeader:()=>Rd(),CallToActionButton:()=>kd(),Card:()=>Od(),CardCollection:()=>Ud(),Channel:()=>Bd(),ChannelAboutFullMetadata:()=>Md(),ChannelFeaturedContent:()=>Yd(),ChannelHeaderLinks:()=>$d(),ChannelMetadata:()=>Jd(),ChannelMobileHeader:()=>Kd(),ChannelThumbnailWithLink:()=>Xd(),ChannelVideoPlayer:()=>Zd(),ChildVideo:()=>ep(),ChipCloud:()=>np(),ChipCloudChip:()=>sp(),CollageHeroImage:()=>op(),AuthorCommentBadge:()=>ap(),Comment:()=>lp(),CommentActionButtons:()=>dp(),CommentReplies:()=>gp(),CommentReplyDialog:()=>vp(),CommentsEntryPointHeader:()=>xp(),CommentsHeader:()=>Tp(),CommentSimplebox:()=>Ip(),CommentThread:()=>Rp(),CompactLink:()=>kp(),CompactMix:()=>Dp(),CompactPlaylist:()=>Np(),CompactVideo:()=>Fp(),ContinuationItem:()=>Vp(),CtaGoToCreatorStudio:()=>Gp(),DataModelSection:()=>Pu(),DidYouMean:()=>Wp(),DownloadButton:()=>Hp(),Element:()=>zp(),EmergencyOnebox:()=>Zp(),EmojiRun:()=>ku(),Endscreen:()=>eg(),EndscreenElement:()=>sg(),EndScreenPlaylist:()=>og(),EndScreenVideo:()=>ug(),ExpandableTab:()=>hg(),ExpandedShelfContents:()=>pg(),FeedFilterChipBar:()=>_g(),FeedTabbedHeader:()=>yg(),Format:()=>Iu(),Grid:()=>wg(),GridChannel:()=>Eg(),GridPlaylist:()=>Ig(),GridVideo:()=>Pg(),HistorySuggestion:()=>Lg(),HorizontalCardList:()=>Og(),HorizontalList:()=>Ug(),ItemSection:()=>Fg(),ItemSectionHeader:()=>Vg(),LikeButton:()=>Gg(),LiveChat:()=>Wg(),AddBannerToLiveChatCommand:()=>Hg(),AddChatItemAction:()=>zg(),AddLiveChatTickerItemAction:()=>Qg(),LiveChatBanner:()=>e_(),LiveChatBannerHeader:()=>n_(),LiveChatBannerPoll:()=>r_(),LiveChatMembershipItem:()=>a_(),LiveChatPaidMessage:()=>h_(),LiveChatPaidSticker:()=>__(),LiveChatPlaceholderItem:()=>y_(),LiveChatTextMessage:()=>el(),LiveChatTickerPaidMessageItem:()=>b_(),LiveChatTickerSponsorItem:()=>q_(),LiveChatViewerEngagementMessage:()=>I_(),PollHeader:()=>R_(),LiveChatActionPanel:()=>k_(),MarkChatItemAsDeletedAction:()=>f_(),MarkChatItemsByAuthorAsDeletedAction:()=>D_(),RemoveBannerForLiveChatCommand:()=>N_(),ReplaceChatItemAction:()=>F_(),ReplayChatItemAction:()=>V_(),ShowLiveChatActionPanelAction:()=>G_(),ShowLiveChatTooltipCommand:()=>W_(),UpdateDateTextAction:()=>H_(),UpdateDescriptionAction:()=>z_(),UpdateLiveChatPollAction:()=>Q_(),UpdateTitleAction:()=>j_(),UpdateToggleButtonTextAction:()=>nm(),UpdateViewershipAction:()=>rm(),LiveChatAuthorBadge:()=>am(),LiveChatHeader:()=>lm(),LiveChatItemList:()=>dm(),LiveChatMessageInput:()=>gm(),LiveChatParticipant:()=>mm(),LiveChatParticipantsList:()=>vm(),Menu:()=>bm(),MenuNavigationItem:()=>Tm(),MenuServiceItem:()=>Sm(),MenuServiceItemDownload:()=>Cm(),MultiPageMenu:()=>Am(),MultiPageMenuNotificationSection:()=>Lm(),SimpleMenuHeader:()=>Om(),MerchandiseItem:()=>Um(),MerchandiseShelf:()=>Fm(),Message:()=>Vm(),MetadataBadge:()=>nl(),MetadataRow:()=>$m(),MetadataRowContainer:()=>Jm(),MetadataRowHeader:()=>Km(),MicroformatData:()=>Xm(),Mix:()=>Zm(),Movie:()=>ey(),MovingThumbnail:()=>ny(),MusicCarouselShelf:()=>ry(),MusicCarouselShelfBasicHeader:()=>ay(),MusicDescriptionShelf:()=>hy(),MusicDetailHeader:()=>gy(),MusicHeader:()=>my(),MusicImmersiveHeader:()=>wy(),MusicInlineBadge:()=>by(),MusicItemThumbnailOverlay:()=>Ty(),MusicNavigationButton:()=>Sy(),MusicPlayButton:()=>Cy(),MusicPlaylistShelf:()=>Ry(),MusicQueue:()=>ky(),MusicResponsiveListItem:()=>My(),MusicResponsiveListItemFixedColumn:()=>Yy(),MusicResponsiveListItemFlexColumn:()=>$y(),MusicShelf:()=>Hy(),MusicThumbnail:()=>zy(),MusicTwoRowItem:()=>Zy(),NavigatableText:()=>ki(),NavigationEndpoint:()=>L(),Notification:()=>iv(),PlayerAnnotationsExpanded:()=>rv(),PlayerCaptionsTracklist:()=>av(),PlayerErrorMessage:()=>hv(),PlayerLiveStoryboardSpec:()=>pv(),PlayerMicroformat:()=>mv(),PlayerOverlay:()=>vv(),PlayerOverlayAutoplay:()=>xv(),PlayerStoryboardSpec:()=>Ev(),Playlist:()=>mn(),PlaylistAuthor:()=>yt(),PlaylistHeader:()=>qv(),PlaylistInfoCardContent:()=>Iv(),PlaylistMetadata:()=>Pv(),PlaylistPanel:()=>Av(),PlaylistPanelVideo:()=>fv(),PlaylistSidebar:()=>Dv(),PlaylistSidebarPrimaryInfo:()=>Bv(),PlaylistSidebarSecondaryInfo:()=>Vv(),PlaylistVideo:()=>$v(),PlaylistVideoList:()=>Jv(),PlaylistVideoThumbnail:()=>Kv(),Poll:()=>Qv(),Post:()=>jv(),ProfileColumn:()=>tw(),ProfileColumnStats:()=>iw(),ProfileColumnStatsEntry:()=>ow(),ProfileColumnUserInfo:()=>aw(),ReelItem:()=>hw(),ReelShelf:()=>pw(),RelatedChipCloud:()=>_w(),RichGrid:()=>vw(),RichItem:()=>xw(),RichListHeader:()=>Ew(),RichSection:()=>qw(),RichShelf:()=>Iw(),SearchBox:()=>Rw(),SearchRefinementCard:()=>kw(),SearchSuggestion:()=>ju(),SearchSuggestionsSection:()=>fw(),SecondarySearchContainer:()=>Dw(),SectionList:()=>Bw(),Shelf:()=>Vw(),ShowingResultsFor:()=>$w(),SimpleCardTeaser:()=>Jw(),SingleActionEmergencySupport:()=>Kw(),SingleColumnBrowseResults:()=>Xw(),SingleColumnMusicWatchNextResults:()=>Zw(),SingleHeroImage:()=>ex(),SortFilterSubMenu:()=>nx(),SubFeedOption:()=>sx(),SubFeedSelector:()=>ox(),SubscribeButton:()=>ax(),SubscriptionNotificationToggleButton:()=>lx(),Tab:()=>dx(),Tabbed:()=>gx(),TabbedSearchResults:()=>mx(),Text:()=>C(),TextHeader:()=>vx(),TextRun:()=>Au(),Thumbnail:()=>O(),ThumbnailOverlayBottomPanel:()=>xx(),ThumbnailOverlayEndorsement:()=>Ex(),ThumbnailOverlayHoverText:()=>qx(),ThumbnailOverlayInlineUnplayable:()=>Ix(),ThumbnailOverlayLoadingPreview:()=>Px(),ThumbnailOverlayNowPlaying:()=>Ax(),ThumbnailOverlayPinking:()=>Lx(),ThumbnailOverlayPlaybackStatus:()=>Ox(),ThumbnailOverlayResumePlayback:()=>Ux(),ThumbnailOverlaySidePanel:()=>Bx(),ThumbnailOverlayTimeStatus:()=>Mx(),ThumbnailOverlayToggleButton:()=>Gx(),ToggleButton:()=>Wx(),ToggleMenuServiceItem:()=>Kx(),Tooltip:()=>Xx(),TwoColumnBrowseResults:()=>_l(),TwoColumnSearchResults:()=>t0(),TwoColumnWatchNextResults:()=>i0(),UniversalWatchCard:()=>r0(),VerticalList:()=>c0(),VerticalWatchCardList:()=>u0(),Video:()=>h0(),VideoDetails:()=>Cu(),VideoInfoCardContent:()=>p0(),VideoOwner:()=>_0(),VideoPrimaryInfo:()=>y0(),VideoSecondaryInfo:()=>w0(),WatchCardCompactVideo:()=>b0(),WatchCardHeroVideo:()=>q0(),WatchCardRichHeader:()=>C0(),WatchCardSectionSequence:()=>R0(),WatchNextEndScreen:()=>k0(),WatchNextTabbedResults:()=>f0()};O0.exports=n(function(e){let t=G2[e];if(!t){let i=new Error("Module not found: "+e);throw i.code="MODULE_NOT_FOUND",i}return t()},"req")});var q=l((EO,B0)=>{"use strict";var{InnertubeError:U0,observe:bl}=V(),$2=Iu(),W2=Cu(),N0=D0(),ia=class{type="appendContinuationItemsAction";constructor(e){this.contents=ee.parse(e.continuationItems)}};n(ia,"AppendContinuationItemsAction");var sa=class{type="reloadContinuationItemsCommand";constructor(e){this.target_id=e.targetId,this.contents=ee.parse(e.continuationItems)}};n(sa,"ReloadContinuationItemsCommand");var ra=class{type="sectionListContinuation";constructor(e){this.contents=ee.parse(e.contents),this.continuation=e.continuations[0].nextContinuationData.continuation}};n(ra,"SectionListContinuation");var Tn=class{type="timedContinuationData";constructor(e){this.timeout_ms=e.timeoutMs||e.timeUntilLastMessageMsec,this.token=e.continuation}};n(Tn,"TimedContinuation");var oa=class{type="liveChatContinuation";constructor(e){var t,i,a,r,o;this.actions=ee.parse((t=e.actions)==null?void 0:t.map(c=>(delete c.clickTrackingParams,c)))||[],this.action_panel=ee.parse(e.actionPanel),this.item_list=ee.parse(e.itemList),this.header=ee.parse(e.header),this.participants_list=ee.parse(e.participantsList),this.popout_message=ee.parse(e.popoutMessage),this.emojis=((i=e.emojis)==null?void 0:i.map(c=>({emoji_id:c.emojiId,shortcuts:c.shortcuts,search_terms:c.searchTerms,image:c.image,is_custom_emoji:c.isCustomEmoji})))||null,this.continuation=new Tn(((a=e.continuations)==null?void 0:a[0].timedContinuationData)||((r=e.continuations)==null?void 0:r[0].invalidationContinuationData)||((o=e.continuations)==null?void 0:o[0].liveChatReplayContinuationData)),this.viewer_name=e.viewerName}};n(oa,"LiveChatContinuation");var le,$e,Et,We,Tt,qn,El,U=class{static parseResponse(e){var v,x;f(this,We,Tt).call(this);let t=U.parse(e.contents),i=u(U,le);f(this,$e,Et).call(this),f(this,We,Tt).call(this);let a=e.onResponseReceivedActions?U.parseRR(e.onResponseReceivedActions):null,r=u(U,le);f(this,$e,Et).call(this),f(this,We,Tt).call(this);let o=e.onResponseReceivedEndpoints?U.parseRR(e.onResponseReceivedEndpoints):null,c=u(U,le);f(this,$e,Et).call(this),f(this,We,Tt).call(this);let p=e.onResponseReceivedCommands?U.parseRR(e.onResponseReceivedCommands):null,d=u(U,le);f(this,$e,Et).call(this),f(this,We,Tt).call(this);let h=e.actions?U.parseActions(e.actions):null,_=u(U,le);return f(this,$e,Et).call(this),{actions:h,actions_memo:_,contents:t,contents_memo:i,on_response_received_actions:a,on_response_received_actions_memo:r,on_response_received_endpoints:o,on_response_received_endpoints_memo:c,on_response_received_commands:p,on_response_received_commands_memo:d,continuation:e.continuation?U.parseC(e.continuation):null,continuation_contents:e.continuationContents?U.parseLC(e.continuationContents):null,metadata:U.parse(e.metadata),header:U.parse(e.header),microformat:e.microformat&&U.parse(e.microformat),sidebar:U.parse(e.sidebar),overlay:U.parse(e.overlay),refinements:e.refinements||null,estimated_results:e.estimatedResults||null,player_overlays:U.parse(e.playerOverlays),playability_status:e.playabilityStatus&&{status:e.playabilityStatus.status,error_screen:U.parse(e.playabilityStatus.errorScreen),embeddable:e.playabilityStatus.playableInEmbed||null,reason:e.reason||""},streaming_data:e.streamingData&&{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:U.parseFormats(e.streamingData.formats),adaptive_formats:U.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:((v=e.streamingData)==null?void 0:v.dashManifestUrl)||null,dls_manifest_url:((x=e.streamingData)==null?void 0:x.dashManifestUrl)||null},captions:U.parse(e.captions),video_details:e.videoDetails&&new W2(e.videoDetails),annotations:U.parse(e.annotations),storyboards:U.parse(e.storyboards),endscreen:U.parse(e.endscreen),cards:U.parse(e.cards)}}static parseC(e){if(e.timedContinuationData)return new Tn(e.timedContinuationData)}static parseLC(e){if(e.sectionListContinuation)return new ra(e.sectionListContinuation);if(e.liveChatContinuation)return new oa(e.liveChatContinuation)}static parseRR(e){return bl(e.map(t=>{if(t.reloadContinuationItemsCommand)return new sa(t.reloadContinuationItemsCommand);if(t.appendContinuationItemsAction)return new ia(t.appendContinuationItemsAction)}).filter(t=>t))}static parseActions(e){return Array.isArray(e)?U.parse(e.map(t=>(delete t.clickTrackingParams,t))):U.parse(e)||null}static parseFormats(e){return bl((e==null?void 0:e.map(t=>new $2(t)))||[])}static parse(e){if(!e)return null;if(Array.isArray(e)){let a=[];for(let r of e){let o=Object.keys(r),c=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(c))try{let p=N0(c),d=new p(r[o[0]]);a.push(d),f(this,qn,El).call(this,c,d)}catch(p){this.formatError({classname:c,classdata:r[o[0]],err:p})}}return bl(a)}let t=Object.keys(e),i=this.sanitizeClassName(t[0]);if(!this.shouldIgnore(i))try{let a=N0(i),r=new a(e[t[0]]);return f(this,qn,El).call(this,i,r),r}catch(a){return this.formatError({classname:i,classdata:e[t[0]],err:a}),null}}static formatError({classname:e,classdata:t,err:i}){if(i.code=="MODULE_NOT_FOUND")return console.warn(new U0(`${e} not found!
This is a bug, please report it at ${jn().bugs.url}`,t));console.warn(new U0(`Something went wrong at ${e}!
This is a bug, please report it at ${jn().bugs.url}`,{stack:i.stack}))}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return["DisplayAd","SearchPyv","MealbarPromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","StatementBanner"].includes(e)}},ee=U;n(ee,"Parser"),le=new WeakMap,$e=new WeakSet,Et=n(function(){I(U,le,null)},"#clearMemo"),We=new WeakSet,Tt=n(function(){I(U,le,new Map)},"#createMemo"),qn=new WeakSet,El=n(function(e,t){if(!!u(U,le)){if(!u(U,le).has(e))return u(U,le).set(e,[t]);u(U,le).get(e).push(t)}},"#addToMemo"),E(ee,$e),E(ee,We),E(ee,qn),E(ee,le,new Map);B0.exports=ee});var V0=l((TO,M0)=>{"use strict";var J2=require("uuid"),ke=gt(),te=V(),H2=ye(),K2=q(),se,H,aa,F0,ca=class{constructor(e){E(this,aa);E(this,se,void 0);E(this,H,void 0);I(this,se,e),I(this,H,e.request)}async browse(e,t={}){if(f(this,aa,F0).call(this,e)&&!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={};return t.params&&(i.params=t.params),t.is_ctoken?i.continuation=e:i.browseId=e,t.client&&(i.client=t.client),await u(this,H).post("/browse",i)}async engage(e,t={}){if(!u(this,se).logged_in&&!t.hasOwnProperty("text"))throw new te.InnertubeError("You are not signed in");let i={};switch(e){case"like/like":case"like/dislike":case"like/removelike":i.target={},i.target.videoId=t.video_id,t.params&&(i.params=t.params);break;case"subscription/subscribe":case"subscription/unsubscribe":i.channelIds=[t.channel_id],i.params=e==="subscription/subscribe"?"EgIIAhgA":"CgIIAhgA";break;case"comment/create_comment":i.commentText=t.text,i.createCommentParams=ke.encodeCommentParams(t.video_id);break;case"comment/create_comment_reply":i.createReplyParams=ke.encodeCommentReplyParams(t.comment_id,t.video_id),i.commentText=t.text;break;case"comment/perform_comment_action":let r=(()=>{switch(t.comment_action){case"like":return ke.encodeCommentActionParams(5,t);case"dislike":return ke.encodeCommentActionParams(4,t);case"translate":return ke.encodeCommentActionParams(22,t);default:break}})();i.actions=[r];break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async account(e,t={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={client:t.client};switch(e){case"account/set_setting":i.newValue={boolValue:t.new_value},i.settingItemId=t.setting_item_id;break;case"account/accounts_list":break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async search(e={}){let t={client:e.client};return e.query&&(t.query=e.query),e.ctoken&&(t.continuation=e.ctoken),e.params&&(t.params=e.params),e.filters&&(e.client=="YTMUSIC"?t.params=ke.encodeMusicSearchFilters(e.filters):t.params=ke.encodeSearchFilters(e.filters)),await u(this,H).post("/search",t)}async searchSound(e={}){let t={query:e.query,client:"ANDROID"};return await u(this,H).post("/sfv/search",t)}async channel(e,t={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={client:t.client||"ANDROID"};switch(e){case"channel/edit_name":i.givenName=t.new_name;break;case"channel/edit_description":i.description=t.new_description;break;case"channel/get_profile_editor":break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async playlist(e,t={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={};switch(e){case"playlist/create":i.title=t.title,i.videoIds=t.ids;break;case"playlist/delete":i.playlistId=t.playlist_id;break;case"browse/edit_playlist":i.playlistId=t.playlist_id,i.actions=t.ids.map(r=>{switch(t.action){case"ACTION_ADD_VIDEO":return{action:t.action,addedVideoId:r};case"ACTION_REMOVE_VIDEO":return{action:t.action,setVideoId:r};default:break}});break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async notifications(e,t={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={};switch(e){case"modify_channel_preference":let r={PERSONALIZED:1,ALL:2,NONE:3};i.params=ke.encodeNotificationPref(t.channel_id,r[t.pref.toUpperCase()]);break;case"get_notification_menu":i.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX",t.ctoken&&(i.ctoken=t.ctoken);break;case"record_interactions":i.serializedRecordNotificationInteractionsRequest=t.params;break;case"get_unseen_count":break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/notification/${e}`,i)}async livechat(e,t={}){let i={client:t.client};switch(e){case"live_chat/get_live_chat":case"live_chat/get_live_chat_replay":i.continuation=t.ctoken;break;case"live_chat/send_message":i.params=ke.encodeMessageParams(t.channel_id,t.video_id),i.clientMessageId=J2.v4(),i.richMessage={textSegments:[{text:t.text}]};break;case"live_chat/get_item_context_menu":break;case"live_chat/moderate":i.params=t.params;break;case"updated_metadata":i.videoId=t.video_id,t.ctoken&&(i.continuation=t.ctoken);break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async thumbnails(e={}){let t={client:"ANDROID",videoId:e.video_id};return await u(this,H).post("/thumbnails",t)}async geo(e,t={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={input:t.input,client:"ANDROID"};return await u(this,H).post(`/geo/${e}`,i)}async flag(e,t){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let i={};switch(e){case"flag/flag":i.action=t.action;break;case"flag/get_form":i.params=t.params;break;default:throw new te.InnertubeError("Action not implemented",e)}return await u(this,H).post(`/${e}`,i)}async music(e,t){let i={input:t.input||"",client:"YTMUSIC"};return await u(this,H).post(`/music/${e}`,i)}async next(e={}){let t={client:e.client};return e.ctoken&&(t.continuation=e.ctoken),e.video_id&&(t.videoId=e.video_id),await u(this,H).post("/next",t)}async getVideoInfo(e,t,i){let a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"https://www.youtube.com",currentUrl:`/watch?v=${e}`,autonavState:"STATE_OFF",signatureTimestamp:u(this,se).sts,autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"}},attestationRequest:{omitBotguardData:!0},videoId:e};return i&&(a.client=i),t&&(a.cpn=t),(await u(this,H).post("/player",a)).data}async getSearchSuggestions(e,t){if(!["YOUTUBE","YTMUSIC"].includes(e))throw new te.InnertubeError("Invalid client",e);return await{YOUTUBE:()=>u(this,H).call(this,{url:"search",baseURL:H2.URLS.YT_SUGGESTIONS,params:{q:t,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:u(this,se).context.client.gl,hl:u(this,se).context.client.hl}}),YTMUSIC:()=>this.music("get_search_suggestions",{input:t})}[e]()}async getUserMentionSuggestions(e={}){if(!u(this,se).logged_in)throw new te.InnertubeError("You are not signed in");let t={input:e.input,client:"ANDROID"};return await u(this,H).post("get_user_mention_suggestions",t)}async execute(e,t){let i={...t};Reflect.has(i,"parse")&&delete i.parse,Reflect.has(i,"request")&&delete i.request,Reflect.has(i,"clientActions")&&delete i.clientActions,Reflect.has(i,"action")&&(i.actions=[i.action],delete i.action),Reflect.has(i,"token")&&(i.continuation=i.token,delete i.token);let a=await u(this,H).post(e,i);return t.parse?K2.parseResponse(a.data):a}};n(ca,"Actions"),se=new WeakMap,H=new WeakMap,aa=new WeakSet,F0=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"#needsLogin");M0.exports=ca});var G0=l(Tl=>{"use strict";var{SIG_REGEX:Y0}=ye(),qt=Tl.SignatureOperation={REVERSE:0,SPLICE:1,SWAP:2},Re=class{constructor(e){this.action_sequence=e}static fromSourceCode(e){let t,i=[],a=Re.getFunctions(e);for(;(t=Y0.ACTIONS.exec(e))!==null;){let r=t.groups;if(!!r)switch(r.name){case a[0]:i.push([qt.REVERSE,0]);break;case a[1]:i.push([qt.SPLICE,parseInt(r.param)]);break;case a[2]:i.push([qt.SWAP,parseInt(r.param)]);break;default:}}return new Re(i)}decipher(e){var a;let i=(a=new URLSearchParams(e).get("s"))==null?void 0:a.split("");if(!i)throw new TypeError("Invalid signature");for(let r of this.action_sequence)switch(r[0]){case qt.REVERSE:i.reverse();break;case qt.SPLICE:i.splice(0,r[1]);break;case qt.SWAP:{let o=r[1],c=i[0];i[0]=i[o%i.length],i[o%i.length]=c}break;default:break}return i.join("")}toJSON(){return[...this.action_sequence]}toArrayBuffer(){let e=new ArrayBuffer(8+this.action_sequence.length*3),t=new DataView(e),i=0;t.setUint32(i,Re.LIBRARY_VERSION,!0),i+=4,t.setUint32(i,this.action_sequence.length,!0),i+=4;for(let a=0;a<this.action_sequence.length;a++)t.setUint8(i,this.action_sequence[a][0]),i+=1,t.setUint16(i,this.action_sequence[a][1],!0),i+=2;return e}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==Re.LIBRARY_VERSION)throw new TypeError("Invalid library version");let r=t.getUint32(i,!0);i+=4;let o=new Array(r);for(let c=0;c<r;c++)o[c]=[t.getUint8(i),t.getUint16(i+1,!0)],i+=3;return new Re(o)}static getFunctions(e){let t,i=[];for(;(t=Y0.FUNCTIONS.exec(e))!==null;)t[0].includes("reverse")?i[0]=t[1]:t[0].includes("splice")?i[1]=t[1]:i[2]=t[1];return i}static get LIBRARY_VERSION(){return 1}};n(Re,"Signature");Tl.default=Re});var Sl=l(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.DEFAULT_ENCODING="utf-8"});var Q=l(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});function z2(s,e){if(e===void 0&&(e=void 0),s)throw TypeError("Decoder error");return e||65533}n(z2,"decoderError");St.decoderError=z2;function X2(s){throw TypeError("The code point "+s+" could not be encoded.")}n(X2,"encoderError");St.encoderError=X2;function Q2(s){var e=String(s).trim().toLowerCase();return e in Il?Il[e]:null}n(Q2,"getEncoding");St.getEncoding=Q2;var $0=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","cp1252","cp819","ibm819","iso-ir-100","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["ascii","us-ascii","iso-8859-1","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","csisolatin1"],name:"iso-8859-1"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}];St.encodings=$0;var Il={};$0.forEach(function(s){s.encodings.forEach(function(e){e.labels.forEach(function(t){Il[t]=e})})})});var J=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});Cl.finished=-1});var W0=l(Pl=>{"use strict";Object.defineProperty(Pl,"__esModule",{value:!0});function Z2(s){return Array.isArray(s)?s:[s]}n(Z2,"getArrayVal");Pl.getArrayVal=Z2});var ne=l(rt=>{"use strict";Object.defineProperty(rt,"__esModule",{value:!0});function j2(s,e,t){return e<=s&&s<=t}n(j2,"inRange");rt.inRange=j2;function eP(s,e){return s.indexOf(e)!==-1}n(eP,"includes");rt.includes=eP;function tP(s){if(s==null)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}n(tP,"ToDictionary");rt.ToDictionary=tP;function nP(s){for(var e=String(s),t=e.length,i=0,a=[];i<t;){var r=e.charCodeAt(i);if(r<55296||r>57343)a.push(r);else if(56320<=r&&r<=57343)a.push(65533);else if(55296<=r&&r<=56319)if(i===t-1)a.push(65533);else{var o=e.charCodeAt(i+1);if(56320<=o&&o<=57343){var c=r&1023,p=o&1023;a.push(65536+(c<<10)+p),i+=1}else a.push(65533)}i+=1}return a}n(nP,"stringToCodePoints");rt.stringToCodePoints=nP;function iP(s){for(var e="",t=0;t<s.length;++t){var i=s[t];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}n(iP,"codePointsToString");rt.codePointsToString=iP});var Al=l(Rl=>{"use strict";Object.defineProperty(Rl,"__esModule",{value:!0});function sP(){if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}n(sP,"getGlobalScope");Rl.getGlobalScope=sP});var fl=l(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});var rP=Al(),kl;function oP(){if(typeof TextEncodingIndexes<"u")return TextEncodingIndexes.encodingIndexes;var s=rP.getGlobalScope();return s?"TextEncodingIndexes"in s?global.TextEncodingIndexes.encodingIndexes:"encoding-indexes"in s?global.encodingIndexes:null:null}n(oP,"checkForEncodingIndexes");function cP(){if(kl)return kl;var s=oP();return s?(kl=s,s):null}n(cP,"getEncodingIndexes");Ll.getEncodingIndexes=cP});var oe=l(Le=>{"use strict";Object.defineProperty(Le,"__esModule",{value:!0});var J0=W0(),aP=ne(),uP=fl();function lP(s,e){return e&&e[s]||null}n(lP,"indexCodePointFor");Le.indexCodePointFor=lP;function H0(s,e){var t=e.indexOf(s);return t===-1?null:t}n(H0,"indexPointerFor");Le.indexPointerFor=H0;function Sn(s){var e=uP.getEncodingIndexes();if(!e)throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e[s]}n(Sn,"index");Le.index=Sn;function hP(s){if(s>39419&&s<189e3||s>1237575)return null;if(s===7457)return 59335;for(var e=0,t=0,i=Sn("gb18030-ranges"),a=0;a<i.length;++a){var r=J0.getArrayVal(i[a]);if(r[0]<=s)e=r[0],t=r[1];else break}return t+s-e}n(hP,"indexGB18030RangesCodePointFor");Le.indexGB18030RangesCodePointFor=hP;function dP(s){if(s===59335)return 7457;for(var e=0,t=0,i=Sn("gb18030-ranges"),a=0;a<i.length;++a){var r=i[a],o=J0.getArrayVal(r);if(o[1]<=s)e=o[1],t=o[0];else break}return t+s-e}n(dP,"indexGB18030RangesPointerFor");Le.indexGB18030RangesPointerFor=dP;function pP(s){Ol=Ol||Sn("jis0208").map(function(t,i){return aP.inRange(i,8272,8835)?null:t});var e=Ol;return e.indexOf(s)}n(pP,"indexShiftJISPointerFor");Le.indexShiftJISPointerFor=pP;var Ol;function gP(s){Dl=Dl||Sn("big5").map(function(t,i){return i<(161-129)*157?null:t});var e=Dl;return s===9552||s===9566||s===9569||s===9578||s===21313||s===21317?e.lastIndexOf(s):H0(s,e)}n(gP,"indexBig5PointerFor");Le.indexBig5PointerFor=gP;var Dl});var W=l(In=>{"use strict";Object.defineProperty(In,"__esModule",{value:!0});function K0(s){return 0<=s&&s<=127}n(K0,"isASCIIByte");In.isASCIIByte=K0;In.isASCIICodePoint=K0;In.end_of_stream=-1});var X0=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var Ul=Q(),_P=J(),z0=oe(),ua=W(),Nl=ne(),mP=function(){function s(e){this.fatal=e.fatal,this.Big5_lead=0}return n(s,"Big5Decoder"),s.prototype.handler=function(e,t){if(t===ua.end_of_stream&&this.Big5_lead!==0)return this.Big5_lead=0,Ul.decoderError(this.fatal);if(t===ua.end_of_stream&&this.Big5_lead===0)return _P.finished;if(this.Big5_lead!==0){var i=this.Big5_lead,a=null;this.Big5_lead=0;var r=t<127?64:98;switch((Nl.inRange(t,64,126)||Nl.inRange(t,161,254))&&(a=(i-129)*157+(t-r)),a){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var o=a===null?null:z0.indexCodePointFor(a,z0.index("big5"));return o===null&&ua.isASCIIByte(t)&&e.prepend(t),o===null?Ul.decoderError(this.fatal):o}return ua.isASCIIByte(t)?t:Nl.inRange(t,129,254)?(this.Big5_lead=t,null):Ul.decoderError(this.fatal)},s}();Bl.Big5Decoder=mP});var j0=l(Fl=>{"use strict";Object.defineProperty(Fl,"__esModule",{value:!0});var Q0=Q(),yP=J(),vP=oe(),Z0=W(),wP=function(){function s(e){this.fatal=e.fatal}return n(s,"Big5Encoder"),s.prototype.handler=function(e,t){if(t===Z0.end_of_stream)return yP.finished;if(Z0.isASCIICodePoint(t))return t;var i=vP.indexBig5PointerFor(t);if(i===null)return Q0.encoderError(t);var a=Math.floor(i/157)+129;if(a<161)return Q0.encoderError(t);var r=i%157,o=r<63?64:98;return[a,r+o]},s}();Fl.Big5Encoder=wP});var tb=l(la=>{"use strict";function eb(s){for(var e in s)la.hasOwnProperty(e)||(la[e]=s[e])}n(eb,"__export");Object.defineProperty(la,"__esModule",{value:!0});eb(X0());eb(j0())});var ib=l(Yl=>{"use strict";Object.defineProperty(Yl,"__esModule",{value:!0});var Ml=Q(),xP=J(),nb=oe(),Vl=W(),It=ne(),bP=function(){function s(e){this.fatal=e.fatal,this.eucjp_jis0212_flag=!1,this.eucjp_lead=0}return n(s,"EUCJPDecoder"),s.prototype.handler=function(e,t){if(t===Vl.end_of_stream&&this.eucjp_lead!==0)return this.eucjp_lead=0,Ml.decoderError(this.fatal);if(t===Vl.end_of_stream&&this.eucjp_lead===0)return xP.finished;if(this.eucjp_lead===142&&It.inRange(t,161,223))return this.eucjp_lead=0,65377-161+t;if(this.eucjp_lead===143&&It.inRange(t,161,254))return this.eucjp_jis0212_flag=!0,this.eucjp_lead=t,null;if(this.eucjp_lead!==0){var i=this.eucjp_lead;this.eucjp_lead=0;var a=null;return It.inRange(i,161,254)&&It.inRange(t,161,254)&&(a=nb.indexCodePointFor((i-161)*94+(t-161),nb.index(this.eucjp_jis0212_flag?"jis0212":"jis0208"))),this.eucjp_jis0212_flag=!1,It.inRange(t,161,254)||e.prepend(t),a===null?Ml.decoderError(this.fatal):a}return Vl.isASCIIByte(t)?t:t===142||t===143||It.inRange(t,161,254)?(this.eucjp_lead=t,null):Ml.decoderError(this.fatal)},s}();Yl.EUCJPDecoder=bP});var ob=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});var EP=Q(),TP=J(),sb=oe(),rb=W(),qP=ne(),SP=function(){function s(e){this.fatal=e.fatal}return n(s,"EUCJPEncoder"),s.prototype.handler=function(e,t){if(t===rb.end_of_stream)return TP.finished;if(rb.isASCIICodePoint(t))return t;if(t===165)return 92;if(t===8254)return 126;if(qP.inRange(t,65377,65439))return[142,t-65377+161];t===8722&&(t=65293);var i=sb.indexPointerFor(t,sb.index("jis0208"));if(i===null)return EP.encoderError(t);var a=Math.floor(i/94)+161,r=i%94+161;return[a,r]},s}();Gl.EUCJPEncoder=SP});var ab=l(ha=>{"use strict";function cb(s){for(var e in s)ha.hasOwnProperty(e)||(ha[e]=s[e])}n(cb,"__export");Object.defineProperty(ha,"__esModule",{value:!0});cb(ib());cb(ob())});var hb=l(Wl=>{"use strict";Object.defineProperty(Wl,"__esModule",{value:!0});var $l=Q(),IP=J(),ub=oe(),da=W(),lb=ne(),CP=function(){function s(e){this.fatal=e.fatal,this.euckr_lead=0}return n(s,"EUCKRDecoder"),s.prototype.handler=function(e,t){if(t===da.end_of_stream&&this.euckr_lead!==0)return this.euckr_lead=0,$l.decoderError(this.fatal);if(t===da.end_of_stream&&this.euckr_lead===0)return IP.finished;if(this.euckr_lead!==0){var i=this.euckr_lead,a=null;this.euckr_lead=0,lb.inRange(t,65,254)&&(a=(i-129)*190+(t-65));var r=a===null?null:ub.indexCodePointFor(a,ub.index("euc-kr"));return a===null&&da.isASCIIByte(t)&&e.prepend(t),r===null?$l.decoderError(this.fatal):r}return da.isASCIIByte(t)?t:lb.inRange(t,129,254)?(this.euckr_lead=t,null):$l.decoderError(this.fatal)},s}();Wl.EUCKRDecoder=CP});var gb=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var PP=Q(),RP=J(),db=oe(),pb=W(),AP=function(){function s(e){this.fatal=e.fatal}return n(s,"EUCKREncoder"),s.prototype.handler=function(e,t){if(t===pb.end_of_stream)return RP.finished;if(pb.isASCIICodePoint(t))return t;var i=db.indexPointerFor(t,db.index("euc-kr"));if(i===null)return PP.encoderError(t);var a=Math.floor(i/190)+129,r=i%190+65;return[a,r]},s}();Jl.EUCKREncoder=AP});var mb=l(pa=>{"use strict";function _b(s){for(var e in s)pa.hasOwnProperty(e)||(pa[e]=s[e])}n(_b,"__export");Object.defineProperty(pa,"__esModule",{value:!0});_b(hb());_b(gb())});var yb=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var Cn=Q(),kP=J(),Hl=oe(),ga=W(),Ct=ne(),LP=function(){function s(e){this.fatal=e.fatal,this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0}return n(s,"GB18030Decoder"),s.prototype.handler=function(e,t){if(t===ga.end_of_stream&&this.gb18030_first===0&&this.gb18030_second===0&&this.gb18030_third===0)return kP.finished;t===ga.end_of_stream&&(this.gb18030_first!==0||this.gb18030_second!==0||this.gb18030_third!==0)&&(this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0,Cn.decoderError(this.fatal));var i;if(this.gb18030_third!==0){i=null,Ct.inRange(t,48,57)&&(i=Hl.indexGB18030RangesCodePointFor((((this.gb18030_first-129)*10+this.gb18030_second-48)*126+this.gb18030_third-129)*10+t-48));var a=[this.gb18030_second,this.gb18030_third,t];return this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0,i===null?(e.prepend(a),Cn.decoderError(this.fatal)):i}if(this.gb18030_second!==0)return Ct.inRange(t,129,254)?(this.gb18030_third=t,null):(e.prepend([this.gb18030_second,t]),this.gb18030_first=0,this.gb18030_second=0,Cn.decoderError(this.fatal));if(this.gb18030_first!==0){if(Ct.inRange(t,48,57))return this.gb18030_second=t,null;var r=this.gb18030_first,o=null;this.gb18030_first=0;var c=t<127?64:65;return(Ct.inRange(t,64,126)||Ct.inRange(t,128,254))&&(o=(r-129)*190+(t-c)),i=o===null?null:Hl.indexCodePointFor(o,Hl.index("gb18030")),i===null&&ga.isASCIIByte(t)&&e.prepend(t),i===null?Cn.decoderError(this.fatal):i}return ga.isASCIIByte(t)?t:t===128?8364:Ct.inRange(t,129,254)?(this.gb18030_first=t,null):Cn.decoderError(this.fatal)},s}();Kl.GB18030Decoder=LP});var xb=l(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var vb=Q(),fP=J(),zl=oe(),wb=W(),OP=function(){function s(e,t){t===void 0&&(t=void 0),this.gbk_flag=t,this.fatal=e.fatal}return n(s,"GB18030Encoder"),s.prototype.handler=function(e,t){if(t===wb.end_of_stream)return fP.finished;if(wb.isASCIICodePoint(t))return t;if(t===58853)return vb.encoderError(t);if(this.gbk_flag&&t===8364)return 128;var i=zl.indexPointerFor(t,zl.index("gb18030"));if(i!==null){var a=Math.floor(i/190)+129,r=i%190,o=r<63?64:65;return[a,r+o]}if(this.gbk_flag)return vb.encoderError(t);i=zl.indexGB18030RangesPointerFor(t);var c=Math.floor(i/10/126/10);i=i-c*10*126*10;var p=Math.floor(i/10/126);i=i-p*10*126;var d=Math.floor(i/10),h=i-d*10;return[c+129,p+48,d+129,h+48]},s}();Xl.GB18030Encoder=OP});var Eb=l(_a=>{"use strict";function bb(s){for(var e in s)_a.hasOwnProperty(e)||(_a[e]=s[e])}n(bb,"__export");Object.defineProperty(_a,"__esModule",{value:!0});bb(yb());bb(xb())});var qb=l(Ql=>{"use strict";Object.defineProperty(Ql,"__esModule",{value:!0});var Ee=Q(),ma=J(),Tb=oe(),Pn=W(),Rn=ne(),G;(function(s){s[s.ASCII=0]="ASCII",s[s.Roman=1]="Roman",s[s.Katakana=2]="Katakana",s[s.LeadByte=3]="LeadByte",s[s.TrailByte=4]="TrailByte",s[s.EscapeStart=5]="EscapeStart",s[s.Escape=6]="Escape"})(G||(G={}));var DP=function(){function s(e){this.fatal=e.fatal,this.iso2022jp_decoder_state=G.ASCII,this.iso2022jp_decoder_output_state=G.ASCII,this.iso2022jp_lead=0,this.iso2022jp_output_flag=!1}return n(s,"ISO2022JPDecoder"),s.prototype.handler=function(e,t){switch(this.iso2022jp_decoder_state){default:case G.ASCII:return t===27?(this.iso2022jp_decoder_state=G.EscapeStart,null):Rn.inRange(t,0,127)&&t!==14&&t!==15&&t!==27?(this.iso2022jp_output_flag=!1,t):t===Pn.end_of_stream?ma.finished:(this.iso2022jp_output_flag=!1,Ee.decoderError(this.fatal));case G.Roman:return t===27?(this.iso2022jp_decoder_state=G.EscapeStart,null):t===92?(this.iso2022jp_output_flag=!1,165):t===126?(this.iso2022jp_output_flag=!1,8254):Rn.inRange(t,0,127)&&t!==14&&t!==15&&t!==27&&t!==92&&t!==126?(this.iso2022jp_output_flag=!1,t):t===Pn.end_of_stream?ma.finished:(this.iso2022jp_output_flag=!1,Ee.decoderError(this.fatal));case G.Katakana:return t===27?(this.iso2022jp_decoder_state=G.EscapeStart,null):Rn.inRange(t,33,95)?(this.iso2022jp_output_flag=!1,65377-33+t):t===Pn.end_of_stream?ma.finished:(this.iso2022jp_output_flag=!1,Ee.decoderError(this.fatal));case G.LeadByte:return t===27?(this.iso2022jp_decoder_state=G.EscapeStart,null):Rn.inRange(t,33,126)?(this.iso2022jp_output_flag=!1,this.iso2022jp_lead=t,this.iso2022jp_decoder_state=G.TrailByte,null):t===Pn.end_of_stream?ma.finished:(this.iso2022jp_output_flag=!1,Ee.decoderError(this.fatal));case G.TrailByte:if(t===27)return this.iso2022jp_decoder_state=G.EscapeStart,Ee.decoderError(this.fatal);if(Rn.inRange(t,33,126)){this.iso2022jp_decoder_state=G.LeadByte;var i=(this.iso2022jp_lead-33)*94+t-33,a=Tb.indexCodePointFor(i,Tb.index("jis0208"));return a===null?Ee.decoderError(this.fatal):a}return t===Pn.end_of_stream?(this.iso2022jp_decoder_state=G.LeadByte,e.prepend(t),Ee.decoderError(this.fatal)):(this.iso2022jp_decoder_state=G.LeadByte,Ee.decoderError(this.fatal));case G.EscapeStart:return t===36||t===40?(this.iso2022jp_lead=t,this.iso2022jp_decoder_state=G.Escape,null):(e.prepend(t),this.iso2022jp_output_flag=!1,this.iso2022jp_decoder_state=this.iso2022jp_decoder_output_state,Ee.decoderError(this.fatal));case G.Escape:var r=this.iso2022jp_lead;this.iso2022jp_lead=0;var o=null;if(r===40&&t===66&&(o=G.ASCII),r===40&&t===74&&(o=G.Roman),r===40&&t===73&&(o=G.Katakana),r===36&&(t===64||t===66)&&(o=G.LeadByte),o!==null){this.iso2022jp_decoder_state=this.iso2022jp_decoder_state=o;var c=this.iso2022jp_output_flag;return this.iso2022jp_output_flag=!0,c?Ee.decoderError(this.fatal):null}return e.prepend([r,t]),this.iso2022jp_output_flag=!1,this.iso2022jp_decoder_state=this.iso2022jp_decoder_output_state,Ee.decoderError(this.fatal)}},s}();Ql.ISO2022JPDecoder=DP});var Cb=l(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var Sb=Q(),UP=J(),Ib=oe(),Pt=W(),re;(function(s){s[s.ASCII=0]="ASCII",s[s.Roman=1]="Roman",s[s.jis0208=2]="jis0208"})(re||(re={}));var NP=function(){function s(e){this.fatal=e.fatal,this.iso2022jp_state=re.ASCII}return n(s,"ISO2022JPEncoder"),s.prototype.handler=function(e,t){if(t===Pt.end_of_stream&&this.iso2022jp_state!==re.ASCII)return e.prepend(t),this.iso2022jp_state=re.ASCII,[27,40,66];if(t===Pt.end_of_stream&&this.iso2022jp_state===re.ASCII)return UP.finished;if((this.iso2022jp_state===re.ASCII||this.iso2022jp_state===re.Roman)&&(t===14||t===15||t===27))return Sb.encoderError(65533);if(this.iso2022jp_state===re.ASCII&&Pt.isASCIICodePoint(t))return t;if(this.iso2022jp_state===re.Roman&&(Pt.isASCIICodePoint(t)&&t!==92&&t!==126||t==165||t==8254)){if(Pt.isASCIICodePoint(t))return t;if(t===165)return 92;if(t===8254)return 126}if(Pt.isASCIICodePoint(t)&&this.iso2022jp_state!==re.ASCII)return e.prepend(t),this.iso2022jp_state=re.ASCII,[27,40,66];if((t===165||t===8254)&&this.iso2022jp_state!==re.Roman)return e.prepend(t),this.iso2022jp_state=re.Roman,[27,40,74];t===8722&&(t=65293);var i=Ib.indexPointerFor(t,Ib.index("jis0208"));if(i===null)return Sb.encoderError(t);if(this.iso2022jp_state!==re.jis0208)return e.prepend(t),this.iso2022jp_state=re.jis0208,[27,36,66];var a=Math.floor(i/94)+33,r=i%94+33;return[a,r]},s}();Zl.ISO2022JPEncoder=NP});var Rb=l(ya=>{"use strict";function Pb(s){for(var e in s)ya.hasOwnProperty(e)||(ya[e]=s[e])}n(Pb,"__export");Object.defineProperty(ya,"__esModule",{value:!0});Pb(qb());Pb(Cb())});var kb=l(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var jl=Q(),BP=J(),Ab=oe(),va=W(),Rt=ne(),FP=function(){function s(e){this.fatal=e.fatal,this.Shift_JIS_lead=0}return n(s,"ShiftJISDecoder"),s.prototype.handler=function(e,t){if(t===va.end_of_stream&&this.Shift_JIS_lead!==0)return this.Shift_JIS_lead=0,jl.decoderError(this.fatal);if(t===va.end_of_stream&&this.Shift_JIS_lead===0)return BP.finished;if(this.Shift_JIS_lead!==0){var i=this.Shift_JIS_lead,a=null;this.Shift_JIS_lead=0;var r=t<127?64:65,o=i<160?129:193;if((Rt.inRange(t,64,126)||Rt.inRange(t,128,252))&&(a=(i-o)*188+t-r),Rt.inRange(a,8836,10715))return 57344-8836+a;var c=a===null?null:Ab.indexCodePointFor(a,Ab.index("jis0208"));return c===null&&va.isASCIIByte(t)&&e.prepend(t),c===null?jl.decoderError(this.fatal):c}return va.isASCIIByte(t)||t===128?t:Rt.inRange(t,161,223)?65377-161+t:Rt.inRange(t,129,159)||Rt.inRange(t,224,252)?(this.Shift_JIS_lead=t,null):jl.decoderError(this.fatal)},s}();eh.ShiftJISDecoder=FP});var fb=l(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var MP=Q(),VP=J(),YP=oe(),Lb=W(),GP=ne(),$P=function(){function s(e){this.fatal=e.fatal}return n(s,"ShiftJISEncoder"),s.prototype.handler=function(e,t){if(t===Lb.end_of_stream)return VP.finished;if(Lb.isASCIICodePoint(t)||t===128)return t;if(t===165)return 92;if(t===8254)return 126;if(GP.inRange(t,65377,65439))return t-65377+161;t===8722&&(t=65293);var i=YP.indexShiftJISPointerFor(t);if(i===null)return MP.encoderError(t);var a=Math.floor(i/188),r=a<31?129:193,o=i%188,c=o<63?64:65;return[a+r,o+c]},s}();th.ShiftJISEncoder=$P});var Db=l(wa=>{"use strict";function Ob(s){for(var e in s)wa.hasOwnProperty(e)||(wa[e]=s[e])}n(Ob,"__export");Object.defineProperty(wa,"__esModule",{value:!0});Ob(kb());Ob(fb())});var Nb=l(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});var WP=Q(),JP=J(),Ub=W(),HP=function(){function s(e,t){this.index=e,this.fatal=t.fatal}return n(s,"SingleByteDecoder"),s.prototype.handler=function(e,t){if(t===Ub.end_of_stream)return JP.finished;if(Ub.isASCIIByte(t))return t;var i=this.index[t-128];return i||WP.decoderError(this.fatal)},s}();nh.SingleByteDecoder=HP});var Fb=l(ih=>{"use strict";Object.defineProperty(ih,"__esModule",{value:!0});var KP=Q(),zP=J(),XP=oe(),Bb=W(),QP=function(){function s(e,t){this.index=e,this.fatal=t.fatal}return n(s,"SingleByteEncoder"),s.prototype.handler=function(e,t){if(t===Bb.end_of_stream)return zP.finished;if(Bb.isASCIICodePoint(t))return t;var i=XP.indexPointerFor(t,this.index);return i===null&&KP.encoderError(t),i+128},s}();ih.SingleByteEncoder=QP});var Vb=l(xa=>{"use strict";function Mb(s){for(var e in s)xa.hasOwnProperty(e)||(xa[e]=s[e])}n(Mb,"__export");Object.defineProperty(xa,"__esModule",{value:!0});Mb(Nb());Mb(Fb())});var rh=l(sh=>{"use strict";Object.defineProperty(sh,"__esModule",{value:!0});function ZP(s,e){var t=s>>8,i=s&255;return e?[t,i]:[i,t]}n(ZP,"convertCodeUnitToBytes");sh.convertCodeUnitToBytes=ZP});var Gb=l(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});var oh=Q(),jP=J(),Yb=W(),ch=ne(),eR=rh(),tR=function(){function s(e,t){this.utf16_be=e,this.fatal=t.fatal,this.utf16_lead_byte=null,this.utf16_lead_surrogate=null}return n(s,"UTF16Decoder"),s.prototype.handler=function(e,t){if(t===Yb.end_of_stream&&(this.utf16_lead_byte!==null||this.utf16_lead_surrogate!==null))return oh.decoderError(this.fatal);if(t===Yb.end_of_stream&&this.utf16_lead_byte===null&&this.utf16_lead_surrogate===null)return jP.finished;if(this.utf16_lead_byte===null)return this.utf16_lead_byte=t,null;var i;if(this.utf16_be?i=(this.utf16_lead_byte<<8)+t:i=(t<<8)+this.utf16_lead_byte,this.utf16_lead_byte=null,this.utf16_lead_surrogate!==null){var a=this.utf16_lead_surrogate;return this.utf16_lead_surrogate=null,ch.inRange(i,56320,57343)?65536+(a-55296)*1024+(i-56320):(e.prepend(eR.convertCodeUnitToBytes(i,this.utf16_be)),oh.decoderError(this.fatal))}return ch.inRange(i,55296,56319)?(this.utf16_lead_surrogate=i,null):ch.inRange(i,56320,57343)?oh.decoderError(this.fatal):i},s}();ah.UTF16Decoder=tR});var $b=l(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var nR=J(),iR=W(),sR=ne(),uh=rh(),rR=function(){function s(e,t){this.utf16_be=e,this.fatal=t.fatal}return n(s,"UTF16Encoder"),s.prototype.handler=function(e,t){if(t===iR.end_of_stream)return nR.finished;if(sR.inRange(t,0,65535))return uh.convertCodeUnitToBytes(t,this.utf16_be);var i=uh.convertCodeUnitToBytes((t-65536>>10)+55296,this.utf16_be),a=uh.convertCodeUnitToBytes((t-65536&1023)+56320,this.utf16_be);return i.concat(a)},s}();lh.UTF16Encoder=rR});var Jb=l(ba=>{"use strict";function Wb(s){for(var e in s)ba.hasOwnProperty(e)||(ba[e]=s[e])}n(Wb,"__export");Object.defineProperty(ba,"__esModule",{value:!0});Wb(Gb());Wb($b())});var Kb=l(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var hh=Q(),oR=J(),Hb=W(),An=ne(),cR=function(){function s(e){this.fatal=e.fatal,this.utf8_code_point=0,this.utf8_bytes_seen=0,this.utf8_bytes_needed=0,this.utf8_lower_boundary=128,this.utf8_upper_boundary=191}return n(s,"UTF8Decoder"),s.prototype.handler=function(e,t){if(t===Hb.end_of_stream&&this.utf8_bytes_needed!==0)return this.utf8_bytes_needed=0,hh.decoderError(this.fatal);if(t===Hb.end_of_stream)return oR.finished;if(this.utf8_bytes_needed===0){if(An.inRange(t,0,127))return t;if(An.inRange(t,194,223))this.utf8_bytes_needed=1,this.utf8_code_point=t&31;else if(An.inRange(t,224,239))t===224&&(this.utf8_lower_boundary=160),t===237&&(this.utf8_upper_boundary=159),this.utf8_bytes_needed=2,this.utf8_code_point=t&15;else if(An.inRange(t,240,244))t===240&&(this.utf8_lower_boundary=144),t===244&&(this.utf8_upper_boundary=143),this.utf8_bytes_needed=3,this.utf8_code_point=t&7;else return hh.decoderError(this.fatal);return null}if(!An.inRange(t,this.utf8_lower_boundary,this.utf8_upper_boundary))return this.utf8_code_point=this.utf8_bytes_needed=this.utf8_bytes_seen=0,this.utf8_lower_boundary=128,this.utf8_upper_boundary=191,e.prepend(t),hh.decoderError(this.fatal);if(this.utf8_lower_boundary=128,this.utf8_upper_boundary=191,this.utf8_code_point=this.utf8_code_point<<6|t&63,this.utf8_bytes_seen+=1,this.utf8_bytes_seen!==this.utf8_bytes_needed)return null;var i=this.utf8_code_point;return this.utf8_code_point=this.utf8_bytes_needed=this.utf8_bytes_seen=0,i},s}();dh.UTF8Decoder=cR});var Xb=l(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var aR=J(),zb=W(),ph=ne(),uR=function(){function s(e){this.fatal=e.fatal}return n(s,"UTF8Encoder"),s.prototype.handler=function(e,t){if(t===zb.end_of_stream)return aR.finished;if(zb.isASCIICodePoint(t))return t;var i,a;ph.inRange(t,128,2047)?(i=1,a=192):ph.inRange(t,2048,65535)?(i=2,a=224):ph.inRange(t,65536,1114111)&&(i=3,a=240);for(var r=[(t>>6*i)+a];i>0;){var o=t>>6*(i-1);r.push(128|o&63),i-=1}return r},s}();gh.UTF8Encoder=uR});var Zb=l(Ea=>{"use strict";function Qb(s){for(var e in s)Ea.hasOwnProperty(e)||(Ea[e]=s[e])}n(Qb,"__export");Object.defineProperty(Ea,"__esModule",{value:!0});Qb(Kb());Qb(Xb())});var eE=l(_h=>{"use strict";Object.defineProperty(_h,"__esModule",{value:!0});var lR=J(),jb=W(),hR=function(){function s(e){this.fatal=e.fatal}return n(s,"XUserDefinedDecoder"),s.prototype.handler=function(e,t){return t===jb.end_of_stream?lR.finished:jb.isASCIIByte(t)?t:63360+t-128},s}();_h.XUserDefinedDecoder=hR});var nE=l(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var dR=Q(),pR=J(),tE=W(),gR=ne(),_R=function(){function s(e){this.fatal=e.fatal}return n(s,"XUserDefinedEncoder"),s.prototype.handler=function(e,t){return t===tE.end_of_stream?pR.finished:tE.isASCIICodePoint(t)?t:gR.inRange(t,63360,63487)?t-63360+128:dR.encoderError(t)},s}();mh.XUserDefinedEncoder=_R});var sE=l(Ta=>{"use strict";function iE(s){for(var e in s)Ta.hasOwnProperty(e)||(Ta[e]=s[e])}n(iE,"__export");Object.defineProperty(Ta,"__esModule",{value:!0});iE(eE());iE(nE())});var yh=l(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var oE=tb(),cE=ab(),aE=mb(),qa=Eb(),uE=Rb(),lE=Db(),rE=Vb(),Sa=Jb(),hE=Zb(),dE=sE(),mR=Q(),yR=oe(),vR=fl(),wR=vR.getEncodingIndexes();At.encoders={"UTF-8":function(s){return new hE.UTF8Encoder(s)},GBK:function(s){return new qa.GB18030Encoder(s,!0)},gb18030:function(s){return new qa.GB18030Encoder(s)},Big5:function(s){return new oE.Big5Encoder(s)},"EUC-JP":function(s){return new cE.EUCJPEncoder(s)},"ISO-2022-JP":function(s){return new uE.ISO2022JPEncoder(s)},Shift_JIS:function(s){return new lE.ShiftJISEncoder(s)},"EUC-KR":function(s){return new aE.EUCKREncoder(s)},"UTF-16BE":function(s){return new Sa.UTF16Encoder(!0,s)},"UTF-16LE":function(s){return new Sa.UTF16Encoder(!1,s)},"x-user-defined":function(s){return new dE.XUserDefinedEncoder(s)}};At.decoders={"UTF-8":function(s){return new hE.UTF8Decoder(s)},GBK:function(s){return new qa.GB18030Decoder(s)},gb18030:function(s){return new qa.GB18030Decoder(s)},Big5:function(s){return new oE.Big5Decoder(s)},"EUC-JP":function(s){return new cE.EUCJPDecoder(s)},"ISO-2022-JP":function(s){return new uE.ISO2022JPDecoder(s)},Shift_JIS:function(s){return new lE.ShiftJISDecoder(s)},"EUC-KR":function(s){return new aE.EUCKRDecoder(s)},"UTF-16BE":function(s){return new Sa.UTF16Decoder(!0,s)},"UTF-16LE":function(s){return new Sa.UTF16Decoder(!1,s)},"x-user-defined":function(s){return new dE.XUserDefinedDecoder(s)}};wR&&mR.encodings.forEach(function(s){s.heading==="Legacy single-byte encodings"&&s.encodings.forEach(function(e){var t=e.name,i=yR.index(t.toLowerCase());At.decoders[t]=function(a){return new rE.SingleByteDecoder(i,a)},At.encoders[t]=function(a){return new rE.SingleByteEncoder(i,a)}})})});var wh=l(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});var xR=W(),bR=function(){function s(e){this.tokens=Array.from(e),this.tokens.reverse()}return n(s,"Stream"),s.prototype.endOfStream=function(){return!this.tokens.length},s.prototype.read=function(){return this.tokens.length?this.tokens.pop():xR.end_of_stream},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},s.prototype.push=function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)},s}();vh.Stream=bR});var mE=l(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var ER=Sl(),pE=yh(),TR=Q(),gE=J(),qR=W(),Ia=ne(),SR=wh(),IR=function(){function s(e,t){e=e!==void 0?String(e):ER.DEFAULT_ENCODING;var i=Ia.ToDictionary(t);this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var a=TR.getEncoding(e);if(a===null||a.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!pE.decoders[a.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=a,Boolean(i.fatal)&&(this._error_mode="fatal"),Boolean(i.ignoreBOM)&&(this._ignoreBOM=!0)}return n(s,"TextDecoder"),Object.defineProperty(s.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fatal",{get:function(){return this._error_mode==="fatal"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM},enumerable:!0,configurable:!0}),s.prototype.decode=function(e,t){var i=CR(e),a=Ia.ToDictionary(t);this._do_not_flush||(this._decoder=pE.decoders[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=Boolean(a.stream);for(var r=new SR.Stream(i),o=[],c;;){var p=r.read();if(p===qR.end_of_stream||(c=this._decoder.handler(r,p),c===gE.finished))break;c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c))}if(!this._do_not_flush){do{if(c=this._decoder.handler(r,r.read()),c===gE.finished)break;!c||(Array.isArray(c)?o.push.apply(o,c):o.push(c))}while(!r.endOfStream());this._decoder=null}return this.serializeStream(o)},s.prototype.serializeStream=function(e){return Ia.includes(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(e.length>0&&e[0]===65279?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),Ia.codePointsToString(e)},s}();xh.TextDecoder=IR;function _E(s){try{return s instanceof ArrayBuffer}catch(e){return console.error(e),!1}}n(_E,"isBufferInstance");function CR(s){return typeof s!="object"?new Uint8Array(0):_E(s)?new Uint8Array(s):"buffer"in s&&_E(s.buffer)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(0)}n(CR,"getBytesFromInput")});var xE=l(Eh=>{"use strict";Object.defineProperty(Eh,"__esModule",{value:!0});var PR=Sl(),yE=yh(),vE=Q(),wE=J(),RR=W(),bh=ne(),AR=Al(),kR=wh(),LR=function(){function s(e,t){var i=bh.ToDictionary(t);if(this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(i.fatal)?"fatal":"replacement",Boolean(i.NONSTANDARD_allowLegacyEncoding)){e=e?String(e):PR.DEFAULT_ENCODING;var a=vE.getEncoding(e);if(a===null||a.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!yE.encoders[a.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=a}else{this._encoding=vE.getEncoding("utf-8");var r=AR.getGlobalScope()||{};e!==void 0&&"console"in r&&console.warn("TextEncoder constructor called with encoding label, which is ignored.")}}return n(s,"TextEncoder"),Object.defineProperty(s.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()},enumerable:!0,configurable:!0}),s.prototype.encode=function(e,t){e=e===void 0?"":String(e);var i=bh.ToDictionary(t);this._do_not_flush||(this._encoder=yE.encoders[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=Boolean(i.stream);for(var a=new kR.Stream(bh.stringToCodePoints(e)),r=[],o;;){var c=a.read();if(c===RR.end_of_stream||(o=this._encoder.handler(a,c),o===wE.finished))break;Array.isArray(o)?r.push.apply(r,o):r.push(o)}if(!this._do_not_flush){for(;o=this._encoder.handler(a,a.read()),o!==wE.finished;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)},s}();Eh.TextEncoder=LR});var TE=l(Ca=>{"use strict";Object.defineProperty(Ca,"__esModule",{value:!0});var bE=mE();Ca.TextDecoder=bE.TextDecoder;var EE=xE();Ca.TextEncoder=EE.TextEncoder;typeof window<"u"&&(Th=n(function(s){return!(s in window)||typeof window[s]>"u"||window[s]===null},"checkUndefined"),Th("TextDecoder")&&(window.TextDecoder=bE.TextDecoder),Th("TextEncoder")&&(window.TextEncoder=EE.TextEncoder));var Th});var SE=l(kn=>{"use strict";var{TextEncoder:qE,TextDecoder:fR}=TE(),{NTOKEN_REGEX:qh,BASE64_DIALECT:Pa}=ye(),M=kn.NTokenTransformOperation={NO_OP:0,PUSH:1,REVERSE_1:2,REVERSE_2:3,SPLICE:4,SWAP0_1:5,SWAP0_2:6,ROTATE_1:7,ROTATE_2:8,BASE64_DIA:9,TRANSLATE_1:10,TRANSLATE_2:11},K=kn.NTokenTransformOpType={FUNC:0,N_ARR:1,LITERAL:2,REF:3},OR={"d.push(e)":M.PUSH,"d.reverse()":M.REVERSE_1,"function(d){for(var":M.REVERSE_2,"d.length;d.splice(e,1)":M.SPLICE,"d[0])[0])":M.SWAP0_1,"f=d[0];d[0]":M.SWAP0_2,"reverse().forEach":M.ROTATE_1,"unshift(d.pop())":M.ROTATE_2,"function(){for(var":M.BASE64_DIA,"function(d,e){for(var f":M.TRANSLATE_1,"function(d,e,f){var":M.TRANSLATE_2},Y=class{static translate1(e,t,i){let a=i?Pa.REVERSE:Pa.NORMAL,r=t.split("");e.forEach((o,c,p)=>{r.push(p[c]=a[(a.indexOf(o)-a.indexOf(r[c])+64)%a.length])})}static translate2(e,t,i){let a=i.length,r=t.split("");e.forEach((o,c,p)=>{r.push(p[c]=i[(i.indexOf(o)-i.indexOf(r[c])+c+a--)%i.length])})}static getBase64Dia(e){return e?Pa.REVERSE:Pa.NORMAL}static swap0(e,t){let i=e[0];t=(t%e.length+e.length)%e.length,e[0]=e[t],e[t]=i}static rotate(e,t){t=(t%e.length+e.length)%e.length,e.splice(-t).reverse().forEach(i=>e.unshift(i))}static splice(e,t){t=(t%e.length+e.length)%e.length,e.splice(t,1)}static reverse(e){e.reverse()}static push(e,t){Array.isArray(e==null?void 0:e[0])?e.push([K.LITERAL,t]):e.push(t)}};n(Y,"NTokenTransforms");kn.NTokenTransforms=Y;var DR=[{[M.PUSH]:Y.push,[M.SPLICE]:Y.splice,[M.SWAP0_1]:Y.swap0,[M.SWAP0_2]:Y.swap0,[M.ROTATE_1]:Y.rotate,[M.ROTATE_2]:Y.rotate,[M.REVERSE_1]:Y.reverse,[M.REVERSE_2]:Y.reverse,[M.BASE64_DIA]:()=>Y.getBase64Dia(!1),[M.TRANSLATE_1]:(...s)=>Y.translate1.apply(null,[...s,!1]),[M.TRANSLATE_2]:Y.translate2},{[M.PUSH]:Y.push,[M.SPLICE]:Y.splice,[M.SWAP0_1]:Y.swap0,[M.SWAP0_2]:Y.swap0,[M.ROTATE_1]:Y.rotate,[M.ROTATE_2]:Y.rotate,[M.REVERSE_1]:Y.reverse,[M.REVERSE_2]:Y.reverse,[M.BASE64_DIA]:()=>Y.getBase64Dia(!0),[M.TRANSLATE_1]:(...s)=>Y.translate1.apply(null,[...s,!0]),[M.TRANSLATE_2]:Y.translate2}],Te=class{constructor(e){this.transformer=e}static fromSourceCode(e){let i=Te.getTransformationData(e).map(o=>{var c;if(o!=null&&typeof o!="number"){let p=o.includes("case 65:"),d=OR[(c=Te.getFunc(o))==null?void 0:c[0]];d?o=[K.FUNC,d,0+p]:o=="b"?o=[K.N_ARR]:o=[K.LITERAL,o]}else o!=null&&(o=[K.LITERAL,o]);return o});[...e.matchAll(qh.PLACEHOLDERS)].map(o=>parseInt(o[1])).forEach(o=>i[o]=[K.REF]);let r=[...e.replace(/\n/g,"").match(/try\{(.*?)\}catch/s)[1].matchAll(qh.CALLS)].map(o=>[parseInt(o[1]),o[2].split(",").map(c=>{var p;return parseInt((p=c.match(/c\[(.*?)\]/))==null?void 0:p[1])})]);return new Te([i,r])}evaluate(e,t,i){switch(e[0]){case K.FUNC:return DR[e[2]][e[1]];case K.N_ARR:return t;case K.LITERAL:return e[1];case K.REF:return i[0]}}transform(e){let t=e.split(""),i=this.getTransformerClone();try{i[1].forEach(([a,r])=>{let o=r[2]&&this.evaluate(i[0][r[2]],t,i)();this.evaluate(i[0][a],t,i)(r[0]!==void 0&&this.evaluate(i[0][r[0]],t,i),r[1]!==void 0&&this.evaluate(i[0][r[1]],t,i),o)})}catch(a){return console.error(new Error(`Could not transform n-token, download may be throttled.
Original Token:${e}Error:
${a}`)),e}return t.join("")}getTransformerClone(){return[[...this.transformer[0]],[...this.transformer[1]]]}toJSON(){return this.getTransformerClone()}toArrayBuffer(){let e=12;for(let r of this.transformer[0])switch(r[0]){case K.FUNC:e+=2;break;case K.N_ARR:case K.REF:e+=1;break;case K.LITERAL:typeof r[1]=="string"&&(e+=1+4+new qE().encode(r[1]).byteLength),e+=4+1;break}for(let r of this.transformer[1])e+=2+r[1].length;let t=new ArrayBuffer(e),i=new DataView(t),a=0;i.setUint32(a,Te.LIBRARY_VERSION,!0),a+=4,i.setUint32(a,this.transformer[0].length,!0),a+=4,i.setUint32(a,this.transformer[1].length,!0),a+=4;for(let r of this.transformer[0])switch(r[0]){case K.FUNC:{let o=r[0]<<6|r[2];i.setUint8(a,o),a+=1,i.setUint8(a,r[1]),a+=1}break;case K.N_ARR:case K.REF:{let o=r[0]<<6;i.setUint8(a,o),a+=1}break;case K.LITERAL:{let o=typeof r[1]=="string"?1:0,c=r[0]<<6|o;if(i.setUint8(a,c),a+=1,o===0)i.setInt32(a,r[1],!0),a+=4;else{let p=new qE().encode(r[1]);i.setUint32(a,p.byteLength,!0),a+=4;for(let d=0;d<p.byteLength;d++)i.setUint8(a,p[d]),a+=1}}break}for(let r of this.transformer[1]){i.setUint8(a,r[0]),a+=1,i.setUint8(a,r[1].length),a+=1;for(let o of r[1])i.setUint8(a,o),a+=1}return t}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==Te.LIBRARY_VERSION)throw new TypeError("Invalid library version");let r=t.getUint32(i,!0);i+=4;let o=t.getUint32(i,!0);i+=4;let c=new Array(r);for(let d=0;d<r;d++){let h=t.getUint8(i++),_=h>>6;switch(_){case K.FUNC:{let v=h&1,x=t.getUint8(i++);c[d]=[_,x,v]}break;case K.N_ARR:case K.REF:c[d]=[_];break;case K.LITERAL:if((h&1)===0){let x=t.getInt32(i,!0);i+=4,c[d]=[_,x]}else{let x=t.getUint32(i,!0);i+=4;let y=new Uint8Array(x);for(let m=0;m<x;m++)y[m]=t.getUint8(i++);c[d]=[_,new fR().decode(y)]}break;default:throw new Error("Invalid opcode")}}let p=new Array(o);for(let d=0;d<o;d++){let h=t.getUint8(i++),_=t.getUint8(i++),v=new Array(_);for(let x=0;x<_;x++)v[x]=t.getUint8(i++);p[d]=[h,v]}return new Te([c,p])}static get LIBRARY_VERSION(){return 1}static getFunc(e){return e.match(qh.FUNCTIONS)}static getTransformationData(e){var i;let t=`[${(i=e.replace(/\n/g,"").match(/c=\[(.*?)\];c/s))==null?void 0:i[1]}]`;return JSON.parse(this.refineNTokenData(t))}static refineNTokenData(e){return e.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}};n(Te,"NToken");kn.default=Te});var AE=l((yD,RE)=>{"use strict";var kt=V(),UR=ye(),{default:NR}=G0(),{default:BR}=SE(),Ln,Lt,ft,Aa,Ot,Dt,Ut,fn,ka,IE,La,CE,fa,PE,Sh=class{constructor(e,t){E(this,ka);E(this,La);E(this,fa);E(this,Ln,void 0);E(this,Lt,void 0);E(this,ft,void 0);E(this,Aa,void 0);E(this,Ot,void 0);E(this,Dt,void 0);E(this,Ut,void 0);E(this,fn,void 0);I(this,Lt,e),I(this,Ln,t),I(this,fn,`${kt.getTmpdir()}/yt-cache`),I(this,ft,`${UR.URLS.YT_BASE}/s/player/${u(this,Lt)}/player_ias.vflset/en_US/base.js`),I(this,Aa,`${u(this,fn)}/${u(this,Lt)}.bin`)}async init(){let e=await u(this,Ln).get(u(this,ft),{headers:{"content-type":"text/javascript"}});I(this,Ut,f(this,ka,IE).call(this,e.data));let t=f(this,La,CE).call(this,e.data),i=f(this,fa,PE).call(this,e.data);I(this,Dt,NR.fromSourceCode(t)),I(this,Ot,BR.fromSourceCode(i));try{let a=u(this,Ot).toArrayBuffer(),r=u(this,Dt).toArrayBuffer(),o=new ArrayBuffer(12+r.byteLength+a.byteLength),c=new DataView(o);c.setUint32(0,Sh.LIBRARY_VERSION,!0),c.setUint32(4,u(this,Ut),!0),c.setUint32(8,r.byteLength,!0),new Uint8Array(o).set(new Uint8Array(r),12),new Uint8Array(o).set(new Uint8Array(a),12+r.byteLength)}finally{}return this}decipher(e,t,i){e=e||t||i,kt.throwIfMissing({url:e});let a=new URLSearchParams(e),r=new URL(a.get("url")||e);if(r.searchParams.set("ratebypass","yes"),t||i){let o=u(this,Dt).decipher(e);a.get("sp")?r.searchParams.set(a.get("sp"),o):r.searchParams.set("signature",o)}if(r.searchParams.get("n")){let o=u(this,Ot).transform(r.searchParams.get("n"));r.searchParams.set("n",o)}return r.toString()}get url(){return u(this,ft)}get sts(){return u(this,Ut)}static get LIBRARY_VERSION(){return 1}},Ra=Sh;n(Ra,"Player"),Ln=new WeakMap,Lt=new WeakMap,ft=new WeakMap,Aa=new WeakMap,Ot=new WeakMap,Dt=new WeakMap,Ut=new WeakMap,fn=new WeakMap,ka=new WeakSet,IE=n(function(e){return parseInt(kt.getStringBetweenStrings(e,"signatureTimestamp:",","))},"#extractSigTimestamp"),La=new WeakSet,CE=n(function(e){let t=kt.getStringBetweenStrings(e,"this.audioTracks};var","};"),i=kt.getStringBetweenStrings(e,'function(a){a=a.split("")','return a.join("")}');return t+i},"#extractSigDecipherSc"),fa=new WeakSet,PE=n(function(e){return`var b=a.split("")${kt.getStringBetweenStrings(e,'b=a.split("")','}return b.join("")}')}} return b.join("");`},"#extractNTokenSc");RE.exports=Ra});var UE=l((vD,DE)=>{"use strict";var FR=AE(),MR=gt(),kE=V(),Oa=ye(),VR=require("user-agents"),On,ot,Dn,Nt,Bt,Un,Nn,Bn,Fn,Ua,LE,Na,fE,Ba,OE,Da=class{constructor(e,t){E(this,Ua);E(this,Na);E(this,Ba);E(this,On,void 0);E(this,ot,void 0);E(this,Dn,void 0);E(this,Nt,void 0);E(this,Bt,void 0);E(this,Un,void 0);E(this,Nn,void 0);E(this,Bn,void 0);E(this,Fn,void 0);I(this,On,e),I(this,ot,t)}async build(){let e=await Promise.all([f(this,Na,fE).call(this),f(this,Ba,OE).call(this)]),t=e[0][0][2];return I(this,Dn,t[1]),I(this,Un,`v${t[0][0][6]}`),I(this,Nt,Oa.CLIENTS.WEB.NAME),I(this,Bt,t[0][0][16]),I(this,Nn,t[0][0][3]),I(this,Fn,await new FR(e[1],u(this,ot)).init()),I(this,Bn,f(this,Ua,LE).call(this)),this}get key(){return u(this,Dn)}get context(){return u(this,Bn)}get api_version(){return u(this,Un)}get client_version(){return u(this,Bt)}get client_name(){return u(this,Nt)}get player(){return u(this,Fn)}};n(Da,"SessionBuilder"),On=new WeakMap,ot=new WeakMap,Dn=new WeakMap,Nt=new WeakMap,Bt=new WeakMap,Un=new WeakMap,Nn=new WeakMap,Bn=new WeakMap,Fn=new WeakMap,Ua=new WeakSet,LE=n(function(){let e=new VR({deviceCategory:"desktop"}),t=kE.generateRandomString(11),i=Math.floor(Date.now()/1e3),a=MR.encodeVisitorData(t,i);return{client:{hl:"en",gl:u(this,On).gl||"US",remoteHost:u(this,Nn),deviceMake:e.vendor,deviceModel:e.platform,visitorData:a,userAgent:e.toString(),clientName:u(this,Nt),clientVersion:u(this,Bt),originalUrl:Oa.URLS.API.BASE},user:{lockedSafetyMode:!1},request:{useSsl:!0}}},"#buildContext"),Na=new WeakSet,fE=n(async function(){let e=await u(this,ot).get(`${Oa.URLS.YT_BASE}/sw.js_data`);return JSON.parse(e.data.replace(")]}'",""))},"#getYtConfig"),Ba=new WeakSet,OE=n(async function(){let e=await u(this,ot).get(`${Oa.URLS.YT_BASE}/iframe_api`);return kE.getStringBetweenStrings(e.data,"player\\/","\\/")},"#getPlayerId");DE.exports=Da});var BE=l((wD,NE)=>{"use strict";var YR=q(),Ft,Fa=class{constructor(e){E(this,Ft,void 0);I(this,Ft,YR.parseResponse(e)),this.sections=u(this,Ft).contents_memo.get("Element")}get page(){return u(this,Ft)}};n(Fa,"Analytics"),Ft=new WeakMap;NE.exports=Fa});var ME=l((xD,FE)=>{"use strict";var Mt=V(),Je=ye(),GR=BE(),$R=gt(),qe,Se,fe,Ma=class{constructor(e){E(this,Se);E(this,qe,void 0);I(this,qe,e),this.channel={editName:t=>u(this,qe).channel("channel/edit_name",{new_name:t}),editDescription:t=>u(this,qe).channel("channel/edit_description",{new_description:t}),getBasicAnalytics:()=>this.getAnalytics()},this.settings={notifications:{setSubscriptions:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.SUBSCRIPTIONS,"SPaccount_notifications",t),setRecommendedVideos:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.RECOMMENDED_VIDEOS,"SPaccount_notifications",t),setChannelActivity:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.CHANNEL_ACTIVITY,"SPaccount_notifications",t),setCommentReplies:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.COMMENT_REPLIES,"SPaccount_notifications",t),setMentions:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.USER_MENTION,"SPaccount_notifications",t),setSharedContent:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.SHARED_CONTENT,"SPaccount_notifications",t)},privacy:{setSubscriptionsPrivate:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.SUBSCRIPTIONS_PRIVACY,"SPaccount_privacy",t),setSavedPlaylistsPrivate:t=>f(this,Se,fe).call(this,Je.ACCOUNT_SETTINGS.PLAYLISTS_PRIVACY,"SPaccount_privacy",t)}}}async getInfo(){let e=await u(this,qe).account("account/accounts_list",{client:"ANDROID"}),t=Mt.findNode(e.data,"contents","accountItem",8,!1),i=t.accountItem.serviceEndpoint.signInEndpoint.directSigninUserProfile,a=i.accountName,r=i.email,o=i.accountPhoto.thumbnails,c=t.accountItem.accountByline.runs.map(d=>d.text).join(""),p=e.data.contents[0].accountSectionListRenderer.footers[0].accountChannelRenderer.navigationEndpoint.browseEndpoint.browseId;return{name:a,email:r,channel_id:p,subscriber_count:c,photo:o}}async getTimeWatched(){let e=await u(this,qe).browse("SPtime_watched",{client:"ANDROID"});return Mt.findNode(e.data,"contents","statRowRenderer",11,!1).map(a=>{let r=a.statRowRenderer;if(r)return{title:r.title.runs.map(o=>o.text).join(""),time:r.contents.runs.map(o=>o.text).join("")}}).filter(a=>a)}async getAnalytics(){let e=await this.getInfo(),t=$R.encodeChannelAnalyticsParams(e.channel_id),i=await u(this,qe).browse("FEanalytics_screen",{params:t,client:"ANDROID"});return new GR(i.data)}};n(Ma,"AccountManager"),qe=new WeakMap,Se=new WeakSet,fe=n(async function(e,t,i){Mt.throwIfMissing({setting_id:e,type:t,new_value:i});let a={ON:!0,OFF:!1};if(!a.hasOwnProperty(i))throw new Mt.InnertubeError("Invalid option",{option:i,available_options:Object.keys(a)});let r=await u(this,qe).browse(t),p=(()=>{switch(t.trim()){case"SPaccount_notifications":return Mt.findNode(r.data,"contents","Your preferences",13,!1).options;case"SPaccount_privacy":return Mt.findNode(r.data,"contents","settingsSwitchRenderer",13,!1).options;default:throw new TypeError("undefined is not a function")}})().find(h=>h.settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemIdForClient==e).settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemId;return await u(this,qe).account("account/set_setting",{new_value:t=="SPaccount_privacy"?!a[i]:a[i],setting_item_id:p})},"#setSetting");FE.exports=Ma});var He=l((bD,YE)=>{"use strict";var WR=q(),{InnertubeError:VE}=V(),he,Oe,Vt,Z,Mn=class{constructor(e,t,i=!1){E(this,he,void 0);E(this,Oe,void 0);E(this,Vt,void 0);E(this,Z,void 0);t.on_response_received_actions||t.on_response_received_endpoints||i?I(this,he,t):I(this,he,WR.parseResponse(t)),I(this,Z,u(this,he).on_response_received_commands?u(this,he).on_response_received_commands_memo:u(this,he).on_response_received_endpoints?u(this,he).on_response_received_endpoints_memo:u(this,he).contents?u(this,he).contents_memo:u(this,he).on_response_received_actions?u(this,he).on_response_received_actions_memo:[]),I(this,Vt,e)}static getVideosFromMemo(e){let t=e.get("Video")||[],i=e.get("GridVideo")||[],a=e.get("CompactVideo")||[],r=e.get("PlaylistVideo")||[],o=e.get("PlaylistPanelVideo")||[],c=e.get("WatchCardCompactVideo")||[];return[...t,...i,...a,...r,...o,...c]}static getPlaylistsFromMemo(e){let t=e.get("Playlist")||[],i=e.get("GridPlaylist")||[];return[...t,...i]}get videos(){return Mn.getVideosFromMemo(u(this,Z))}get posts(){return u(this,Z).get("BackstagePost")||u(this,Z).get("Post")||[]}get channels(){let e=u(this,Z).get("Channel")||[],t=u(this,Z).get("GridChannel")||[];return[...e,...t]}get playlists(){return Mn.getPlaylistsFromMemo(u(this,Z))}get memo(){return u(this,Z)}get contents(){var a,r,o,c;let e=(r=(a=u(this,Z).get("Tab"))==null?void 0:a[0])==null?void 0:r.content,t=(o=u(this,Z).get("reloadContinuationItemsCommand"))==null?void 0:o[0],i=(c=u(this,Z).get("appendContinuationItemsAction"))==null?void 0:c[0];return e||t||i}get shelves(){let e=u(this,Z).get("Shelf")||[],t=u(this,Z).get("RichShelf")||[],i=u(this,Z).get("ReelShelf")||[];return[...e,...t,...i]}getShelf(e){return this.shelves.find(t=>t.title.toString()===e)}get secondary_contents(){var e;return(e=this.page.contents)==null?void 0:e.secondary_contents}get actions(){return u(this,Vt)}get page(){return u(this,he)}get has_continuation(){return(u(this,Z).get("ContinuationItem")||[]).length>0}async getContinuationData(){if(u(this,Oe)){if(u(this,Oe).length>1)throw new VE("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,Oe).length===0)throw new VE("There are no continuations");return await u(this,Oe)[0].endpoint.call(u(this,Vt))}return I(this,Oe,u(this,Z).get("ContinuationItem")),u(this,Oe)?this.getContinuationData():null}async getContinuation(){let e=await this.getContinuationData();return new Mn(this.actions,e,!0)}},Va=Mn;n(Va,"Feed"),he=new WeakMap,Oe=new WeakMap,Vt=new WeakMap,Z=new WeakMap;YE.exports=Va});var $a=l((ED,GE)=>{"use strict";var JR=He(),Yt,Ga,Ya=class extends JR{constructor(t,i,a=!1){super(t,i,a);E(this,Yt);let r=this.page.sidebar.contents.get({type:"PlaylistSidebarPrimaryInfo"}),o=this.page.sidebar.contents.get({type:"PlaylistSidebarSecondaryInfo"});this.info={...this.page.metadata,author:o.owner.author,thumbnails:r.thumbnail_renderer.thumbnail,total_items:f(this,Yt,Ga).call(this,0,r),views:f(this,Yt,Ga).call(this,1,r),last_updated:f(this,Yt,Ga).call(this,2,r),can_share:this.page.header.can_share,can_delete:this.page.header.can_delete,is_editable:this.page.header.is_editable,privacy:this.page.header.privacy},this.menu=r.menu,this.endpoint=r.endpoint}get items(){return this.videos}};n(Ya,"Playlist"),Yt=new WeakSet,Ga=n(function(t,i){var a;return!i||!i.stats?"N/A":((a=i.stats[t])==null?void 0:a.toString())||"N/A"},"#getStat");GE.exports=Ya});var JE=l((TD,WE)=>{"use strict";var $E=$a(),{InnertubeError:Ih,throwIfMissing:Vn}=V(),ge,Wa=class{constructor(e){E(this,ge,void 0);I(this,ge,e)}async create(e,t){Vn({title:e,video_ids:t});let i={title:e,videoIds:t},a=await u(this,ge).execute("/playlist/create",{...i,parse:!1});return{playlist_id:a.data.playlistId,data:a.data}}async delete(e){Vn({playlist_id:e});let t=await u(this,ge).execute("playlist/delete",{playlistId:e});return{playlist_id:e,data:t.data}}async addVideos(e,t){Vn({playlist_id:e,video_ids:t});let i={playlistId:e,actions:[]};i.actions=t.map(r=>({action:"ACTION_ADD_VIDEO",addedVideoId:r}));let a=await u(this,ge).execute("/browse/edit_playlist",{...i,parse:!1});return{playlist_id:e,action_result:a.data.actions}}async removeVideos(e,t){Vn({playlist_id:e,video_ids:t});let i=await u(this,ge).execute("/browse",{browseId:`VL${e}`,parse:!0}),a=new $E(u(this,ge),i,!0);if(!a.info.is_editable)throw new Ih("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},o=n(async p=>{if(p.videos.filter(h=>t.includes(h.id)).forEach(h=>r.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:h.set_video_id})),r.actions.length<t.length){let h=await p.getContinuation();return o(h)}},"getSetVideoIds");if(await o(a),!r.actions.length)throw new Ih("Given video ids were not found in this playlist.",t);let c=await u(this,ge).execute("/browse/edit_playlist",{...r,parse:!1});return{playlist_id:e,action_result:c.data.actions}}async moveVideo(e,t,i){Vn({playlist_id:e,moved_video_id:t,predecessor_video_id:i});let a=await u(this,ge).execute("/browse",{browseId:`VL${e}`,parse:!0}),r=new $E(u(this,ge),a,!0);if(!r.info.is_editable)throw new Ih("This playlist cannot be edited.",e);let o={playlistId:e,actions:[]},c,p,d=n(async _=>{let v=_.videos.find(y=>t===y.id),x=_.videos.find(y=>i===y.id);if(c=c||(v==null?void 0:v.set_video_id),p=p||(x==null?void 0:x.set_video_id),!c||!p){let y=await _.getContinuation();return d(y)}},"getSetVideoIds");await d(r),o.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:c,movedSetVideoIdPredecessor:p});let h=await u(this,ge).execute("/browse/edit_playlist",{...o,parse:!1});return{playlist_id:e,action_result:h.data.actions}}};n(Wa,"PlaylistManager"),ge=new WeakMap;WE.exports=Wa});var KE=l((qD,HE)=>{"use strict";var De=V(),Ie,Ja=class{constructor(e){E(this,Ie,void 0);I(this,Ie,e)}async like(e){return De.throwIfMissing({video_id:e}),await u(this,Ie).engage("like/like",{video_id:e})}async dislike(e){return De.throwIfMissing({video_id:e}),await u(this,Ie).engage("like/dislike",{video_id:e})}async removeLike(e){return De.throwIfMissing({video_id:e}),await this.actions.engage("like/removelike",{video_id:e})}async subscribe(e){return De.throwIfMissing({channel_id:e}),await u(this,Ie).engage("subscription/subscribe",{channel_id:e})}async unsubscribe(e){return De.throwIfMissing({channel_id:e}),await u(this,Ie).engage("subscription/unsubscribe",{channel_id:e})}async comment(e,t){return De.throwIfMissing({video_id:e,text:t}),await u(this,Ie).engage("comment/create_comment",{video_id:e,text:t})}async translate(e,t,i={}){De.throwIfMissing({text:e,target_language:t});let a=await await u(this,Ie).engage("comment/perform_comment_action",{video_id:i.video_id,comment_id:i.comment_id,target_language:t,comment_action:"translate",text:e}),r=De.findNode(a.data,"frameworkUpdates","content",7,!1);return{success:a.success,status_code:a.status_code,translated_content:r.content,data:a.data}}async setNotificationPreferences(e,t){return De.throwIfMissing({channel_id:e,type:t}),await u(this,Ie).notifications("modify_channel_preference",{channel_id:e,pref:t||"NONE"})}};n(Ja,"InteractionManager"),Ie=new WeakMap;HE.exports=Ja});var QE=l((SD,XE)=>{"use strict";var HR=He(),{InnertubeError:zE}=V(),ct=class extends HR{constructor(e,t,i=!1){var p,d,h;super(e,t,i);let a=((p=this.page.contents)==null?void 0:p.primary_contents.contents)||this.page.on_response_received_commands[0].contents,r=(h=(d=this.page.contents)==null?void 0:d.secondary_contents)==null?void 0:h.contents;this.results=a.get({type:"ItemSection"}).contents;let o=this.results.get({type:"HorizontalCardList"},!0),c=r==null?void 0:r.get({type:"UniversalWatchCard"});this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.watch_card={header:(c==null?void 0:c.header)||null,call_to_action:(c==null?void 0:c.call_to_action)||null,sections:(c==null?void 0:c.sections)||[]},this.refinement_cards={header:(o==null?void 0:o.header)||null,cards:(o==null?void 0:o.cards)||[]}}async selectRefinementCard(e){let t;if(typeof e=="string"){if(t=this.refinement_cards.cards.get({query:e}),!t)throw new zE("Refinement card not found!",{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")t=e;else throw new zE("Invalid refinement card!");let i=await t.endpoint.call(this.actions);return new ct(this.actions,i,!0)}get refinement_card_queries(){return this.refinement_cards.cards.map(e=>e.query)}async getContinuation(){let e=await this.getContinuationData();return new ct(this.actions,e,!0)}};n(ct,"Search");XE.exports=ct});var tT=l((ID,eT)=>{"use strict";var Ch=q(),KR=require("events"),at,Ue,Gt,$t,Yn,Gn,$n,Ph,Ka,ZE,Wn,Rh,za,jE,Ha=class{constructor(e){E(this,$n);E(this,Ka);E(this,Wn);E(this,za);ce(this,"ev");E(this,at,void 0);E(this,Ue,void 0);E(this,Gt,void 0);E(this,$t,void 0);E(this,Yn,1e3);E(this,Gn,5e3);ce(this,"initial_info");ce(this,"live_metadata");ce(this,"running",!1);ce(this,"is_replay",!1);I(this,Ue,e),I(this,at,e.actions),I(this,Gt,u(this,Ue).livechat.continuation),this.is_replay=u(this,Ue).livechat.is_replay,this.live_metadata={title:null,description:null,views:null,likes:null,date:null},this.ev=new KR}start(){this.running||(this.running=!0,f(this,$n,Ph).call(this),f(this,Wn,Rh).call(this))}stop(){this.running=!1}async sendMessage(e){let t=await u(this,at).livechat("live_chat/send_message",{text:e,video_id:u(this,Ue).basic_info.id,channel_id:u(this,Ue).basic_info.channel_id});return Ch.parseResponse(t.data).actions}};n(Ha,"LiveChat"),at=new WeakMap,Ue=new WeakMap,Gt=new WeakMap,$t=new WeakMap,Yn=new WeakMap,Gn=new WeakMap,$n=new WeakSet,Ph=n(function(){let e=setTimeout(()=>{(async()=>{let t=this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",i=await u(this,at).livechat(t,{ctoken:u(this,Gt)}),r=Ch.parseResponse(i.data).continuation_contents;I(this,Gt,r.continuation.token),I(this,Yn,r.continuation.timeout_ms),r.header?(this.initial_info=r,this.ev.emit("start",r)):await f(this,Ka,ZE).call(this,r.actions),clearTimeout(e),this.running&&f(this,$n,Ph).call(this)})().catch(t=>Promise.reject(t))},u(this,Yn))},"#pollLivechat"),Ka=new WeakSet,ZE=n(async function(e){let i=e.length<125?1:0,a=i==1?(i=1e4/e.length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80;for(let r of e)await f(this,za,jE).call(this,a),this.ev.emit("chat-update",r)},"#emitSmoothedActions"),Wn=new WeakSet,Rh=n(function(){let e=setTimeout(()=>{(async()=>{var r,o,c,p,d;let t={video_id:u(this,Ue).basic_info.id};u(this,$t)&&(t.ctoken=u(this,$t));let i=await u(this,at).livechat("updated_metadata",t),a=Ch.parseResponse(i.data);I(this,$t,a.continuation.token),I(this,Gn,a.continuation.timeout_ms),this.metadata={title:a.actions.get({type:"UpdateTitleAction"})||((r=this.metadata)==null?void 0:r.title),description:a.actions.get({type:"UpdateDescriptionAction"})||((o=this.metadata)==null?void 0:o.description),views:a.actions.get({type:"UpdateViewershipAction"})||((c=this.metadata)==null?void 0:c.views),likes:a.actions.get({type:"UpdateToggleButtonTextAction"})||((p=this.metadata)==null?void 0:p.likes),date:a.actions.get({type:"UpdateDateTextAction"})||((d=this.metadata)==null?void 0:d.date)},this.ev.emit("metadata-update",this.metadata),clearTimeout(e),this.running&&f(this,Wn,Rh).call(this)})().catch(t=>Promise.reject(t))},u(this,Gn))},"#pollMetadata"),za=new WeakSet,jE=n(async function(e){return new Promise(t=>setTimeout(()=>t(),e))},"#wait");eT.exports=Ha});var cT=l((CD,oT)=>{"use strict";var{InnertubeError:_e}=V(),{PassThrough:zR,Readable:nT}=require("stream-browserify"),Ah=require("axios"),iT=q(),XR=tT(),sT=ye(),rT=Ah.CancelToken,Jn,Ae,Hn,Wt,Jt,Xa=class{constructor(e,t,i,a){E(this,Jn,void 0);E(this,Ae,void 0);E(this,Hn,void 0);E(this,Wt,void 0);E(this,Jt,void 0);var d,h,_,v,x,y;I(this,Ae,t),I(this,Hn,i),I(this,Wt,a);let r=iT.parseResponse(e[0]),o=iT.parseResponse(e[1].data||{});if(I(this,Jn,[r,o]),r.playability_status.status==="ERROR")throw new _e("This video is unavailable",r.playability_status);this.basic_info={...r.video_details,embed:r.microformat.embed,channel:r.microformat.channel,is_unlisted:r.microformat.is_unlisted,is_family_safe:r.microformat.is_family_safe,has_ypc_metadata:r.microformat.has_ypc_metadata},this.streaming_data=r.streaming_data||null,this.playability_status=r.playability_status,this.annotations=r.annotations,this.storyboards=r.storyboards,this.endscreen=r.endscreen,this.captions=r.captions,this.cards=r.cards;let c=(d=o.contents)==null?void 0:d.results,p=(h=o.contents)==null?void 0:h.secondary_results;if(c&&p){this.primary_info=c.get({type:"VideoPrimaryInfo"}),this.secondary_info=c.get({type:"VideoSecondaryInfo"}),this.merchandise=(c==null?void 0:c.get({type:"MerchandiseShelf"}))||null,this.related_chip_cloud=(_=p==null?void 0:p.get({type:"RelatedChipCloud"}))==null?void 0:_.content,this.watch_next_feed=(v=p==null?void 0:p.get({type:"ItemSection"}))==null?void 0:v.contents,I(this,Jt,(x=this.watch_next_feed)==null?void 0:x.pop()),this.player_overlays=o.player_overlays,this.basic_info.like_count=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).like_count,this.basic_info.is_liked=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).is_toggled,this.basic_info.is_disliked=this.primary_info.menu.top_level_buttons.get({icon_type:"DISLIKE"}).is_toggled;let m=c.get({target_id:"comments-entry-point"});this.comments_entry_point_header=(m==null?void 0:m.contents.get({type:"CommentsEntryPointHeader"}))||null,this.livechat=((y=o.contents_memo.get("LiveChat"))==null?void 0:y[0])||null}}async selectFilter(e){if(!this.filters.includes(e))throw new _e("Invalid filter",{available_filters:this.filters});let t=this.related_chip_cloud.chips.get({text:e});if(t.is_selected)return this;let a=(await t.endpoint.call(u(this,Ae))).on_response_received_endpoints.get({target_id:"watch-next-feed"});return this.watch_next_feed=a.contents,this}async getWatchNextContinuation(){let t=(await u(this,Jt).endpoint.call(u(this,Ae))).on_response_received_endpoints.get({type:"appendContinuationItemsAction"});return this.watch_next_feed=t.contents,I(this,Jt,this.watch_next_feed.pop()),this.watch_next_feed}async like(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_LIKE"});if(e.is_toggled)throw new _e("This video is already liked",{video_id:this.basic_info.id});return await e.endpoint.call(u(this,Ae))}async dislike(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_DISLIKE"});if(e.is_toggled)throw new _e("This video is already disliked",{video_id:this.basic_info.id});return await e.endpoint.call(u(this,Ae))}async removeLike(){let e=this.primary_info.menu.top_level_buttons.get({is_toggled:!0});if(!e)throw new _e("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(u(this,Ae))}async getLiveChat(e){if(!this.livechat)throw new _e("Live Chat is not available",{video_id:this.id});return new XR(this,e)}get filters(){var e;return((e=this.related_chip_cloud)==null?void 0:e.chips.map(t=>t.text.toString()))||[]}get actions(){return u(this,Ae)}get page(){return u(this,Jn)}get music_tracks(){let e=this.secondary_info.metadata;if(!e)return[];let t=[],i={},a=!1;for(let r=0;r<e.rows.length;r++){let o=e.rows[r];if(o.type==="MetadataRowHeader"){o.content.toString().toLowerCase().startsWith("music")&&(a=!0,r++);continue}!a||(i[o.title.toString().toLowerCase().replace(/ /g,"_")]=o.contents,o.has_divider_line&&(t.push(i),i={}))}return a&&t.push(i),t}chooseFormat(e){let t=[...this.streaming_data.formats||[],...this.streaming_data.adaptive_formats||[]],i=e.type.includes("audio"),a=e.type.includes("video"),r=-1,o=["best","bestefficiency"].includes(e.quality),c=e.quality!=="best",p=t.filter(d=>i&&!d.has_audio||a&&!d.has_video||e.format!=="any"&&!d.mime_type.includes(e.format)||!o&&d.quality_label!==e.quality?!1:(r<d.width&&(r=d.width),!0));if(p.length===0)throw new _e("No matching formats found",{options:e});if(o&&a&&(p=p.filter(d=>d.width===r)),i&&!a){let d=p.filter(h=>!h.has_video);d.length>0&&(p=d)}return c?p.sort((d,h)=>d.bitrate-h.bitrate):p.sort((d,h)=>h.bitrate-d.bitrate),p[0]}download(e={},t){let i=t||new zR,a,r=!1;return(async()=>{if(this.playability_status==="UNPLAYABLE")return i.emit("error",new _e("Video is unplayable",{video:this,error_type:"UNPLAYABLE"}));if(this.playability_status==="LOGIN_REQUIRED")return i.emit("error",new _e("Video is login required",{video:this,error_type:"LOGIN_REQUIRED"}));if(!this.streaming_data)return i.emit("error",new _e("Streaming data not available.",{video:this,error_type:"NO_STREAMING_DATA"}));let o={quality:"360p",type:"videoandaudio",format:"mp4",range:void 0,...e},c=this.chooseFormat(o),p=c.decipher(u(this,Hn));if(o.type==="videoandaudio"&&!e.range){let d=await Ah.get(`${p}&cpn=${u(this,Wt)}`,{responseType:"stream",cancelToken:new rT(n(function(v){a=v},"executor")),headers:sT.STREAM_HEADERS}).catch(_=>_);if(d instanceof Error)return i.emit("error",new _e(d.message,{type:"REQUEST_FAILED"})),i;i.emit("start");let h=0;if(typeof d.data=="object")d.data.on("data",_=>{h+=_.length;let v=(d.headers["content-length"]/1024/1024).toFixed(2),x=Math.floor(h/d.headers["content-length"]*100);i.emit("progress",{size:v,percentage:x,chunk_size:_.length,downloaded_size:(h/1024/1024).toFixed(2),raw_data:{chunk_size:_.length,downloaded:h,size:d.headers["content-length"]}})}),d.data.on("error",_=>{r&&i.emit("error",new _e("The download was cancelled.",{type:"DOWNLOAD_CANCELLED"}))||i.emit("error",new _e(_.message,{type:"DOWNLOAD_ABORTED"}))}),d.data.pipe(i,{end:!0});else{let _=new nT;_.push(d.data),_.pipe(i,{end:!0})}}else{let h=e.range?e.range.start:0,_=e.range?e.range.end:10485760,v=0,x=!1;i.emit("start");let y=n(async()=>{(_>=c.content_length||e.range)&&(x=!0),e.range&&(c.content_length=e.range.end);let m=await Ah.get(`${p}&cpn=${u(this,Wt)}&range=${h}-${_||""}`,{responseType:"stream",cancelToken:new rT(n(function(P){a=P},"executor")),headers:sT.STREAM_HEADERS}).catch(T=>T);if(m instanceof Error)return i.emit("error",{message:m.message,type:"REQUEST_FAILED"}),i;if(typeof m.data=="object")m.data.on("data",T=>{v+=T.length;let P=(m.headers["content-length"]/1024/1024).toFixed(2),A=Math.floor(v/m.headers["content-length"]*100);i.emit("progress",{size:P,percentage:A,chunk_size:T.length,downloaded_size:(v/1024/1024).toFixed(2),raw_data:{chunk_size:T.length,downloaded:v,size:m.headers["content-length"]}})}),m.data.on("error",T=>{r&&i.emit("error",{message:"The download was cancelled.",type:"DOWNLOAD_CANCELLED"})||i.emit("error",{message:T.message,type:"DOWNLOAD_ABORTED"})}),m.data.on("end",()=>{!x&&!e.range&&(h=_+1,_+=10485760,y())}),m.data.pipe(i,{end:x});else{let T=new nT;T.push(m.data),T.pipe(i,{end:x})}},"downloadChunk");y()}})().catch(o=>{i.emit("error",o)}),i.cancel=()=>{r=!0,a&&a()},i}};n(Xa,"VideoInfo"),Jn=new WeakMap,Ae=new WeakMap,Hn=new WeakMap,Wt=new WeakMap,Jt=new WeakMap;oT.exports=Xa});var Lh=l((PD,aT)=>{"use strict";var{InnertubeError:QR}=V(),ZR=He(),Ht,Kt,kh=class extends ZR{constructor(t,i,a=!1){super(t,i,a);E(this,Ht,void 0);E(this,Kt,void 0);I(this,Kt,t),I(this,Ht,this.page.contents_memo.get("Tab"))}get tabs(){return u(this,Ht).map(t=>t.title.toString())}async getTab(t){let i=u(this,Ht).find(r=>r.title.toLowerCase()===t.toLowerCase());if(!i)throw new QR(`Tab "${t}" not found`);if(i.selected)return this;let a=await i.endpoint.call(u(this,Kt));return new kh(u(this,Kt),a,!0)}get title(){var t,i;return(i=(t=this.page.contents_memo("Tab"))==null?void 0:t.find(a=>a.selected))==null?void 0:i.title.toString()}},Qa=kh;n(Qa,"TabbedFeed"),Ht=new WeakMap,Kt=new WeakMap;aT.exports=Qa});var lT=l((RD,uT)=>{"use strict";var jR=Lh(),fh,ut=class extends jR{constructor(t,i,a=!1){super(t,i,a);E(this,fh,void 0);this.header={author:this.page.header.author,subscribers:this.page.header.subscribers.toString(),banner:this.page.header.banner,tv_banner:this.page.header.tv_banner,mobile_banner:this.page.header.mobile_banner,header_links:this.page.header.header_links},this.metadata={...this.page.metadata,...this.page.microformat},this.sponsor_button=this.page.header.sponsor_button||null,this.subscribe_button=this.page.header.subscribe_button||null;let r=this.page.contents.tabs.get({selected:!0});this.current_tab=r}async getVideos(){let t=await this.getTab("Videos");return new ut(this.actions,t.page,!0)}async getPlaylists(){let t=await this.getTab("Playlists");return new ut(this.actions,t.page,!0)}async getHome(){let t=await this.getTab("Home");return new ut(this.actions,t.page,!0)}async getCommunity(){let t=await this.getTab("Community");return new ut(this.actions,t.page,!0)}async getChannels(){let t=await this.getTab("Channels");return new ut(this.actions,t.page,!0)}async getAbout(){var i;return(i=(await this.getTab("About")).memo.get("ChannelAboutFullMetadata"))==null?void 0:i[0]}},Za=ut;n(Za,"Channel"),fh=new WeakMap;uT.exports=Za});var Oh=l((AD,hT)=>{"use strict";var eA=He(),zt=class extends eA{constructor(e,t,i=!1){var a;super(e,t,i),this.sections=this.memo.get("ItemSection"),this.feed_actions=((a=this.memo.get("BrowseFeedActions"))==null?void 0:a[0])||[]}async getContinuation(){let e=await this.getContinuationData();return new zt(this.actions,e,!0)}};n(zt,"History");hT.exports=zt});var gT=l((kD,pT)=>{"use strict";var tA=q(),nA=Oh(),iA=$a(),sA=He(),{observe:rA}=V(),Ke,ze,eu,dT,ja=class{constructor(e,t){E(this,eu);E(this,Ke,void 0);E(this,ze,void 0);I(this,Ke,t),I(this,ze,tA.parseResponse(e));let a=u(this,ze).contents.tabs.get({selected:!0}).content.contents.map(c=>c.contents[0]),r=u(this,ze).contents.secondary_contents.items.get({type:"ProfileColumnStats"}).items,o=u(this,ze).contents.secondary_contents.items.get({type:"ProfileColumnUserInfo"});this.profile={stats:r,user_info:o},this.sections=rA(a.map(c=>({type:c.icon_type,title:c.title,contents:c.content.items,getAll:()=>f(this,eu,dT).call(this,c)})))}get history(){return this.sections.get({type:"WATCH_HISTORY"})}get watch_later(){return this.sections.get({type:"WATCH_LATER"})}get liked_videos(){return this.sections.get({type:"LIKE"})}get playlists(){return this.sections.get({type:"PLAYLISTS"})}get clips(){return this.sections.get({type:"CONTENT_CUT"})}get page(){return u(this,ze)}};n(ja,"Library"),Ke=new WeakMap,ze=new WeakMap,eu=new WeakSet,dT=n(async function(e){var a;if(!((a=e.menu)!=null&&a.top_level_buttons))throw new Error(`The ${e.title.text} section doesn't have more items`);let i=await(await e.menu.top_level_buttons.get({text:"See all"})).endpoint.call(u(this,Ke));switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new iA(u(this,Ke),i,!0);case"WATCH_HISTORY":return new nA(u(this,Ke),i,!0);case"CONTENT_CUT":return new sA(u(this,Ke),i,!0);default:}},"#getAll");pT.exports=ja});var mT=l((LD,_T)=>{"use strict";var oA=q(),{InnertubeError:cA}=V(),lt,Ne,Xt,Dh=class{constructor(e,t,i=!1){E(this,lt,void 0);E(this,Ne,void 0);E(this,Xt,void 0);var o,c;I(this,lt,i?t:oA.parseResponse(t)),I(this,Ne,e);let a=u(this,lt).on_response_received_endpoints;this.header=a[0].contents.get({type:"CommentsHeader"});let r=((o=a[1].contents)==null?void 0:o.findAll({type:"CommentThread"}))||[];this.contents=r.map(p=>(p.comment.setActions(u(this,Ne)),p.setActions(u(this,Ne)),p)),I(this,Xt,((c=a[1].contents)==null?void 0:c.get({type:"ContinuationItem"}))||null)}async comment(e){let t=this.header.create_renderer.submit_button,i={params:{commentText:e},parse:!1};return await t.endpoint.callTest(u(this,Ne),i)}async getContinuation(){if(!u(this,Xt))throw new cA("Continuation not found");let e=await u(this,Xt).endpoint.callTest(u(this,Ne)),t=Object.assign({},u(this,lt));return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Dh(u(this,Ne),t,!0)}get page(){return u(this,lt)}},tu=Dh;n(tu,"Comments"),lt=new WeakMap,Ne=new WeakMap,Xt=new WeakMap;_T.exports=tu});var vT=l((fD,yT)=>{"use strict";var aA=q(),{InnertubeError:uA}=V(),Xe,Qt,Uh,Nh=class{constructor(e,t){E(this,Xe,void 0);E(this,Qt,void 0);E(this,Uh,void 0);var i;I(this,Qt,e),I(this,Xe,aA.parseResponse(t)),this.header=((i=u(this,Xe).actions_memo.get("SimpleMenuHeader"))==null?void 0:i[0])||null,this.contents=u(this,Xe).actions_memo.get("Notification")}async getContinuation(){var i;let e=(i=u(this,Xe).actions_memo.get("ContinuationItem"))==null?void 0:i[0];if(!e)throw new uA("Continuation not found");let t=await e.endpoint.callTest(u(this,Qt),{parse:!1});return new Nh(u(this,Qt),t.data)}get page(){return u(this,Xe)}},nu=Nh;n(nu,"NotificationsMenu"),Xe=new WeakMap,Qt=new WeakMap,Uh=new WeakMap;yT.exports=nu});var ET=l((OD,bT)=>{"use strict";var wT=q(),{observe:lA,InnertubeError:Bh}=V(),Zt,Be,Qe,jt,su,xT,ru=class{constructor(e,t,i={}){E(this,su);E(this,Zt,void 0);E(this,Be,void 0);E(this,Qe,void 0);E(this,jt,void 0);I(this,Be,t),I(this,Zt,i.is_continuation&&e||wT.parseResponse(e.data));let a=u(this,Zt).contents.tabs.get({selected:!0}),r=a.content.contents,o=r.get({type:"ItemSection"});if(I(this,jt,a.content.header),this.did_you_mean=(o==null?void 0:o.contents.get({type:"DidYouMean"}))||null,this.showing_results_for=(o==null?void 0:o.contents.get({type:"ShowingResultsFor"}))||null,(!!this.did_you_mean||!!this.showing_results_for)&&r.shift(),i.is_continuation||i.is_filtered){let c=r.get({type:"MusicShelf"});this.results=c.contents,I(this,Qe,c.continuation);return}this.sections=lA(r.map(c=>({title:c.title,contents:c.contents,getMore:()=>f(this,su,xT).call(this,c)})))}async getContinuation(){var i,a,r;if(!u(this,Qe))throw new Bh("Looks like you've reached the end");let t=(await u(this,Be).search({ctoken:u(this,Qe),client:"YTMUSIC"})).data.continuationContents.musicShelfContinuation;return this.results=wT.parse(t.contents),I(this,Qe,(r=(a=(i=t==null?void 0:t.continuations)==null?void 0:i[0])==null?void 0:a.nextContinuationData)==null?void 0:r.continuation),this}async selectFilter(e){if(!this.filters.includes(e))throw new Bh("Invalid filter",{available_filters:this.filters});let t=u(this,jt).chips.get({text:e});if(t.is_selected)return this;let i=await t.endpoint.call(u(this,Be),"YTMUSIC");return new ru(i,u(this,Be),{is_continuation:!0})}get has_continuation(){return!!u(this,Qe)}get filters(){return u(this,jt).chips.map(e=>e.text)}get songs(){return this.sections.get({title:"Songs"})}get videos(){return this.sections.get({title:"Videos"})}get albums(){return this.sections.get({title:"Albums"})}get artists(){return this.sections.get({title:"Artists"})}get playlists(){return this.sections.get({title:"Community playlists"})}get page(){return u(this,Zt)}},iu=ru;n(iu,"Search"),Zt=new WeakMap,Be=new WeakMap,Qe=new WeakMap,jt=new WeakMap,su=new WeakSet,xT=n(async function(e){if(!e.endpoint)throw new Bh(`${e.title} doesn't have more items`);let t=await e.endpoint.call(u(this,Be),"YTMUSIC");return new ru(t,u(this,Be),{is_continuation:!0})},"#getMore");bT.exports=iu});var qT=l((DD,TT)=>{"use strict";var hA=q(),Ze,en,Kn,Fh=class{constructor(e,t){E(this,Ze,void 0);E(this,en,void 0);E(this,Kn,void 0);var a,r;I(this,en,t),I(this,Ze,hA.parseResponse(e.data));let i=u(this,Ze).contents.tabs.get({title:"Home"});I(this,Kn,((a=i.content)==null?void 0:a.continuation)||u(this,Ze).continuation_contents.continuation),this.sections=((r=i.content)==null?void 0:r.contents)||u(this,Ze).continuation_contents.contents}async getContinuation(){let e=await u(this,en).browse(u(this,Kn),{is_ctoken:!0,client:"YTMUSIC"});return new Fh(e,u(this,en))}get page(){return u(this,Ze)}},ou=Fh;n(ou,"HomeFeed"),Ze=new WeakMap,en=new WeakMap,Kn=new WeakMap;TT.exports=ou});var IT=l((UD,ST)=>{"use strict";var dA=q(),zn,cu=class{constructor(e){E(this,zn,void 0);I(this,zn,dA.parseResponse(e.data));let t=this.page.contents.tabs.get({selected:!0});this.top_buttons=t.content.contents.get({type:"Grid"}).items,this.sections=t.content.contents.findAll({type:"MusicCarouselShelf"})}get page(){return u(this,zn)}};n(cu,"Explore"),zn=new WeakMap;ST.exports=cu});var PT=l((ND,CT)=>{"use strict";var pA=q(),Xn,au=class{constructor(e){E(this,Xn,void 0);I(this,Xn,pA.parseResponse(e.data))}get page(){return u(this,Xn)}};n(au,"Library"),Xn=new WeakMap;CT.exports=au});var AT=l((BD,RT)=>{"use strict";var gA=q(),{observe:_A}=V(),ht,Qn,uu=class{constructor(e,t){E(this,ht,void 0);E(this,Qn,void 0);I(this,ht,gA.parseResponse(e.data)),I(this,Qn,t),this.header=this.page.header;let i=u(this,ht).contents_memo.get("MusicShelf"),a=u(this,ht).contents_memo.get("MusicCarouselShelf");this.sections=_A([...i,...a])}async getAllSongs(){var i;return((i=(await this.sections.get({type:"MusicShelf"}).endpoint.call(u(this,Qn),"YTMUSIC")).contents_memo.get("MusicPlaylistShelf"))==null?void 0:i[0])||[]}get page(){return u(this,ht)}};n(uu,"Artist"),ht=new WeakMap,Qn=new WeakMap;RT.exports=uu});var LT=l((FD,kT)=>{"use strict";var mA=q(),Fe,hu,lu=class{constructor(e,t){E(this,Fe,void 0);E(this,hu,void 0);var i;I(this,Fe,mA.parseResponse(e.data)),I(this,hu,t),this.header=u(this,Fe).header,this.url=u(this,Fe).microformat.url_canonical,this.contents=(i=u(this,Fe).contents_memo.get("MusicShelf"))==null?void 0:i[0].contents,this.sections=u(this,Fe).contents_memo.get("MusicCarouselShelf")||[]}get page(){return u(this,Fe)}};n(lu,"Album"),Fe=new WeakMap,hu=new WeakMap;kT.exports=lu});var OT=l((MD,fT)=>{"use strict";var Mh=q(),yA=ET(),vA=qT(),wA=IT(),xA=PT(),bA=AT(),EA=LT(),{InnertubeError:tn,throwIfMissing:nn,observe:TA}=V(),pu,z,du=class{constructor(e){E(this,pu,void 0);E(this,z,void 0);I(this,pu,e),I(this,z,e.actions)}async search(e,t){nn({query:e});let i=await u(this,z).search({query:e,filters:t,client:"YTMUSIC"});return new yA(i,u(this,z),{is_filtered:(t==null?void 0:t.hasOwnProperty("type"))&&t.type!=="all"})}async getHomeFeed(){let e=await u(this,z).browse("FEmusic_home",{client:"YTMUSIC"});return new vA(e,u(this,z))}async getExplore(){let e=await u(this,z).browse("FEmusic_explore",{client:"YTMUSIC"});return new wA(e,u(this,z))}async getLibrary(){let e=await u(this,z).browse("FEmusic_liked_albums",{client:"YTMUSIC"});return new xA(e,u(this,z))}async getArtist(e){if(nn({artist_id:e}),!e.startsWith("UC"))throw new tn("Invalid artist id",e);let t=await u(this,z).browse(e,{client:"YTMUSIC"});return new bA(t,u(this,z))}async getAlbum(e){if(nn({album_id:e}),!e.startsWith("MPR"))throw new tn("Invalid album id",e);let t=await u(this,z).browse(e,{client:"YTMUSIC"});return new EA(t,u(this,z))}async getLyrics(e){nn({video_id:e});let t=await u(this,z).next({video_id:e,client:"YTMUSIC"}),r=await Mh.parseResponse(t.data).contents.tabs.get({title:"Lyrics"}).endpoint.call(u(this,z),"YTMUSIC");if(!r)throw new tn("Invalid video id");if(r.contents.constructor.name==="Message")throw new tn(r.contents.text,e);let o=r.contents.contents.get({type:"MusicDescriptionShelf"});return{text:o.description.toString(),footer:o.footer}}async getUpNext(e){nn({video_id:e});let t=await u(this,z).next({video_id:e,client:"YTMUSIC"}),r=Mh.parseResponse(t.data).contents.tabs.get({title:"Up next"}).content.content;if(!r)throw new tn("Invalid id",e);return{id:r.playlist_id,title:r.title,is_editable:r.is_editable,contents:TA(r.contents)}}async getRelated(e){nn({video_id:e});let t=await u(this,z).next({video_id:e,client:"YTMUSIC"}),r=await Mh.parseResponse(t.data).contents.tabs.get({title:"Related"}).endpoint.call(u(this,z),"YTMUSIC");if(!r)throw new tn("Invalid video id");let o=r.contents.contents.findAll({type:"MusicCarouselShelf"}),c=r.contents.contents.get({type:"MusicDescriptionShelf"});return{sections:o,info:(c==null?void 0:c.description.toString())||""}}async getSearchSuggestions(e){var r;let t={parse:!0,input:e,client:"YTMUSIC"},a=(r=(await u(this,z).execute("/music/get_search_suggestions",t)).contents_memo.get("SearchSuggestionsSection"))==null?void 0:r[0];return(a==null?void 0:a.contents)||[]}};n(du,"Music"),pu=new WeakMap,z=new WeakMap;fT.exports=du});var NT=l((VD,UT)=>{"use strict";var{InnertubeError:gu}=V(),DT=He(),dt,_u=class extends DT{constructor(t,i,a=!1){super(t,i,a);E(this,dt,void 0)}get filter_chips(){var t,i;if(u(this,dt))return u(this,dt)||[];if(((t=this.memo.get("FeedFilterChipBar"))==null?void 0:t.length)>1)throw new gu("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.get("FeedFilterChipBar"))==null?void 0:i.length)===0)throw new gu("There are no feed filter chipbars");return I(this,dt,this.memo.get("ChipCloudChip")||[]),u(this,dt)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){let i;if(typeof t=="string"){if(!this.filters.includes(t))throw new gu("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(r=>r.text.toString()===t)}else if(t.type==="ChipCloudChip")i=t;else throw new gu("Invalid filter");if(i.is_selected)return this;let a=await i.endpoint.call(this.actions);return new DT(this.actions,a,!0)}};n(_u,"FilterableFeed"),dt=new WeakMap;UT.exports=_u});var YT=l((YD,VT)=>{"use strict";var qA=require("axios"),Zn=ye(),sn=V(),je,me,yu,BT,vu,FT,wu,MT,mu=class{constructor(e){E(this,yu);E(this,vu);E(this,wu);E(this,je,void 0);E(this,me,void 0);this.config=e,I(this,je,qA.create({proxy:e.proxy,httpAgent:e.http_agent,httpsAgent:e.https_agent,params:{prettyPrint:!1},headers:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json","user-agent":sn.getRandomUserAgent("desktop").userAgent},validateStatus:()=>!0,timeout:15e3})),f(this,yu,BT).call(this),f(this,vu,FT).call(this)}setSession(e){I(this,me,e)}get instance(){return u(this,je)}};n(mu,"Request"),je=new WeakMap,me=new WeakMap,yu=new WeakSet,BT=n(function(){u(this,je).interceptors.request.use(async e=>{if(u(this,me)){let t=`${Zn.URLS.API.PRODUCTION}${u(this,me).version}`;e.baseURL=e.baseURL||t,e.headers["accept-language"]=`en-${u(this,me).config.gl||"US"}`,e.headers["x-goog-visitor-id"]=u(this,me).context.client.visitorData||"",e.headers["x-youtube-client-version"]=u(this,me).context.client.clientVersion,e.headers["x-origin"]=new URL(e.baseURL).origin,e.headers.origin=new URL(e.baseURL).origin,e.params.key=u(this,me).key;let i=e.baseURL==t;if(i&&typeof e.data=="object"&&(e.data={context:JSON.parse(JSON.stringify(u(this,me).context)),...e.data},f(this,wu,MT).call(this,e.data.context,e.data.client),e.headers["x-youtube-client-version"]=e.data.context.client.clientVersion,delete e.data.client),u(this,me).logged_in&&i){let a=u(this,me).oauth;if(a.validateCredentials()&&(await a.checkAccessTokenValidity(),e.headers.authorization=`Bearer ${a.credentials.access_token}`,delete e.params.key),this.config.cookie){let r=sn.getStringBetweenStrings(this.config.cookie,"PAPISID=",";");e.headers.authorization=sn.generateSidAuth(r),e.headers.cookie=this.config.cookie}}}if(this.config.debug){let t=`${e.baseURL?`${e.baseURL}`:""}${e.url}`;console.info(`
`,`[${e.method.toUpperCase()}] > ${t}`,`
`,(e==null?void 0:e.data)||"N/A",`
`)}return e},e=>{throw new sn.InnertubeError(e.message,e)})},"#setupRequestInterceptor"),vu=new WeakSet,FT=n(function(){u(this,je).interceptors.response.use(e=>{let t={success:e.status===200,status_code:e.status,data:e.data};if(e.status!==200)throw new sn.InnertubeError(`Request to ${e.config.url} failed with status code ${e.status}`,t);return t}),u(this,je).interceptors.response.use(void 0,e=>{if(e.info)return Promise.reject(e);throw new sn.InnertubeError("Could not complete this operation",e.message)})},"#setupResponseInterceptor"),wu=new WeakSet,MT=n(function(e,t){switch(t){case"YTMUSIC":e.client.clientVersion=Zn.CLIENTS.YTMUSIC.VERSION,e.client.clientName=Zn.CLIENTS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=Zn.CLIENTS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Zn.CLIENTS.ANDROID.NAME;break;default:break}},"#adjustContext");VT.exports=mu});var SA=Qh(),IA=V0(),CA=UE(),PA=ME(),RA=JE(),AA=KE(),kA=QE(),GT=cT(),LA=lT(),fA=$a(),OA=gT(),DA=Oh(),UA=mT(),NA=vT(),BA=OT(),FA=NT(),MA=Lh(),VA=He(),YA=require("events"),{PassThrough:GA}=require("stream-browserify"),$A=YT(),WA=ye(),{InnertubeError:JA,throwIfMissing:et,generateRandomString:$T}=V(),HA=gt(),pt,rn,bu,WT,xu=class{constructor(e){E(this,bu);E(this,pt,void 0);E(this,rn,void 0);return this.config=e||{},f(this,bu,WT).call(this)}signIn(e={}){return new Promise(async t=>{this.oauth.init(e),this.oauth.validateCredentials()&&(await this.oauth.checkAccessTokenValidity(),this.logged_in=!0,t()),this.ev.on("auth",i=>{this.logged_in=!0,i.status==="SUCCESS"&&t()})})}async signOut(){if(!this.logged_in)throw new JA("You are not signed in");let e=await this.oauth.revokeAccessToken();return this.logged_in=!1,e}async getInfo(e){et({video_id:e});let t=$T(16),i=this.actions.getVideoInfo(e,t),a=this.actions.next({video_id:e}),r=await Promise.all([i,a]);return new GT(r,this.actions,u(this,pt),t)}async getBasicInfo(e){et({video_id:e});let t=$T(16),i=await this.actions.getVideoInfo(e,t);return new GT([i,{}],this.actions,u(this,pt),t)}async search(e,t={}){et({query:e});let i=await this.actions.search({query:e,filters:t});return new kA(this.actions,i.data)}async getSearchSuggestions(e){et({query:e});let t=await u(this,rn).call(this,{url:"search",baseURL:WA.URLS.YT_SUGGESTIONS,params:{q:e,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:this.context.client.gl,hl:this.context.client.hl}});return JSON.parse(t.data.replace(")]}'",""))[1].map(r=>r[0])}async getComments(e,t){et({video_id:e});let i=HA.encodeCommentsSectionParams(e,{sort_by:t||"TOP_COMMENTS"}),a=await this.actions.next({ctoken:i});return new UA(this.actions,a.data)}async getHomeFeed(){let e=await this.actions.browse("FEwhat_to_watch");return new FA(this.actions,e.data)}async getLibrary(){let e=await this.actions.browse("FElibrary");return new OA(e.data,this.actions)}async getHistory(){let e=await this.actions.browse("FEhistory");return new DA(this.actions,e.data)}async getTrending(){let e=await this.actions.browse("FEtrending");return new MA(this.actions,e.data)}async getSubscriptionsFeed(){let e=await this.actions.browse("FEsubscriptions");return new VA(this.actions,e.data)}async getChannel(e){et({id:e});let t=await this.actions.browse(e);return new LA(this.actions,t.data)}async getNotifications(){let e=await this.actions.notifications("get_notification_menu");return new NA(this.actions,e.data)}async getUnseenNotificationsCount(){return(await this.actions.notifications("get_unseen_count")).data.unseenCount}async getPlaylist(e){et({playlist_id:e});let t=await this.actions.browse(`VL${e.replace(/VL/g,"")}`);return new fA(this.actions,t.data)}async getStreamingData(e,t={}){return(await this.getBasicInfo(e)).chooseFormat(t)}download(e,t={}){et({video_id:e});let i=new GA;return(async()=>{let a=await this.getBasicInfo(e);i.emit("info",a),a.download(t,i)})(),i}getPlayer(){return u(this,pt)}get request(){return u(this,rn)}};n(xu,"Innertube"),pt=new WeakMap,rn=new WeakMap,bu=new WeakSet,WT=n(async function(){let e=new $A(this.config),t=await new CA(this.config,e.instance).build();return this.key=t.key,this.version=t.api_version,this.context=t.context,this.logged_in=!!this.config.cookie,this.sts=t.player.sts,this.player_url=t.player.url,I(this,pt,t.player),e.setSession(this),I(this,rn,e.instance),this.ev=new YA,this.oauth=new SA(this.ev,e.instance),this.actions=new IA(this),this.account=new PA(this.actions),this.playlist=new RA(this.actions),this.interact=new AA(this.actions),this.music=new BA(this),this},"#init");module.exports=xu;
//# sourceMappingURL=node.js.map
