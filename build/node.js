"use strict";/* eslint-disable */
var Mh=Object.defineProperty;var WT=(s,e,t)=>e in s?Mh(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var n=(s,e)=>Mh(s,"name",{value:e,configurable:!0});var l=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports);var oe=(s,e,t)=>(WT(s,typeof e!="symbol"?e+"":e,t),t),xu=(s,e,t)=>{if(!e.has(s))throw TypeError("Cannot "+t)};var u=(s,e,t)=>(xu(s,e,"read from private field"),t?t.call(s):e.get(s)),E=(s,e,t)=>{if(e.has(s))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(s):e.set(s,t)},I=(s,e,t,i)=>(xu(s,e,"write to private field"),i?i.call(s,t):e.set(s,t),t);var L=(s,e,t)=>(xu(s,e,"access private method"),t);var _e=l((Kf,Vh)=>{"use strict";Vh.exports={URLS:{YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",API:{BASE:"https://youtubei.googleapis.com",PRODUCTION:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}},OAUTH:{SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:{accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"},REGEX:{AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:/.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},/}},CLIENTS:{WEB:{NAME:"WEB"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"17.17.32"}},STREAM_HEADERS:{accept:"*/*",connection:"keep-alive",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},INNERTUBE_HEADERS_BASE:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},METADATA_KEYS:["embed","view_count","average_rating","allow_ratings","length_seconds","channel_id","channel_url","external_channel_id","is_live_content","is_family_safe","is_unlisted","is_private","has_ypc_metadata","category","owner_channel_name","publish_date","upload_date","keywords","available_countries","owner_profile_url"],BLACKLISTED_KEYS:["is_owner_viewing","is_unplugged_corpus","is_crawlable","author"],ACCOUNT_SETTINGS:{SUBSCRIPTIONS:"NOTIFICATION_SUBSCRIPTION_NOTIFICATIONS",RECOMMENDED_VIDEOS:"NOTIFICATION_RECOMMENDATION_WEB_CONTROL",CHANNEL_ACTIVITY:"NOTIFICATION_COMMENT_WEB_CONTROL",COMMENT_REPLIES:"NOTIFICATION_COMMENT_REPLY_OTHER_WEB_CONTROL",USER_MENTION:"NOTIFICATION_USER_MENTION_WEB_CONTROL",SHARED_CONTENT:"NOTIFICATION_RETUBING_WEB_CONTROL",PLAYLISTS_PRIVACY:"PRIVACY_DISCOVERABLE_SAVED_PLAYLISTS",SUBSCRIPTIONS_PRIVACY:"PRIVACY_DISCOVERABLE_SUBSCRIPTIONS"},BASE64_DIALECT:{NORMAL:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),REVERSE:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("")},SIG_REGEX:{ACTIONS:/;.{2}\.(?<name>.{2})\(.*?,(?<param>.*?)\)/g,FUNCTIONS:/(?<name>.{2}):function\(.*?\){(.*?)}/g},NTOKEN_REGEX:{CALLS:/c\[(.*?)\]\((.+?)\)/g,PLACEHOLDERS:/c\[(.*?)\]=c/g,FUNCTIONS:/d\.push\(e\)|d\.reverse\(\)|d\[0\]\)\[0\]\)|f=d\[0];d\[0\]|d\.length;d\.splice\(e,1\)|function\(\){for\(var|function\(d,e,f\){var|function\(d\){for\(var|reverse\(\)\.forEach|unshift\(d\.pop\(\)\)|function\(d,e\){for\(var f/},FUNCS:{PUSH:"d.push(e)",REVERSE_1:"d.reverse()",REVERSE_2:"function(d){for(var",SPLICE:"d.length;d.splice(e,1)",SWAP0_1:"d[0])[0])",SWAP0_2:"f=d[0];d[0]",ROTATE_1:"reverse().forEach",ROTATE_2:"unshift(d.pop())",BASE64_DIA:"function(){for(var",TRANSLATE_1:"function(d,e){for(var f",TRANSLATE_2:"function(d,e,f){var"}}});var Qn=l((zf,JT)=>{JT.exports={name:"youtubei.js",version:"2.0.0",description:"A full-featured wrapper around YouTube's private API. Allows you to retrieve info about any video, subscribe, unsubscribe, like, dislike, comment, search, download videos/music and much more!",author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)"],funding:"https://ko-fi.com/luanrt",license:"MIT",scripts:{test:"npx jest --verbose","test:node":"npm run build:node:prod && npx jest node","test:browser":"npm run build:browser:prod && npx jest browser",lint:"npx eslint ./lib","lint:fix":"npx eslint --fix ./lib","build:types":"npx tsc","build:parser-map":"node ./scripts/build-parser-json.js","build:general":'npm run build:parser-map && npx esbuild ./lib/Innertube.js --banner:js="/* eslint-disable */" --bundle --target=node12 --keep-names --format=cjs --sourcemap',"build:node":"npm run build:general -- --outfile=./build/node.js --platform=node --external:axios --external:buffer --external:events --external:flat --external:idb --external:node-forge --external:protocol-buffers-encodings --external:stream-browserify --external:user-agents --external:uuid --define:BROWSER=false","build:node:prod":"npm run build:node -- --minify","build:browser":"npm run build:general -- --outfile=./build/browser.js --platform=browser --define:BROWSER=true","build:browser:prod":"npm run build:browser -- --minify"},types:"./typings/lib/Innertube.d.ts",main:"./build/node.js",browser:"./build/browser.js",directories:{test:"./test",typings:"./typings",examples:"./examples",lib:"./lib"},dependencies:{"@zxing/text-encoding":"^0.9.0",axios:"^0.21.4",buffer:"^6.0.3",events:"^3.3.0",flat:"^5.0.2",idb:"^7.0.2","node-forge":"^1.3.1","protocol-buffers-encodings":"^1.1.1","stream-browserify":"^3.0.0","user-agents":"^1.0.778",uuid:"^8.3.2"},devDependencies:{"@types/node":"^17.0.31",esbuild:"^0.14.48",eslint:"^8.15.0","eslint-plugin-jsdoc":"^39.3.2","fake-dom":"^1.0.4",jest:"^28.1.0",typescript:"^4.6.4",xhr2:"^0.2.1","xmlhttprequest-ssl":"^2.0.0"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","innertube","innertubeapi","unofficial","downloader","livechat","ytmusic","dislike","search","comment","music","like","api"]}});var M=l((Xf,Wh)=>{"use strict";var HT=require("node-forge"),Yh=require("user-agents"),KT=require("flat"),Se=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=Qn().version}};n(Se,"InnertubeError");var sn=class extends Se{};n(sn,"ParsingError");var Zn=class extends Se{};n(Zn,"DownloadError");var rn=class extends Se{};n(rn,"MissingParamError");var jn=class extends Se{};n(jn,"UnavailableContentError");var ei=class extends Se{};n(ei,"NoStreamingDataError");var ti=class extends Se{};n(ti,"OAuthError");function zT(s,e,t,i,a=!0){let r=KT(s,{safe:a,maxDepth:i||2}),o=Object.keys(r).find(c=>c.includes(e)&&JSON.stringify(r[c]||"{}").includes(t));if(!o)throw new sn(`Expected to find "${e}" with content "${t}" but got ${o}`,{key:e,target:t,data_snippet:`${JSON.stringify(r,null,4).slice(0,300)}..`});return r[o]}n(zT,"findNode");function XT(s){return new Proxy(s,{get(e,t){return t=="get"?(i,a)=>e.find((r,o)=>{let c=Gh(i,r);return c&&a&&e.splice(o,1),c}):t=="findAll"?(i,a)=>e.filter((r,o)=>{let c=Gh(i,r);return c&&a&&e.splice(o,1),c}):t=="remove"?i=>e.splice(i,1):Reflect.get(...arguments)}})}n(XT,"observe");function Gh(s,e){return Reflect.ownKeys(s).some(i=>{var r;let a=((r=e[i])==null?void 0:r.constructor.name)==="Text";return!a&&typeof e[i]=="object"?JSON.stringify(s[i])===JSON.stringify(e[i]):s[i]===(a?e[i].toString():e[i])})}n(Gh,"deepCompare");function QT(){let s={},e=process.platform==="win32",t=e?/[^:]\\$/:/.\/$/,i;return e?i=s.TEMP||s.TMP||`${s.SystemRoot||s.windir}\\temp`:i=s.TMPDIR||s.TMP||s.TEMP||"/tmp",t.test(i)&&(i=i.slice(0,-1)),i}n(QT,"getTmpdir");function ZT(s,e,t){let i=new RegExp(`${$h(e)}(.*?)${$h(t)}`,"s"),a=s.match(i);return a?a[1]:void 0}n(ZT,"getStringBetweenStrings");function $h(s){return s.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n($h,"escapeStringRegexp");function jT(s){switch(s){case"mobile":return new Yh(/Android/).data;case"desktop":return new Yh({deviceCategory:"desktop"}).data;default:}}n(jT,"getRandomUserAgent");function eq(s){let e="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),i=[t,s,e].join(" "),a=HT.md.sha1.create();a.update(i);let r=a.digest().toHex();return["SAPISIDHASH",[t,r].join("_")].join(" ")}n(eq,"generateSidAuth");function tq(s){let e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let i=0;i<s;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}n(tq,"generateRandomString");function nq(s){let e=s.split(":");switch(e.length){case 1:return parseInt(+e[0]);case 2:return parseInt(+e[0]*60+ +e[1]);case 3:return parseInt(+e[0]*3600+ +e[1]*60+ +e[2]);default:break}}n(nq,"timeToSeconds");function iq(s){return s[0].toLowerCase()+s.slice(1,s.length).replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(iq,"camelToSnake");function sq(s){return["YOUTUBE","YTMUSIC"].includes(s)}n(sq,"isValidClient");function rq(s){for(let[e,t]of Object.entries(s))if(!t)throw new rn(`${e} is missing`)}n(rq,"throwIfMissing");function oq(s){return s.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}n(oq,"refineNTokenData");var cq={InnertubeError:Se,UnavailableContentError:jn,ParsingError:sn,DownloadError:Zn,MissingParamError:rn,NoStreamingDataError:ei,OAuthError:ti},aq={findNode:zT,observe:XT,getTmpdir:QT,getRandomUserAgent:jT,generateSidAuth:eq,generateRandomString:tq,getStringBetweenStrings:ZT,camelToSnake:iq,isValidClient:sq,throwIfMissing:rq,timeToSeconds:nq,refineNTokenData:oq};Wh.exports={...aq,...cq}});var zh=l((Qf,Kh)=>{"use strict";var uq=require("uuid"),me=_e(),{OAuthError:on}=M(),Ie,Fe,ce,cn,ye,an,bu,ii,Jh,si,Hh,un,Eu,ni=class{constructor(e,t){E(this,an);E(this,ii);E(this,si);E(this,un);E(this,Ie,void 0);E(this,Fe,void 0);E(this,ce,{});E(this,cn,5);E(this,ye,null);I(this,ye,e),I(this,Ie,t)}init(e){I(this,ce,e),e.access_token||L(this,an,bu).call(this)}async checkAccessTokenValidity(){let e=new Date(u(this,ce).expires).getTime();new Date().getTime()>e&&await L(this,si,Hh).call(this)}revokeCredentials(){return u(this,Ie).call(this,{url:"/o/oauth2/revoke",baseURL:me.URLS.YT_BASE,params:{token:this.getAccessToken()},method:"post"})}get credentials(){return u(this,ce)}validateCredentials(){return u(this,ce).hasOwnProperty("access_token")&&u(this,ce).hasOwnProperty("refresh_token")&&u(this,ce).hasOwnProperty("expires")}};n(ni,"OAuth"),Ie=new WeakMap,Fe=new WeakMap,ce=new WeakMap,cn=new WeakMap,ye=new WeakMap,an=new WeakSet,bu=n(async function(){I(this,Fe,await L(this,un,Eu).call(this));let e={client_id:u(this,Fe).client_id,scope:me.OAUTH.SCOPE,device_id:uq.v4(),model_name:me.OAUTH.MODEL_NAME},t=await u(this,Ie).call(this,{data:e,url:"/o/oauth2/device/code",baseURL:me.URLS.YT_BASE,method:"post"}).catch(i=>i);if(t instanceof Error)return u(this,ye).emit("auth",new on("Could not obtain user code.",t.message));u(this,ye).emit("auth",{...t.data,status:"AUTHORIZATION_PENDING"}),I(this,cn,t.data.interval),L(this,ii,Jh).call(this,t.data.device_code)},"#getUserCode"),ii=new WeakSet,Jh=n(function(e){let t=setInterval(async()=>{let i={...u(this,Fe),code:e,grant_type:me.OAUTH.GRANT_TYPE},a=await u(this,Ie).call(this,{data:i,url:"/o/oauth2/token",baseURL:me.URLS.YT_BASE,method:"post"}).catch(o=>o);if(a instanceof Error)return u(this,ye).emit("auth",new on("Could not obtain user code.",{status:"FAILED",message:a.message}));if(a.data.error){switch(a.data.error){case"access_denied":u(this,ye).emit("auth",new on("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":u(this,ye).emit("auth",new on("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),L(this,an,bu).call(this);break;default:break}return}let r=new Date(new Date().getTime()+a.data.expires_in*1e3);I(this,ce,{access_token:a.data.access_token,refresh_token:a.data.refresh_token,expires:r}),u(this,ye).emit("auth",{credentials:u(this,ce),status:"SUCCESS"}),clearInterval(t)},u(this,cn)*1e3)},"#startPolling"),si=new WeakSet,Hh=n(async function(){I(this,Fe,await L(this,un,Eu).call(this));let e={...u(this,Fe),refresh_token:u(this,ce).refresh_token,grant_type:"refresh_token"},t=await u(this,Ie).call(this,{data:e,url:"/o/oauth2/token",baseURL:me.URLS.YT_BASE,method:"post"}).catch(a=>a);if(t instanceof Error)return u(this,ye).emit("update-credentials",new on("Could not refresh access token.",{status:"FAILED"}));let i=new Date(new Date().getTime()+t.data.expires_in*1e3);I(this,ce,{access_token:t.data.access_token,refresh_token:t.data.refresh_token||this.credentials.refresh_token,expires:i}),u(this,ye).emit("update-credentials",{credentials:u(this,ce),status:"SUCCESS"})},"#refreshAccessToken"),un=new WeakSet,Eu=n(async function(){let e=await u(this,Ie).call(this,{url:"/tv",baseURL:me.URLS.YT_BASE,headers:me.OAUTH.HEADERS}),t=me.OAUTH.REGEX.AUTH_SCRIPT.exec(e.data)[1];return(await u(this,Ie).call(this,{url:t,baseURL:me.URLS.YT_BASE})).data.replace(/\n/g,"").match(me.OAUTH.REGEX.CLIENT_IDENTITY).groups},"#getClientIdentity");Kh.exports=ni});var Xh=l(he=>{var g=require("protocol-buffers-encodings"),w=g.varint,N=g.skip,Tu=he.VisitorData={buffer:!0,encodingLength:null,encode:null,decode:null},ri=he.ChannelAnalytics={buffer:!0,encodingLength:null,encode:null,decode:null},oi=he.InnertubePayload={buffer:!0,encodingLength:null,encode:null,decode:null},ci=he.SoundInfoParams={buffer:!0,encodingLength:null,encode:null,decode:null},ai=he.NotificationPreferences={buffer:!0,encodingLength:null,encode:null,decode:null},ui=he.LiveMessageParams={buffer:!0,encodingLength:null,encode:null,decode:null},ln=he.GetCommentsSectionParams={buffer:!0,encodingLength:null,encode:null,decode:null},li=he.CreateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null},hi=he.CreateCommentReplyParams={buffer:!0,encodingLength:null,encode:null,decode:null},di=he.PeformCommentActionParams={buffer:!0,encodingLength:null,encode:null,decode:null},pi=he.MusicSearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null},gi=he.SearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null};lq();hq();dq();pq();gq();_q();mq();yq();vq();wq();xq();bq();function lq(){Tu.encodingLength=s,Tu.encode=e,Tu.decode=t;function s(i){var a=0;if(b(i.id)){var r=g.string.encodingLength(i.id);a+=1+r}if(b(i.timestamp)){var r=g.int32.encodingLength(i.timestamp);a+=1+r}return a}n(s,"encodingLength");function e(i,a,r){r||(r=0),a||(a=Buffer.allocUnsafe(s(i)));var o=r;return b(i.id)&&(a[r++]=10,g.string.encode(i.id,a,r),r+=g.string.encode.bytes),b(i.timestamp)&&(a[r++]=40,g.int32.encode(i.timestamp,a,r),r+=g.int32.encode.bytes),e.bytes=r-o,a}n(e,"encode");function t(i,a,r){if(a||(a=0),r||(r=i.length),!(r<=i.length&&a<=i.length))throw new Error("Decoded message is not valid");for(var o=a,c={id:"",timestamp:0};;){if(r<=a)return t.bytes=a-o,c;var p=w.decode(i,a);a+=w.decode.bytes;var d=p>>3;switch(d){case 1:c.id=g.string.decode(i,a),a+=g.string.decode.bytes;break;case 5:c.timestamp=g.int32.decode(i,a),a+=g.int32.decode.bytes;break;default:a=N(p&7,i,a)}}}n(t,"decode")}n(lq,"defineVisitorData");function hq(){var s=ri.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.channel_id)){var h=g.string.encodingLength(p.channel_id);d+=2+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(r(p)));var _=h;return b(p.channel_id)&&(d[h++]=202,d[h++]=62,g.string.encode(p.channel_id,d,h),h+=g.string.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={channel_id:""};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1001:v.channel_id=g.string.decode(p,d),d+=g.string.decode.bytes;break;default:d=N(x&7,p,d)}}}n(c,"decode")}n(e,"defineParams"),ri.encodingLength=t,ri.encode=i,ri.decode=a;function t(r){var o=0;if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.params)&&(o[c++]=130,o[c++]=2,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={params:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 32:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(hq,"defineChannelAnalytics");function dq(){var s=oi.Context={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Client={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.unkparam)){var m=g.int32.encodingLength(x.unkparam);y+=2+m}if(b(x.client_version)){var m=g.string.encodingLength(x.client_version);y+=2+m}if(b(x.client_name)){var m=g.string.encodingLength(x.client_name);y+=2+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=Buffer.allocUnsafe(h(x)));var T=m;return b(x.unkparam)&&(y[m++]=128,y[m++]=1,g.int32.encode(x.unkparam,y,m),m+=g.int32.encode.bytes),b(x.client_version)&&(y[m++]=138,y[m++]=1,g.string.encode(x.client_version,y,m),m+=g.string.encode.bytes),b(x.client_name)&&(y[m++]=146,y[m++]=1,g.string.encode(x.client_name,y,m),m+=g.string.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={unkparam:0,client_version:"",client_name:""};;){if(m<=y)return v.bytes=y-T,P;var f=w.decode(x,y);y+=w.decode.bytes;var S=f>>3;switch(S){case 16:P.unkparam=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 17:P.client_version=g.string.decode(x,y),y+=g.string.decode.bytes;break;case 18:P.client_name=g.string.decode(x,y),y+=g.string.decode.bytes;break;default:y=N(f&7,x,y)}}}n(v,"decode")}n(o,"defineClient"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.client)){var v=r.encodingLength(h.client);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.client)&&(_[v++]=10,w.encode(r.encodingLength(h.client),_,v),v+=w.encode.bytes,r.encode(h.client,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={client:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 1:var P=w.decode(h,_);_+=w.decode.bytes,y.client=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(e,"defineContext"),oi.encodingLength=t,oi.encode=i,oi.decode=a;function t(r){var o=0;if(b(r.context)){var c=s.encodingLength(r.context);o+=w.encodingLength(c),o+=1+c}if(b(r.target)){var c=g.string.encodingLength(r.target);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.context)&&(o[c++]=10,w.encode(s.encodingLength(r.context),o,c),c+=w.encode.bytes,s.encode(r.context,o,c),c+=s.encode.bytes),b(r.target)&&(o[c++]=18,g.string.encode(r.target,o,c),c+=g.string.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={context:null,target:""};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:var v=w.decode(r,o);o+=w.decode.bytes,d.context=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 2:d.target=g.string.decode(r,o),o+=g.string.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(dq,"defineInnertubePayload");function pq(){var s=ci.Sound={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Params={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){var h=r.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){h.encodingLength=m,h.encode=T,h.decode=P;function m(f){var S=0;if(b(f.id_1)){var R=g.string.encodingLength(f.id_1);S+=1+R}if(b(f.id_2)){var R=g.string.encodingLength(f.id_2);S+=1+R}if(b(f.id_3)){var R=g.string.encodingLength(f.id_3);S+=1+R}return S}n(m,"encodingLength");function T(f,S,R){R||(R=0),S||(S=Buffer.allocUnsafe(m(f)));var A=R;return b(f.id_1)&&(S[R++]=10,g.string.encode(f.id_1,S,R),R+=g.string.encode.bytes),b(f.id_2)&&(S[R++]=18,g.string.encode(f.id_2,S,R),R+=g.string.encode.bytes),b(f.id_3)&&(S[R++]=26,g.string.encode(f.id_3,S,R),R+=g.string.encode.bytes),T.bytes=R-A,S}n(T,"encode");function P(f,S,R){if(S||(S=0),R||(R=f.length),!(R<=f.length&&S<=f.length))throw new Error("Decoded message is not valid");for(var A=S,B={id_1:"",id_2:"",id_3:""};;){if(R<=S)return P.bytes=S-A,B;var D=w.decode(f,S);S+=w.decode.bytes;var G=D>>3;switch(G){case 1:B.id_1=g.string.decode(f,S),S+=g.string.decode.bytes;break;case 2:B.id_2=g.string.decode(f,S),S+=g.string.decode.bytes;break;case 3:B.id_3=g.string.decode(f,S),S+=g.string.decode.bytes;break;default:S=N(D&7,f,S)}}}n(P,"decode")}n(_,"defineIds"),r.encodingLength=v,r.encode=x,r.decode=y;function v(m){var T=0;if(b(m.ids)){var P=h.encodingLength(m.ids);T+=w.encodingLength(P),T+=1+P}return T}n(v,"encodingLength");function x(m,T,P){P||(P=0),T||(T=Buffer.allocUnsafe(v(m)));var f=P;return b(m.ids)&&(T[P++]=18,w.encode(h.encodingLength(m.ids),T,P),P+=w.encode.bytes,h.encode(m.ids,T,P),P+=h.encode.bytes),x.bytes=P-f,T}n(x,"encode");function y(m,T,P){if(T||(T=0),P||(P=m.length),!(P<=m.length&&T<=m.length))throw new Error("Decoded message is not valid");for(var f=T,S={ids:null};;){if(P<=T)return y.bytes=T-f,S;var R=w.decode(m,T);T+=w.decode.bytes;var A=R>>3;switch(A){case 2:var B=w.decode(m,T);T+=w.decode.bytes,S.ids=h.decode(m,T,T+B),T+=h.decode.bytes;break;default:T=N(R&7,m,T)}}}n(y,"decode")}n(o,"defineParams"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.params)){var v=r.encodingLength(h.params);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.params)&&(_[v++]=10,w.encode(r.encodingLength(h.params),_,v),v+=w.encode.bytes,r.encode(h.params,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={params:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 1:var P=w.decode(h,_);_+=w.decode.bytes,y.params=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(e,"defineSound"),ci.encodingLength=t,ci.encode=i,ci.decode=a;function t(r){var o=0;if(b(r.sound)){var c=s.encodingLength(r.sound);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.sound)&&(o[c++]=242,o[c++]=5,w.encode(s.encodingLength(r.sound),o,c),c+=w.encode.bytes,s.encode(r.sound,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={sound:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 94:var v=w.decode(r,o);o+=w.decode.bytes,d.sound=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(pq,"defineSoundInfoParams");function gq(){var s=ai.Preference={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.index)){var h=g.int32.encodingLength(p.index);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(r(p)));var _=h;return b(p.index)&&(d[h++]=8,g.int32.encode(p.index,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={index:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.index=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=N(x&7,p,d)}}}n(c,"decode")}n(e,"definePreference"),ai.encodingLength=t,ai.encode=i,ai.decode=a;function t(r){var o=0;if(b(r.channel_id)){var c=g.string.encodingLength(r.channel_id);o+=1+c}if(b(r.pref_id)){var c=s.encodingLength(r.pref_id);o+=w.encodingLength(c),o+=1+c}if(b(r.number_0)){var c=g.int32.encodingLength(r.number_0);o+=1+c}if(b(r.number_1)){var c=g.int32.encodingLength(r.number_1);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.channel_id)&&(o[c++]=10,g.string.encode(r.channel_id,o,c),c+=g.string.encode.bytes),b(r.pref_id)&&(o[c++]=18,w.encode(s.encodingLength(r.pref_id),o,c),c+=w.encode.bytes,s.encode(r.pref_id,o,c),c+=s.encode.bytes),b(r.number_0)&&(o[c++]=24,g.int32.encode(r.number_0,o,c),c+=g.int32.encode.bytes),b(r.number_1)&&(o[c++]=32,g.int32.encode(r.number_1,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={channel_id:"",pref_id:null,number_0:0,number_1:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.channel_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.pref_id=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 3:d.number_0=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 4:d.number_1=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(gq,"defineNotificationPreferences");function _q(){var s=ui.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.channel_id)){var m=g.string.encodingLength(x.channel_id);y+=1+m}if(b(x.video_id)){var m=g.string.encodingLength(x.video_id);y+=1+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=Buffer.allocUnsafe(h(x)));var T=m;return b(x.channel_id)&&(y[m++]=10,g.string.encode(x.channel_id,y,m),m+=g.string.encode.bytes),b(x.video_id)&&(y[m++]=18,g.string.encode(x.video_id,y,m),m+=g.string.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={channel_id:"",video_id:""};;){if(m<=y)return v.bytes=y-T,P;var f=w.decode(x,y);y+=w.decode.bytes;var S=f>>3;switch(S){case 1:P.channel_id=g.string.decode(x,y),y+=g.string.decode.bytes;break;case 2:P.video_id=g.string.decode(x,y),y+=g.string.decode.bytes;break;default:y=N(f&7,x,y)}}}n(v,"decode")}n(o,"defineIds"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.ids)){var v=r.encodingLength(h.ids);_+=w.encodingLength(v),_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.ids)&&(_[v++]=42,w.encode(r.encodingLength(h.ids),_,v),v+=w.encode.bytes,r.encode(h.ids,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={ids:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 5:var P=w.decode(h,_);_+=w.decode.bytes,y.ids=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(e,"defineParams"),ui.encodingLength=t,ui.encode=i,ui.decode=a;function t(r){var o=0;if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.number_0)){var c=g.int32.encodingLength(r.number_0);o+=1+c}if(b(r.number_1)){var c=g.int32.encodingLength(r.number_1);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.params)&&(o[c++]=10,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.number_0)&&(o[c++]=16,g.int32.encode(r.number_0,o,c),c+=g.int32.encode.bytes),b(r.number_1)&&(o[c++]=24,g.int32.encode(r.number_1,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={params:null,number_0:0,number_1:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 2:d.number_0=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 3:d.number_1=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(_q,"defineLiveMessageParams");function mq(){var s=ln.Context={buffer:!0,encodingLength:null,encode:null,decode:null},e=ln.Params={buffer:!0,encodingLength:null,encode:null,decode:null};t(),i();function t(){s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.video_id)){var v=g.string.encodingLength(h.video_id);_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.video_id)&&(_[v++]=18,g.string.encode(h.video_id,_,v),v+=g.string.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={video_id:""};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 2:y.video_id=g.string.decode(h,_),_+=g.string.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(t,"defineContext");function i(){var c=e.Options={buffer:!0,encodingLength:null,encode:null,decode:null},p=e.RepliesOptions={buffer:!0,encodingLength:null,encode:null,decode:null};d(),h();function d(){c.encodingLength=y,c.encode=m,c.decode=T;function y(P){var f=0;if(b(P.video_id)){var S=g.string.encodingLength(P.video_id);f+=1+S}if(b(P.sort_by)){var S=g.int32.encodingLength(P.sort_by);f+=1+S}if(b(P.type)){var S=g.int32.encodingLength(P.type);f+=1+S}return f}n(y,"encodingLength");function m(P,f,S){S||(S=0),f||(f=Buffer.allocUnsafe(y(P)));var R=S;return b(P.video_id)&&(f[S++]=34,g.string.encode(P.video_id,f,S),S+=g.string.encode.bytes),b(P.sort_by)&&(f[S++]=48,g.int32.encode(P.sort_by,f,S),S+=g.int32.encode.bytes),b(P.type)&&(f[S++]=120,g.int32.encode(P.type,f,S),S+=g.int32.encode.bytes),m.bytes=S-R,f}n(m,"encode");function T(P,f,S){if(f||(f=0),S||(S=P.length),!(S<=P.length&&f<=P.length))throw new Error("Decoded message is not valid");for(var R=f,A={video_id:"",sort_by:0,type:0};;){if(S<=f)return T.bytes=f-R,A;var B=w.decode(P,f);f+=w.decode.bytes;var D=B>>3;switch(D){case 4:A.video_id=g.string.decode(P,f),f+=g.string.decode.bytes;break;case 6:A.sort_by=g.int32.decode(P,f),f+=g.int32.decode.bytes;break;case 15:A.type=g.int32.decode(P,f),f+=g.int32.decode.bytes;break;default:f=N(B&7,P,f)}}}n(T,"decode")}n(d,"defineOptions");function h(){var y=p.UnkOpts={buffer:!0,encodingLength:null,encode:null,decode:null};m();function m(){y.encodingLength=S,y.encode=R,y.decode=A;function S(B){var D=0;if(b(B.unk_param)){var G=g.int32.encodingLength(B.unk_param);D+=1+G}return D}n(S,"encodingLength");function R(B,D,G){G||(G=0),D||(D=Buffer.allocUnsafe(S(B)));var Ne=G;return b(B.unk_param)&&(D[G++]=8,g.int32.encode(B.unk_param,D,G),G+=g.int32.encode.bytes),R.bytes=G-Ne,D}n(R,"encode");function A(B,D,G){if(D||(D=0),G||(G=B.length),!(G<=B.length&&D<=B.length))throw new Error("Decoded message is not valid");for(var Ne=D,Z={unk_param:0};;){if(G<=D)return A.bytes=D-Ne,Z;var Fh=w.decode(B,D);D+=w.decode.bytes;var $T=Fh>>3;switch($T){case 1:Z.unk_param=g.int32.decode(B,D),D+=g.int32.decode.bytes;break;default:D=N(Fh&7,B,D)}}}n(A,"decode")}n(m,"defineUnkOpts"),p.encodingLength=T,p.encode=P,p.decode=f;function T(S){var R=0;if(b(S.comment_id)){var A=g.string.encodingLength(S.comment_id);R+=1+A}if(b(S.unkopts)){var A=y.encodingLength(S.unkopts);R+=w.encodingLength(A),R+=1+A}if(b(S.channel_id)){var A=g.string.encodingLength(S.channel_id);R+=1+A}if(b(S.video_id)){var A=g.string.encodingLength(S.video_id);R+=1+A}if(b(S.unk_param_1)){var A=g.int32.encodingLength(S.unk_param_1);R+=1+A}if(b(S.unk_param_2)){var A=g.int32.encodingLength(S.unk_param_2);R+=1+A}return R}n(T,"encodingLength");function P(S,R,A){A||(A=0),R||(R=Buffer.allocUnsafe(T(S)));var B=A;return b(S.comment_id)&&(R[A++]=18,g.string.encode(S.comment_id,R,A),A+=g.string.encode.bytes),b(S.unkopts)&&(R[A++]=34,w.encode(y.encodingLength(S.unkopts),R,A),A+=w.encode.bytes,y.encode(S.unkopts,R,A),A+=y.encode.bytes),b(S.channel_id)&&(R[A++]=42,g.string.encode(S.channel_id,R,A),A+=g.string.encode.bytes),b(S.video_id)&&(R[A++]=50,g.string.encode(S.video_id,R,A),A+=g.string.encode.bytes),b(S.unk_param_1)&&(R[A++]=64,g.int32.encode(S.unk_param_1,R,A),A+=g.int32.encode.bytes),b(S.unk_param_2)&&(R[A++]=72,g.int32.encode(S.unk_param_2,R,A),A+=g.int32.encode.bytes),P.bytes=A-B,R}n(P,"encode");function f(S,R,A){if(R||(R=0),A||(A=S.length),!(A<=S.length&&R<=S.length))throw new Error("Decoded message is not valid");for(var B=R,D={comment_id:"",unkopts:null,channel_id:"",video_id:"",unk_param_1:0,unk_param_2:0};;){if(A<=R)return f.bytes=R-B,D;var G=w.decode(S,R);R+=w.decode.bytes;var Ne=G>>3;switch(Ne){case 2:D.comment_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 4:var Z=w.decode(S,R);R+=w.decode.bytes,D.unkopts=y.decode(S,R,R+Z),R+=y.decode.bytes;break;case 5:D.channel_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 6:D.video_id=g.string.decode(S,R),R+=g.string.decode.bytes;break;case 8:D.unk_param_1=g.int32.decode(S,R),R+=g.int32.decode.bytes;break;case 9:D.unk_param_2=g.int32.decode(S,R),R+=g.int32.decode.bytes;break;default:R=N(G&7,S,R)}}}n(f,"decode")}n(h,"defineRepliesOptions"),e.encodingLength=_,e.encode=v,e.decode=x;function _(y){var m=0;if(b(y.unk_token)){var T=g.string.encodingLength(y.unk_token);m+=1+T}if(b(y.opts)){var T=c.encodingLength(y.opts);m+=w.encodingLength(T),m+=1+T}if(b(y.replies_opts)){var T=p.encodingLength(y.replies_opts);m+=w.encodingLength(T),m+=1+T}if(b(y.page)){var T=g.int32.encodingLength(y.page);m+=1+T}if(b(y.target)){var T=g.string.encodingLength(y.target);m+=1+T}return m}n(_,"encodingLength");function v(y,m,T){T||(T=0),m||(m=Buffer.allocUnsafe(_(y)));var P=T;return b(y.unk_token)&&(m[T++]=10,g.string.encode(y.unk_token,m,T),T+=g.string.encode.bytes),b(y.opts)&&(m[T++]=34,w.encode(c.encodingLength(y.opts),m,T),T+=w.encode.bytes,c.encode(y.opts,m,T),T+=c.encode.bytes),b(y.replies_opts)&&(m[T++]=26,w.encode(p.encodingLength(y.replies_opts),m,T),T+=w.encode.bytes,p.encode(y.replies_opts,m,T),T+=p.encode.bytes),b(y.page)&&(m[T++]=40,g.int32.encode(y.page,m,T),T+=g.int32.encode.bytes),b(y.target)&&(m[T++]=66,g.string.encode(y.target,m,T),T+=g.string.encode.bytes),v.bytes=T-P,m}n(v,"encode");function x(y,m,T){if(m||(m=0),T||(T=y.length),!(T<=y.length&&m<=y.length))throw new Error("Decoded message is not valid");for(var P=m,f={unk_token:"",opts:null,replies_opts:null,page:0,target:""};;){if(T<=m)return x.bytes=m-P,f;var S=w.decode(y,m);m+=w.decode.bytes;var R=S>>3;switch(R){case 1:f.unk_token=g.string.decode(y,m),m+=g.string.decode.bytes;break;case 4:var A=w.decode(y,m);m+=w.decode.bytes,f.opts=c.decode(y,m,m+A),m+=c.decode.bytes;break;case 3:var A=w.decode(y,m);m+=w.decode.bytes,f.replies_opts=p.decode(y,m,m+A),m+=p.decode.bytes;break;case 5:f.page=g.int32.decode(y,m),m+=g.int32.decode.bytes;break;case 8:f.target=g.string.decode(y,m),m+=g.string.decode.bytes;break;default:m=N(S&7,y,m)}}}n(x,"decode")}n(i,"defineParams"),ln.encodingLength=a,ln.encode=r,ln.decode=o;function a(c){var p=0;if(b(c.ctx)){var d=s.encodingLength(c.ctx);p+=w.encodingLength(d),p+=1+d}if(b(c.unk_param)){var d=g.int32.encodingLength(c.unk_param);p+=1+d}if(b(c.params)){var d=e.encodingLength(c.params);p+=w.encodingLength(d),p+=1+d}return p}n(a,"encodingLength");function r(c,p,d){d||(d=0),p||(p=Buffer.allocUnsafe(a(c)));var h=d;return b(c.ctx)&&(p[d++]=18,w.encode(s.encodingLength(c.ctx),p,d),d+=w.encode.bytes,s.encode(c.ctx,p,d),d+=s.encode.bytes),b(c.unk_param)&&(p[d++]=24,g.int32.encode(c.unk_param,p,d),d+=g.int32.encode.bytes),b(c.params)&&(p[d++]=50,w.encode(e.encodingLength(c.params),p,d),d+=w.encode.bytes,e.encode(c.params,p,d),d+=e.encode.bytes),r.bytes=d-h,p}n(r,"encode");function o(c,p,d){if(p||(p=0),d||(d=c.length),!(d<=c.length&&p<=c.length))throw new Error("Decoded message is not valid");for(var h=p,_={ctx:null,unk_param:0,params:null};;){if(d<=p)return o.bytes=p-h,_;var v=w.decode(c,p);p+=w.decode.bytes;var x=v>>3;switch(x){case 2:var y=w.decode(c,p);p+=w.decode.bytes,_.ctx=s.decode(c,p,p+y),p+=s.decode.bytes;break;case 3:_.unk_param=g.int32.decode(c,p),p+=g.int32.decode.bytes;break;case 6:var y=w.decode(c,p);p+=w.decode.bytes,_.params=e.decode(c,p,p+y),p+=e.decode.bytes;break;default:p=N(v&7,c,p)}}}n(o,"decode")}n(mq,"defineGetCommentsSectionParams");function yq(){var s=li.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.index)){var h=g.int32.encodingLength(p.index);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(r(p)));var _=h;return b(p.index)&&(d[h++]=8,g.int32.encode(p.index,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={index:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.index=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=N(x&7,p,d)}}}n(c,"decode")}n(e,"defineParams"),li.encodingLength=t,li.encode=i,li.decode=a;function t(r){var o=0;if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.number)){var c=g.int32.encodingLength(r.number);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.video_id)&&(o[c++]=18,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.params)&&(o[c++]=42,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.number)&&(o[c++]=80,g.int32.encode(r.number,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={video_id:"",params:null,number:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 10:d.number=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(yq,"defineCreateCommentParams");function vq(){var s=hi.UnknownParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.unk_num)){var h=g.int32.encodingLength(p.unk_num);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(r(p)));var _=h;return b(p.unk_num)&&(d[h++]=8,g.int32.encode(p.unk_num,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={unk_num:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.unk_num=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=N(x&7,p,d)}}}n(c,"decode")}n(e,"defineUnknownParams"),hi.encodingLength=t,hi.encode=i,hi.decode=a;function t(r){var o=0;if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.comment_id)){var c=g.string.encodingLength(r.comment_id);o+=1+c}if(b(r.params)){var c=s.encodingLength(r.params);o+=w.encodingLength(c),o+=1+c}if(b(r.unk_num)){var c=g.int32.encodingLength(r.unk_num);o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.video_id)&&(o[c++]=18,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.comment_id)&&(o[c++]=34,g.string.encode(r.comment_id,o,c),c+=g.string.encode.bytes),b(r.params)&&(o[c++]=42,w.encode(s.encodingLength(r.params),o,c),c+=w.encode.bytes,s.encode(r.params,o,c),c+=s.encode.bytes),b(r.unk_num)&&(o[c++]=80,g.int32.encode(r.unk_num,o,c),c+=g.int32.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={video_id:"",comment_id:"",params:null,unk_num:0};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 4:d.comment_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:var v=w.decode(r,o);o+=w.decode.bytes,d.params=s.decode(r,o,o+v),o+=s.decode.bytes;break;case 10:d.unk_num=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(vq,"defineCreateCommentReplyParams");function wq(){var s=di.TranslateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Params={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){var h=r.Comment={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){h.encodingLength=m,h.encode=T,h.decode=P;function m(f){var S=0;if(b(f.text)){var R=g.string.encodingLength(f.text);S+=1+R}return S}n(m,"encodingLength");function T(f,S,R){R||(R=0),S||(S=Buffer.allocUnsafe(m(f)));var A=R;return b(f.text)&&(S[R++]=10,g.string.encode(f.text,S,R),R+=g.string.encode.bytes),T.bytes=R-A,S}n(T,"encode");function P(f,S,R){if(S||(S=0),R||(R=f.length),!(R<=f.length&&S<=f.length))throw new Error("Decoded message is not valid");for(var A=S,B={text:""};;){if(R<=S)return P.bytes=S-A,B;var D=w.decode(f,S);S+=w.decode.bytes;var G=D>>3;switch(G){case 1:B.text=g.string.decode(f,S),S+=g.string.decode.bytes;break;default:S=N(D&7,f,S)}}}n(P,"decode")}n(_,"defineComment"),r.encodingLength=v,r.encode=x,r.decode=y;function v(m){var T=0;if(b(m.comment)){var P=h.encodingLength(m.comment);T+=w.encodingLength(P),T+=1+P}return T}n(v,"encodingLength");function x(m,T,P){P||(P=0),T||(T=Buffer.allocUnsafe(v(m)));var f=P;return b(m.comment)&&(T[P++]=10,w.encode(h.encodingLength(m.comment),T,P),P+=w.encode.bytes,h.encode(m.comment,T,P),P+=h.encode.bytes),x.bytes=P-f,T}n(x,"encode");function y(m,T,P){if(T||(T=0),P||(P=m.length),!(P<=m.length&&T<=m.length))throw new Error("Decoded message is not valid");for(var f=T,S={comment:null};;){if(P<=T)return y.bytes=T-f,S;var R=w.decode(m,T);T+=w.decode.bytes;var A=R>>3;switch(A){case 1:var B=w.decode(m,T);T+=w.decode.bytes,S.comment=h.decode(m,T,T+B),T+=h.decode.bytes;break;default:T=N(R&7,m,T)}}}n(y,"decode")}n(o,"defineParams"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.params)){var v=r.encodingLength(h.params);_+=w.encodingLength(v),_+=1+v}if(b(h.comment_id)){var v=g.string.encodingLength(h.comment_id);_+=1+v}if(b(h.target_language)){var v=g.string.encodingLength(h.target_language);_+=1+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.params)&&(_[v++]=26,w.encode(r.encodingLength(h.params),_,v),v+=w.encode.bytes,r.encode(h.params,_,v),v+=r.encode.bytes),b(h.comment_id)&&(_[v++]=18,g.string.encode(h.comment_id,_,v),v+=g.string.encode.bytes),b(h.target_language)&&(_[v++]=34,g.string.encode(h.target_language,_,v),v+=g.string.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={params:null,comment_id:"",target_language:""};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 3:var P=w.decode(h,_);_+=w.decode.bytes,y.params=r.decode(h,_,_+P),_+=r.decode.bytes;break;case 2:y.comment_id=g.string.decode(h,_),_+=g.string.decode.bytes;break;case 4:y.target_language=g.string.decode(h,_),_+=g.string.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(e,"defineTranslateCommentParams"),di.encodingLength=t,di.encode=i,di.decode=a;function t(r){var o=0;if(b(r.type)){var c=g.int32.encodingLength(r.type);o+=1+c}if(b(r.comment_id)){var c=g.string.encodingLength(r.comment_id);o+=1+c}if(b(r.video_id)){var c=g.string.encodingLength(r.video_id);o+=1+c}if(b(r.unk_num)){var c=g.int32.encodingLength(r.unk_num);o+=1+c}if(b(r.channel_id)){var c=g.string.encodingLength(r.channel_id);o+=2+c}if(b(r.translate_comment_params)){var c=s.encodingLength(r.translate_comment_params);o+=w.encodingLength(c),o+=2+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.type)&&(o[c++]=8,g.int32.encode(r.type,o,c),c+=g.int32.encode.bytes),b(r.comment_id)&&(o[c++]=26,g.string.encode(r.comment_id,o,c),c+=g.string.encode.bytes),b(r.video_id)&&(o[c++]=42,g.string.encode(r.video_id,o,c),c+=g.string.encode.bytes),b(r.unk_num)&&(o[c++]=16,g.int32.encode(r.unk_num,o,c),c+=g.int32.encode.bytes),b(r.channel_id)&&(o[c++]=186,o[c++]=1,g.string.encode(r.channel_id,o,c),c+=g.string.encode.bytes),b(r.translate_comment_params)&&(o[c++]=250,o[c++]=1,w.encode(s.encodingLength(r.translate_comment_params),o,c),c+=w.encode.bytes,s.encode(r.translate_comment_params,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={type:0,comment_id:"",video_id:"",unk_num:0,channel_id:"",translate_comment_params:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.type=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 3:d.comment_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 5:d.video_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 2:d.unk_num=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 23:d.channel_id=g.string.decode(r,o),o+=g.string.decode.bytes;break;case 31:var v=w.decode(r,o);o+=w.decode.bytes,d.translate_comment_params=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(wq,"definePeformCommentActionParams");function xq(){var s=pi.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var r=s.Type={buffer:!0,encodingLength:null,encode:null,decode:null};o();function o(){r.encodingLength=h,r.encode=_,r.decode=v;function h(x){var y=0;if(b(x.all)){var m=g.int32.encodingLength(x.all);y+=1+m}if(b(x.song)){var m=g.int32.encodingLength(x.song);y+=1+m}if(b(x.video)){var m=g.int32.encodingLength(x.video);y+=1+m}if(b(x.album)){var m=g.int32.encodingLength(x.album);y+=1+m}if(b(x.artist)){var m=g.int32.encodingLength(x.artist);y+=1+m}if(b(x.playlist)){var m=g.int32.encodingLength(x.playlist);y+=1+m}return y}n(h,"encodingLength");function _(x,y,m){m||(m=0),y||(y=Buffer.allocUnsafe(h(x)));var T=m;return b(x.all)&&(y[m++]=0,g.int32.encode(x.all,y,m),m+=g.int32.encode.bytes),b(x.song)&&(y[m++]=8,g.int32.encode(x.song,y,m),m+=g.int32.encode.bytes),b(x.video)&&(y[m++]=16,g.int32.encode(x.video,y,m),m+=g.int32.encode.bytes),b(x.album)&&(y[m++]=24,g.int32.encode(x.album,y,m),m+=g.int32.encode.bytes),b(x.artist)&&(y[m++]=32,g.int32.encode(x.artist,y,m),m+=g.int32.encode.bytes),b(x.playlist)&&(y[m++]=40,g.int32.encode(x.playlist,y,m),m+=g.int32.encode.bytes),_.bytes=m-T,y}n(_,"encode");function v(x,y,m){if(y||(y=0),m||(m=x.length),!(m<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,P={all:0,song:0,video:0,album:0,artist:0,playlist:0};;){if(m<=y)return v.bytes=y-T,P;var f=w.decode(x,y);y+=w.decode.bytes;var S=f>>3;switch(S){case 0:P.all=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 1:P.song=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 2:P.video=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 3:P.album=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 4:P.artist=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;case 5:P.playlist=g.int32.decode(x,y),y+=g.int32.decode.bytes;break;default:y=N(f&7,x,y)}}}n(v,"decode")}n(o,"defineType"),s.encodingLength=c,s.encode=p,s.decode=d;function c(h){var _=0;if(b(h.type)){var v=r.encodingLength(h.type);_+=w.encodingLength(v),_+=2+v}return _}n(c,"encodingLength");function p(h,_,v){v||(v=0),_||(_=Buffer.allocUnsafe(c(h)));var x=v;return b(h.type)&&(_[v++]=138,_[v++]=1,w.encode(r.encodingLength(h.type),_,v),v+=w.encode.bytes,r.encode(h.type,_,v),v+=r.encode.bytes),p.bytes=v-x,_}n(p,"encode");function d(h,_,v){if(_||(_=0),v||(v=h.length),!(v<=h.length&&_<=h.length))throw new Error("Decoded message is not valid");for(var x=_,y={type:null};;){if(v<=_)return d.bytes=_-x,y;var m=w.decode(h,_);_+=w.decode.bytes;var T=m>>3;switch(T){case 17:var P=w.decode(h,_);_+=w.decode.bytes,y.type=r.decode(h,_,_+P),_+=r.decode.bytes;break;default:_=N(m&7,h,_)}}}n(d,"decode")}n(e,"defineFilters"),pi.encodingLength=t,pi.encode=i,pi.decode=a;function t(r){var o=0;if(b(r.filters)){var c=s.encodingLength(r.filters);o+=w.encodingLength(c),o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.filters)&&(o[c++]=18,w.encode(s.encodingLength(r.filters),o,c),c+=w.encode.bytes,s.encode(r.filters,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={filters:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.filters=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(xq,"defineMusicSearchFilter");function bq(){var s=gi.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){s.encodingLength=r,s.encode=o,s.decode=c;function r(p){var d=0;if(b(p.upload_date)){var h=g.int32.encodingLength(p.upload_date);d+=1+h}if(b(p.type)){var h=g.int32.encodingLength(p.type);d+=1+h}if(b(p.duration)){var h=g.int32.encodingLength(p.duration);d+=1+h}return d}n(r,"encodingLength");function o(p,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(r(p)));var _=h;return b(p.upload_date)&&(d[h++]=8,g.int32.encode(p.upload_date,d,h),h+=g.int32.encode.bytes),b(p.type)&&(d[h++]=16,g.int32.encode(p.type,d,h),h+=g.int32.encode.bytes),b(p.duration)&&(d[h++]=24,g.int32.encode(p.duration,d,h),h+=g.int32.encode.bytes),o.bytes=h-_,d}n(o,"encode");function c(p,d,h){if(d||(d=0),h||(h=p.length),!(h<=p.length&&d<=p.length))throw new Error("Decoded message is not valid");for(var _=d,v={upload_date:0,type:0,duration:0};;){if(h<=d)return c.bytes=d-_,v;var x=w.decode(p,d);d+=w.decode.bytes;var y=x>>3;switch(y){case 1:v.upload_date=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;case 2:v.type=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;case 3:v.duration=g.int32.decode(p,d),d+=g.int32.decode.bytes;break;default:d=N(x&7,p,d)}}}n(c,"decode")}n(e,"defineFilters"),gi.encodingLength=t,gi.encode=i,gi.decode=a;function t(r){var o=0;if(b(r.sort_by)){var c=g.int32.encodingLength(r.sort_by);o+=1+c}if(b(r.no_filter)){var c=g.int32.encodingLength(r.no_filter);o+=2+c}if(b(r.filters)){var c=s.encodingLength(r.filters);o+=w.encodingLength(c),o+=1+c}return o}n(t,"encodingLength");function i(r,o,c){c||(c=0),o||(o=Buffer.allocUnsafe(t(r)));var p=c;return b(r.sort_by)&&(o[c++]=8,g.int32.encode(r.sort_by,o,c),c+=g.int32.encode.bytes),b(r.no_filter)&&(o[c++]=152,o[c++]=1,g.int32.encode(r.no_filter,o,c),c+=g.int32.encode.bytes),b(r.filters)&&(o[c++]=18,w.encode(s.encodingLength(r.filters),o,c),c+=w.encode.bytes,s.encode(r.filters,o,c),c+=s.encode.bytes),i.bytes=c-p,o}n(i,"encode");function a(r,o,c){if(o||(o=0),c||(c=r.length),!(c<=r.length&&o<=r.length))throw new Error("Decoded message is not valid");for(var p=o,d={sort_by:0,no_filter:0,filters:null};;){if(c<=o)return a.bytes=o-p,d;var h=w.decode(r,o);o+=w.decode.bytes;var _=h>>3;switch(_){case 1:d.sort_by=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 19:d.no_filter=g.int32.decode(r,o),o+=g.int32.decode.bytes;break;case 2:var v=w.decode(r,o);o+=w.decode.bytes,d.filters=s.decode(r,o,o+v),o+=s.decode.bytes;break;default:o=N(h&7,r,o)}}}n(a,"decode")}n(bq,"defineSearchFilter");function b(s){return s!=null&&(typeof s!="number"||!isNaN(s))}n(b,"defined")});var dt=l((jf,Qh)=>{"use strict";var ve=Xh(),_i=class{static encodeVisitorData(e,t){let i=ve.VisitorData.encode({id:e,timestamp:t});return encodeURIComponent(Buffer.from(i).toString("base64").replace(/\/|\+/g,"_"))}static encodeChannelAnalyticsParams(e){let t=ve.ChannelAnalytics.encode({params:{channel_id:e}});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeSearchFilters(e){let t={all:null,hour:1,today:2,week:3,month:4,year:5},i={all:null,video:1,channel:2,playlist:3,movie:4},a={all:null,short:1,long:2,medium:3},r={relevance:null,rating:1,upload_date:2,view_count:3},o={};if(e?o.filters={}:o.no_filter=0,e){if(e.upload_date&&e.type!=="video")throw new Error(`Upload date filter cannot be used with type ${e.type}`);e.upload_date&&(o.filters.upload_date=t[e.upload_date]),e.type&&(o.filters.type=i[e.type]),e.duration&&(o.filters.duration=a[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(o.sort_by=r[e.sort_by])}let c=ve.SearchFilter.encode(o);return encodeURIComponent(Buffer.from(c).toString("base64"))}static encodeMusicSearchFilters(e={}){let t={filters:{type:{}}};t.filters.type[e.type||"all"]=1;let i=ve.MusicSearchFilter.encode(t);return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeMessageParams(e,t){let i=ve.LiveMessageParams.encode({params:{ids:{channel_id:e,video_id:t}},number_0:1,number_1:4});return Buffer.from(encodeURIComponent(Buffer.from(i).toString("base64"))).toString("base64")}static encodeCommentsSectionParams(e,t={}){let i={TOP_COMMENTS:0,NEWEST_FIRST:1},a=ve.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{opts:{video_id:e,sort_by:i[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}});return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeCommentRepliesParams(e,t){let i=ve.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{replies_opts:{video_id:e,comment_id:t,unkopts:{unk_param:0},unk_param_1:1,unk_param_2:10,channel_id:" "},target:`comment-replies-item-${t}`}});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeCommentParams(e){let t=ve.CreateCommentParams.encode({video_id:e,params:{index:0},number:7});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeCommentReplyParams(e,t){let i=ve.CreateCommentReplyParams.encode({video_id:t,comment_id:e,params:{unk_num:0},unk_num:7});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeCommentActionParams(e,t={}){let i={};i.type=e,i.video_id=t.video_id||"",i.comment_id=t.comment_id||"",i.unk_num=2,t.hasOwnProperty("text")&&(t.comment_id&&delete i.unk_num,i.translate_comment_params={params:{comment:{text:t.text}},comment_id:t.comment_id||"",target_language:t.target_language});let a=ve.PeformCommentActionParams.encode(i);return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeNotificationPref(e,t){let i=ve.NotificationPreferences.encode({channel_id:e,pref_id:{index:t},number_0:0,number_1:4});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeSoundInfoParams(e){let t={sound:{params:{ids:{id_1:e,id_2:e,id_3:e}}}},i=ve.SoundInfoParams.encode(t);return encodeURIComponent(Buffer.from(i).toString("base64"))}};n(_i,"Proto");Qh.exports=_i});var qu=l((eA,Zh)=>{"use strict";var mi=class{constructor(e){this.itag=e.itag,this.mime_type=e.mimeType,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width||null,this.height=e.height||null,this.init_range=e.initRange&&{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)},this.index_range=e.indexRange&&{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)},this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel||null,this.fps=e.fps||null,this.url=e.url||null,this.cipher=e.cipher||null,this.signature_cipher=e.signatureCipher||null,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel}decipher(e){return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(mi,"Format");Zh.exports=mi});var O=l((tA,jh)=>{"use strict";var pt=class{url;width;height;constructor({url:e,width:t,height:i}){this.url=e,this.width=t,this.height=i}static fromResponse(e){if(!(!e||!e.thumbnails))return e.thumbnails.map(t=>new pt(t)).sort((t,i)=>i.width-t.width)}};n(pt,"Thumbnail");jh.exports=pt});var Su=l((nA,ed)=>{"use strict";var Eq=O(),yi=class{id;channel_id;title;keywords;short_description;author;constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=Eq.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live_content=!!e.isLiveContent,this.is_crawlable=!!e.isCrawlable}};n(yi,"VideoDetails");ed.exports=yi});var nd=l((iA,td)=>{"use strict";var Tq=q(),vi=class{type="AppendContinuationItemsAction";constructor(e){this.items=Tq.parse(e.continuationItems),this.target=e.target}};n(vi,"AppendContinuationItemsAction");td.exports=vi});var sd=l((sA,id)=>{"use strict";var qq=q(),wi=class{type="OpenPopupAction";constructor(e){this.popup=qq.parse(e.popup),this.popup_type=e.popupType}};n(wi,"OpenPopupAction");id.exports=wi});var Iu=l((rA,rd)=>{"use strict";var xi=class{type="DataModelSection";constructor(e){this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator,this.series_configuration={line_series:{lines_data:e.seriesConfiguration.lineSeries.linesData,domain_axis:e.seriesConfiguration.lineSeries.domainAxis,measure_axis:e.seriesConfiguration.lineSeries.measureAxis}}}};n(xi,"DataModelSection");rd.exports=xi});var cd=l((oA,od)=>{"use strict";var Sq=Iu(),bi=class{type="AnalyticsMainAppKeyMetrics";constructor(e){this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(i=>new Sq(i))}};n(bi,"AnalyticsMainAppKeyMetrics");od.exports=bi});var Cu=l((cA,ad)=>{"use strict";var Iq=O(),Ei=class{type="AnalyticsVideo";constructor(e){this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:Iq.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Ei,"AnalyticsVideo");ad.exports=Ei});var ld=l((aA,ud)=>{"use strict";var Cq=Cu(),Ti=class{type="AnalyticsVodCarouselCard";constructor(e){this.title=e.title,this.videos=e.videoCarouselData.videos.map(t=>new Cq(t))}};n(Ti,"AnalyticsVodCarouselCard");ud.exports=Ti});var k=l((uA,hd)=>{"use strict";var je=q(),qi=class{type="NavigationEndpoint";constructor(e){var i,a,r,o,c,p,d,h,_,v,x,y,m,T,P,f,S,R,A,B,D,G,Ne;let t=Object.keys(e||{}).find(Z=>Z.endsWith("Endpoint")||Z.endsWith("Command"));if(this.payload=(e==null?void 0:e[t])||{},Reflect.has(this.payload,"dialog")&&(this.dialog=je.parse(this.payload.dialog)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(a=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&a.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(o=(r=e==null?void 0:e.commandMetadata)==null?void 0:r.webCommandMetadata)!=null&&o.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(p=(c=e==null?void 0:e.commandMetadata)==null?void 0:c.webCommandMetadata)!=null&&p.apiUrl&&(this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/","")),(h=(d=e==null?void 0:e.commandMetadata)==null?void 0:d.webCommandMetadata)!=null&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.browseEndpoint){let Z=(v=(_=e==null?void 0:e.browseEndpoint)==null?void 0:_.browseEndpointContextSupportedConfigs)==null?void 0:v.browseEndpointContextMusicConfig;this.browse={id:((x=e==null?void 0:e.browseEndpoint)==null?void 0:x.browseId)||null,params:(e==null?void 0:e.browseEndpoint.params)||null,base_url:((y=e==null?void 0:e.browseEndpoint)==null?void 0:y.canonicalBaseUrl)||null,page_type:(Z==null?void 0:Z.pageType)||null}}if(e!=null&&e.watchEndpoint){let Z=(T=(m=e==null?void 0:e.watchEndpoint)==null?void 0:m.watchEndpointMusicSupportedConfigs)==null?void 0:T.watchEndpointMusicConfig;this.watch={video_id:(P=e==null?void 0:e.watchEndpoint)==null?void 0:P.videoId,playlist_id:(e==null?void 0:e.watchEndpoint.playlistId)||null,params:(e==null?void 0:e.watchEndpoint.params)||null,index:(e==null?void 0:e.watchEndpoint.index)||null,supported_onesie_config:(f=e==null?void 0:e.watchEndpoint)==null?void 0:f.watchEndpointSupportedOnesieConfig,music_video_type:(Z==null?void 0:Z.musicVideoType)||null}}e!=null&&e.searchEndpoint&&(this.search={query:e.searchEndpoint.query,params:e.searchEndpoint.params}),e!=null&&e.subscribeEndpoint&&(this.subscribe={channel_ids:e.subscribeEndpoint.channelIds,params:e.subscribeEndpoint.params}),e!=null&&e.unsubscribeEndpoint&&(this.unsubscribe={channel_ids:e.unsubscribeEndpoint.channelIds,params:e.unsubscribeEndpoint.params}),e!=null&&e.likeEndpoint&&(this.like={status:e.likeEndpoint.status,target:{video_id:e.likeEndpoint.target.videoId,playlist_id:e.likeEndpoint.target.playlistId},params:((S=e.likeEndpoint)==null?void 0:S.removeLikeParams)||((R=e.likeEndpoint)==null?void 0:R.likeParams)||((A=e.likeEndpoint)==null?void 0:A.dislikeParams)}),e!=null&&e.performCommentActionEndpoint&&(this.perform_comment_action={action:e==null?void 0:e.performCommentActionEndpoint.action}),e!=null&&e.offlineVideoEndpoint&&(this.offline_video={video_id:e.offlineVideoEndpoint.videoId,on_add_command:{get_download_action:{video_id:e.offlineVideoEndpoint.videoId,params:e.offlineVideoEndpoint.onAddCommand.getDownloadActionCommand.params}}}),e!=null&&e.continuationCommand&&(this.continuation={request:((B=e==null?void 0:e.continuationCommand)==null?void 0:B.request)||null,token:((D=e==null?void 0:e.continuationCommand)==null?void 0:D.token)||null}),e!=null&&e.feedbackEndpoint&&(this.feedback={token:e.feedbackEndpoint.feedbackToken}),e!=null&&e.watchPlaylistEndpoint&&(this.watch_playlist={playlist_id:(G=e.watchPlaylistEndpoint)==null?void 0:G.playlistId}),e!=null&&e.playlistEditEndpoint&&(this.playlist_edit={playlist_id:e.playlistEditEndpoint.playlistId,actions:e.playlistEditEndpoint.actions.map(Z=>({action:Z.action,removed_video_id:Z.removedVideoId}))}),e!=null&&e.addToPlaylistEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistEndpoint.videoId}),e!=null&&e.addToPlaylistServiceEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistServiceEndpoint.videoId}),e!=null&&e.getReportFormEndpoint&&(this.get_report_form={params:e.getReportFormEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:(Ne=e==null?void 0:e.liveChatItemContextMenuEndpoint)==null?void 0:Ne.params}),e!=null&&e.sendLiveChatVoteEndpoint&&(this.send_live_chat_vote={params:e.sendLiveChatVoteEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:e.liveChatItemContextMenuEndpoint.params})}async callTest(e,t={parse:!0,params:{}}){if(!e)throw new Error("An active caller must be provided");let i=await e.execute(this.metadata.api_url,{...this.payload,...t.params});return t.parse?je.parseResponse(i.data):i}async call(e,t){if(!e)throw new Error("An active caller must be provided");if(this.continuation)switch(this.continuation.request){case"CONTINUATION_REQUEST_TYPE_BROWSE":{let i=await e.browse(this.continuation.token,{is_ctoken:!0});return je.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_SEARCH":{let i=await e.search({ctoken:this.continuation.token});return je.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":{let i=await e.next({ctoken:this.continuation.token});return je.parseResponse(i.data)}default:throw new Error(`${this.continuation.request} not implemented`)}if(this.search){let i=await e.search({query:this.search.query,params:this.search.params,client:t});return je.parseResponse(i.data)}if(this.browse){let i=await e.browse(this.browse.id,{...this.browse,client:t});return je.parseResponse(i.data)}if(this.like)return await e.engage(this.metadata.api_url,{video_id:this.like.target.video_id,params:this.like.params})}};n(qi,"NavigationEndpoint");hd.exports=qi});var Pu=l((lA,dd)=>{"use strict";var Pq=k(),Si=class{constructor(e){this.text=e.text,this.endpoint=e.navigationEndpoint?new Pq(e.navigationEndpoint):{}}};n(Si,"TextRun");dd.exports=Si});var Ru=l((hA,pd)=>{"use strict";var Rq=O(),Ii=class{constructor(e){var t,i,a;this.text=((t=e.emoji)==null?void 0:t.emojiId)||((a=(i=e.emoji)==null?void 0:i.shortcuts)==null?void 0:a[0])||null,this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji.shortcuts,search_terms:e.emoji.searchTerms,image:Rq.fromResponse(e.emoji.image)}}};n(Ii,"EmojiRun");pd.exports=Ii});var C=l((dA,gd)=>{"use strict";var fq=Pu(),Aq=Ru(),Ci=class{text;constructor(e){e!=null&&e.hasOwnProperty("runs")?(this.runs=e.runs.map(t=>t.emoji&&new Aq(t)||new fq(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=(e==null?void 0:e.simpleText)||"N/A"}toString(){return this.text}};n(Ci,"Text");gd.exports=Ci});var Ri=l((pA,_d)=>{"use strict";var kq=C(),fu=k(),Pi=class extends kq{type="NavigatableText";endpoint;constructor(e){var t,i;super(e),this.endpoint=(i=(t=e.runs)==null?void 0:t[0])!=null&&i.navigationEndpoint?new fu(e.runs[0].navigationEndpoint):e.navigationEndpoint?new fu(e.navigationEndpoint):e.titleNavigationEndpoint?new fu(e.titleNavigationEndpoint):null}toJSON(){return this}};n(Pi,"NavigatableText");_d.exports=Pi});var ne=l((gA,yd)=>{"use strict";var Lq=q(),Oq=Ri(),Dq=O(),md=_e(),ae,fi=class{constructor(e,t,i){E(this,ae,void 0);var a,r,o,c,p,d,h,_,v,x,y,m,T,P;I(this,ae,new Oq(e)),this.id=((r=(a=u(this,ae).runs)==null?void 0:a[0].endpoint.browse)==null?void 0:r.id)||((c=(o=u(this,ae).endpoint)==null?void 0:o.browse)==null?void 0:c.id)||"N/A",this.name=u(this,ae).text||"N/A",this.thumbnails=i?Dq.fromResponse(i):[],this.endpoint=((p=u(this,ae).runs)==null?void 0:p[0].endpoint)||u(this,ae).endpoint,this.badges=Array.isArray(t)?Lq.parse(t):[],this.is_verified=((d=this.badges)==null?void 0:d.some(f=>f.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.is_verified_artist=((h=this.badges)==null?void 0:h.some(f=>f.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.url=((_=u(this,ae).runs)==null?void 0:_[0].endpoint.browse)&&`${md.URLS.YT_BASE}${((v=u(this,ae).runs[0].endpoint.browse)==null?void 0:v.base_url)||`/u/${(x=u(this,ae).runs[0].endpoint.browse)==null?void 0:x.id}`}`||`${md.URLS.YT_BASE}${((m=(y=u(this,ae).endpoint)==null?void 0:y.browse)==null?void 0:m.base_url)||`/u/${(P=(T=u(this,ae).endpoint)==null?void 0:T.browse)==null?void 0:P.id}`}`||null}get best_thumbnail(){return this.thumbnails[0]}};n(fi,"Author"),ae=new WeakMap;yd.exports=fi});var wd=l((_A,vd)=>{"use strict";var Uq=O(),Ai=class{type="BackstageImage";constructor(e){this.image=Uq.fromResponse(e.image)}};n(Ai,"BackstageImage");vd.exports=Ai});var ku=l((mA,xd)=>{"use strict";var ki=q(),Bq=ne(),Au=C(),Nq=k(),Li=class{type="BackstagePost";constructor(e){this.id=e.postId,this.author=new Bq({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new Au(e.contentText,""),this.published=new Au(e.publishedTimeText),this.poll_status=e.pollStatus,this.vote_status=e.voteStatus,this.likes=new Au(e.voteCount),this.menu=ki.parse(e.actionMenu)||null,this.actions=ki.parse(e.actionButtons),this.vote_button=ki.parse(e.voteButton),this.surface=e.surface,this.endpoint=new Nq(e.navigationEndpoint),this.attachment=ki.parse(e.backstageAttachment)||null}};n(Li,"BackstagePost");xd.exports=Li});var Ed=l((yA,bd)=>{"use strict";var Fq=q(),Oi=class{type="BackstagePostThread";constructor(e){this.post=Fq.parse(e.post)}};n(Oi,"BackstagePostThread");bd.exports=Oi});var qd=l((vA,Td)=>{"use strict";var Mq=q(),Di=class{type="BrowseFeedActions";constructor(e){this.contents=Mq.parse(e.contents)}};n(Di,"BrowseFeedActions");Td.exports=Di});var Bi=l((wA,Sd)=>{"use strict";var Vq=C(),Yq=k(),Ui=class{type="Button";constructor(e){var t,i,a,r;this.text=new Vq(e.text).toString(),(t=e.accessibility)!=null&&t.label&&(this.label=(i=e.accessibility)==null?void 0:i.label),e.tooltip&&(this.tooltip=e.tooltip),(a=e.icon)!=null&&a.iconType&&(this.iconType=(r=e.icon)==null?void 0:r.iconType),this.endpoint=new Yq(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Ui,"Button");Sd.exports=Ui});var Cd=l((xA,Id)=>{"use strict";var Lu=q(),Gq=ne(),Ou=O(),$q=C(),Ni=class{type="C4TabbedHeader";constructor(e){this.author=new Gq({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),this.banner=e.banner?Ou.fromResponse(e.banner):[],this.tv_banner=e.tvBanner?Ou.fromResponse(e.tvBanner):[],this.mobile_banner=e.mobileBanner?Ou.fromResponse(e.mobileBanner):[],this.subscribers=new $q(e.subscriberCountText),this.sponsor_button=e.sponsorButton&&Lu.parse(e.sponsorButton),this.subscribe_button=e.subscribeButton&&Lu.parse(e.subscribeButton),this.header_links=e.headerLinks&&Lu.parse(e.headerLinks)}};n(Ni,"C4TabbedHeader");Id.exports=Ni});var Rd=l((bA,Pd)=>{"use strict";var Wq=C(),Fi=class{type="CallToActionButton";constructor(e){this.label=new Wq(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Fi,"CallToActionButton");Pd.exports=Fi});var kd=l((EA,Ad)=>{"use strict";var fd=q(),Mi=class{type="Card";constructor(e){this.teaser=fd.parse(e.teaser),this.content=fd.parse(e.content),this.card_id=e.cardId,this.feature=e.feature,this.cue_ranges=e.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};n(Mi,"Card");Ad.exports=Mi});var Od=l((TA,Ld)=>{"use strict";var Jq=q(),Hq=C(),Vi=class{type="CardCollection";constructor(e){this.cards=Jq.parse(e.cards),this.header=new Hq(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Vi,"CardCollection");Ld.exports=Vi});var Ud=l((qA,Dd)=>{"use strict";var Kq=ne(),zq=k(),Du=C(),Yi=class{type="Channel";constructor(e){this.id=e.channelId,this.author=new Kq({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Du(e.subscriberCountText),this.videos=new Du(e.videoCountText),this.endpoint=new zq(e.navigationEndpoint),this.description_snippet=new Du(e.descriptionSnippet)}};n(Yi,"Channel");Dd.exports=Yi});var Nd=l((SA,Bd)=>{"use strict";var Xq=O(),Qq=k(),hn=C(),Zq=q(),Gi=class{type="ChannelAboutFullMetadata";constructor(e){this.id=e.channelId,this.name=new hn(e.title),this.avatar=Xq.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.views=new hn(e.viewCountText),this.joined=new hn(e.joinedDateText),this.description=new hn(e.description),this.email_reveal=new Qq(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new hn(e.country),this.buttons=Zq.parse(e.actionButtons)}};n(Gi,"ChannelAboutFullMetadata");Bd.exports=Gi});var Md=l((IA,Fd)=>{"use strict";var jq=q(),e1=C(),$i=class{type="ChannelFeaturedContent";constructor(e){this.title=new e1(e.title),this.items=jq.parse(e.items)}};n($i,"ChannelFeaturedContent");Fd.exports=$i});var Yd=l((CA,Vd)=>{"use strict";var t1=k(),n1=C(),i1=O(),dn=class{constructor(e){this.endpoint=new t1(e.navigationEndpoint),this.icon=i1.fromResponse(e.icon),this.title=new n1(e.title)}};n(dn,"HeaderLink");var Wi=class{type="ChannelHeaderLinks";constructor(e){var t,i;this.primary=((t=e.primaryLinks)==null?void 0:t.map(a=>new dn(a)))||[],this.secondary=((i=e.secondaryLinks)==null?void 0:i.map(a=>new dn(a)))||[]}};n(Wi,"ChannelHeaderLinks");Vd.exports=Wi});var $d=l((PA,Gd)=>{"use strict";var s1=O(),Ji=class{type="ChannelMetadata";constructor(e){this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_urls=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=s1.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ji,"ChannelMetadata");Gd.exports=Ji});var Jd=l((RA,Wd)=>{"use strict";var r1=C(),Hi=class{constructor(e){this.title=new r1(e.title)}};n(Hi,"ChannelMobileHeader");Wd.exports=Hi});var Kd=l((fA,Hd)=>{"use strict";var o1=O(),c1=k(),Ki=class{type="ChannelThumbnailWithLink";constructor(e){this.thumbnails=o1.fromResponse(e.thumbnail),this.endpoint=new c1(e.navigationEndpoint),this.label=e.accessibility.accessibilityData.label}};n(Ki,"ChannelThumbnailWithLink");Hd.exports=Ki});var Xd=l((AA,zd)=>{"use strict";var zi=C(),Xi=class{type="ChannelVideoPlayer";constructor(e){this.id=e.videoId,this.title=new zi(e.title,""),this.description=new zi(e.description,""),this.views=new zi(e.viewCountText,""),this.published_at=new zi(e.publishedTimeText,"")}};n(Xi,"ChannelVideoPlayer");zd.exports=Xi});var Zd=l((kA,Qd)=>{"use strict";var a1=k(),u1=M(),l1=C(),Qi=class{type="ChildVideo";constructor(e){this.id=e.videoId,this.title=new l1(e.title),this.duration={text:e.lengthText.simpleText,seconds:u1.timeToSeconds(e.lengthText.simpleText)},this.endpoint=new a1(e.navigationEndpoint)}};n(Qi,"ChildVideo");Qd.exports=Qi});var ep=l((LA,jd)=>{"use strict";var Uu=q(),Zi=class{type="ChipCloud";constructor(e){this.chips=Uu.parse(e.chips),this.next_button=Uu.parse(e.nextButton),this.previous_button=Uu.parse(e.previousButton),this.horizontal_scrollable=e.horizontalScrollable}};n(Zi,"ChipCloud");jd.exports=Zi});var np=l((OA,tp)=>{"use strict";var h1=C(),d1=k(),ji=class{type="ChipCloudChip";constructor(e){this.is_selected=e.isSelected,this.endpoint=e.navigationEndpoint&&new d1(e.navigationEndpoint),this.text=new h1(e.text).toString()}};n(ji,"ChipCloudChip");tp.exports=ji});var sp=l((DA,ip)=>{"use strict";var p1=k(),Bu=O(),es=class{type="CollageHeroImage";constructor(e){this.left=Bu.fromResponse(e.leftThumbnail),this.top_right=Bu.fromResponse(e.topRightThumbnail),this.bottom_right=Bu.fromResponse(e.bottomRightThumbnail),this.endpoint=new p1(e.navigationEndpoint)}};n(es,"CollageHeroImage");ip.exports=es});var op=l((UA,rp)=>{"use strict";var pn,ts=class{constructor(e){oe(this,"type","AuthorCommentBadge");E(this,pn,void 0);this.icon_type=e.icon.iconType,this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,pn,e)}get orig_badge(){return u(this,pn)}};n(ts,"AuthorCommentBadge"),pn=new WeakMap;rp.exports=ts});var ap=l((BA,cp)=>{"use strict";var Nu=q(),Fu=C(),g1=O(),_1=ne(),m1=dt(),{InnertubeError:Mu}=M(),Me,ns=class{constructor(e){oe(this,"type","Comment");E(this,Me,void 0);var t,i;this.content=new Fu(e.contentText),this.published=new Fu(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=g1.fromResponse(e.currentUserReplyThumbnail),this.author_badge=Nu.parse(e.authorCommentBadge,"comments"),this.author=new _1({...e.authorText,navigationEndpoint:e.authorEndpoint},this.author_badge?[{metadataBadgeRenderer:(t=this.author_badge)==null?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=Nu.parse(e.actionMenu),this.action_buttons=Nu.parse(e.actionButtons,"comments"),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count={text:e.voteCount?(i=e.voteCount.accessibility.accessibilityData)==null?void 0:i.label.replace(/\D/g,""):"0",short_text:e.voteCount?new Fu(e.voteCount).toString():"0"},this.reply_count=e.replyCount||0,this.is_liked=this.action_buttons.like_button.is_toggled,this.is_disliked=this.action_buttons.dislike_button.is_toggled,this.is_pinned=!!e.pinnedCommentBadge}async like(){let e=this.action_buttons.like_button;if(e.is_toggled)throw new Mu("This comment is already liked",{comment_id:this.comment_id});return await e.endpoint.callTest(u(this,Me),{parse:!1})}async dislike(){let e=this.action_buttons.dislike_button;if(e.is_toggled)throw new Mu("This comment is already disliked",{comment_id:this.comment_id});return await e.endpoint.callTest(u(this,Me),{parse:!1})}async reply(e){if(!this.action_buttons.reply_button)throw new Mu("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let i=this.action_buttons.reply_button.endpoint.dialog.reply_button,a={params:{commentText:e}};return await i.endpoint.callTest(u(this,Me),a)}async translate(e){let i={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},a=m1.encodeCommentActionParams(22,i),r=await u(this,Me).execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),c=r.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload.translatedContent.content;return{...r,content:c}}setActions(e){I(this,Me,e)}};n(ns,"Comment"),Me=new WeakMap;cp.exports=ns});var lp=l((NA,up)=>{"use strict";var Vu=q(),is=class{type="CommentActionButtons";constructor(e){this.like_button=Vu.parse(e.likeButton),this.dislike_button=Vu.parse(e.dislikeButton),this.reply_button=Vu.parse(e.replyButton)}};n(is,"CommentActionButtons");up.exports=is});var dp=l((FA,hp)=>{"use strict";var Yu=q(),ss=class{type="CommentReplies";constructor(e){this.contents=Yu.parse(e.contents),this.view_replies=Yu.parse(e.viewReplies),this.hide_replies=Yu.parse(e.hideReplies)}};n(ss,"CommentReplies");hp.exports=ss});var mp=l((MA,_p)=>{"use strict";var pp=q(),y1=O(),gp=C(),rs=class{type="CommentReplyDialog";constructor(e){this.reply_button=pp.parse(e.replyButton),this.cancel_button=pp.parse(e.cancelButton),this.author_thumbnail=y1.fromResponse(e.authorThumbnail),this.placeholder=new gp(e.placeholderText),this.error_message=new gp(e.errorMessage)}};n(rs,"CommentReplyDialog");_p.exports=rs});var vp=l((VA,yp)=>{"use strict";var os=C(),v1=O(),cs=class{type="CommentsEntryPointHeader";constructor(e){this.header=new os(e.headerText),this.comment_count=new os(e.commentCount),this.teaser_avatar=v1.fromResponse(e.teaserAvatar||e.simpleboxAvatar),this.teaser_content=new os(e.teaserContent),this.simplebox_placeholder=new os(e.simpleboxPlaceholder)}};n(cs,"CommentsEntryPointHeader");yp.exports=cs});var bp=l((YA,xp)=>{"use strict";var wp=q(),Gu=C(),w1=O(),as=class{type="CommentsHeader";constructor(e){var t;this.title=new Gu(e.titleText),this.count=new Gu(e.countText),this.comments_count=new Gu(e.commentsCount),this.create_renderer=wp.parse(e.createRenderer,"comments"),this.sort_menu=wp.parse(e.sortMenu),this.custom_emojis=((t=e.customEmojis)==null?void 0:t.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:w1.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))||null}};n(as,"CommentsHeader");xp.exports=as});var qp=l((GA,Tp)=>{"use strict";var Ep=q(),x1=O(),b1=C(),us=class{type="CommentSimplebox";constructor(e){this.submit_button=Ep.parse(e.submitButton),this.cancel_button=Ep.parse(e.cancelButton),this.author_thumbnails=x1.fromResponse(e.authorThumbnail),this.placeholder=new b1(e.placeholderText),this.avatar_size=e.avatarSize}};n(us,"CommentSimplebox");Tp.exports=us});var Cp=l(($A,Ip)=>{"use strict";var Sp=q(),{InnertubeError:$u}=M(),gt,Ve,et,ls=class{constructor(e){oe(this,"type","CommentThread");E(this,gt,void 0);E(this,Ve,void 0);E(this,et,void 0);this.comment=Sp.parse(e.comment),I(this,gt,Sp.parse(e.replies)),this.is_moderated_elq_comment=e.isModeratedElqComment}async getReplies(){var i;if(!u(this,gt))throw new $u("This comment has no replies.",{comment_id:this.comment.comment_id});let t=await u(this,gt).contents.get({type:"ContinuationItem"}).endpoint.callTest(u(this,Ve));return this.replies=t.on_response_received_endpoints_memo.get("Comment").map(a=>(a.setActions(u(this,Ve)),a)),I(this,et,(i=t.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:i[0]),this}async getContinuation(){var t;if(!this.replies)throw new $u("Continuation not available.");if(!u(this,et))throw new $u("Continuation not found.");let e=await u(this,et).button.endpoint.callTest(u(this,Ve));return this.replies=e.on_response_received_endpoints_memo.get("Comment").map(i=>(i.setActions(u(this,Ve)),i)),I(this,et,(t=e.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:t[0]),this}setActions(e){I(this,Ve,e)}};n(ls,"CommentThread"),gt=new WeakMap,Ve=new WeakMap,et=new WeakMap;Ip.exports=ls});var Rp=l((WA,Pp)=>{"use strict";var E1=C(),T1=k(),hs=class{type="CompactLink";constructor(e){this.title=new E1(e.title).toString(),this.endpoint=new T1(e.navigationEndpoint),this.style=e.style}};n(hs,"CompactLink");Pp.exports=hs});var _t=l((JA,fp)=>{"use strict";var q1=ne(),ds=class extends q1{constructor(e){super(e),delete this.badges,delete this.is_verified,delete this.is_verified_artist}};n(ds,"PlaylistAuthor");fp.exports=ds});var gn=l((HA,Ap)=>{"use strict";var ps=C(),gs=q(),S1=O(),I1=k(),C1=_t(),_s=class{type="Playlist";constructor(e){var t;this.id=e.playlistId,this.title=new ps(e.title),this.author=(t=e.shortBylineText)!=null&&t.simpleText?new ps(e.shortBylineText):new C1(e.longBylineText,e.ownerBadges,null),this.thumbnails=S1.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(i=>i.thumbnails).flat(1)}),this.video_count=new ps(e.thumbnailText),this.video_count_short=new ps(e.videoCountShortText),this.first_videos=gs.parse(e.videos)||[],this.share_url=e.shareUrl||null,this.menu=gs.parse(e.menu),this.badges=gs.parse(e.ownerBadges),this.endpoint=new I1(e.navigationEndpoint),this.thumbnail_overlays=gs.parse(e.thumbnailOverlays)||[]}};n(_s,"Playlist");Ap.exports=_s});var Lp=l((KA,kp)=>{"use strict";var P1=gn(),ms=class extends P1{type="CompactMix";constructor(e){super(e)}};n(ms,"CompactMix");kp.exports=ms});var Dp=l((zA,Op)=>{"use strict";var R1=gn(),ys=class extends R1{type="CompactPlaylist";constructor(e){super(e)}};n(ys,"CompactPlaylist");Op.exports=ys});var Bp=l((XA,Up)=>{"use strict";var Wu=q(),mt=C(),f1=ne(),A1=M(),k1=O(),L1=k(),vs=class{type="CompactVideo";constructor(e){this.id=e.videoId,this.thumbnails=k1.fromResponse(e.thumbnail)||null,this.rich_thumbnail=e.richThumbnail&&Wu.parse(e.richThumbnail),this.title=new mt(e.title),this.author=new f1(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new mt(e.viewCountText),this.short_view_count=new mt(e.shortViewCountText),this.published=new mt(e.publishedTimeText),this.duration={text:new mt(e.lengthText).toString(),seconds:A1.timeToSeconds(new mt(e.lengthText).toString())},this.thumbnail_overlays=Wu.parse(e.thumbnailOverlays),this.endpoint=new L1(e.navigationEndpoint),this.menu=Wu.parse(e.menu)}get best_thumbnail(){return this.thumbnails[0]}};n(vs,"CompactVideo");Up.exports=vs});var Fp=l((QA,Np)=>{"use strict";var O1=q(),D1=k(),ws=class{type="ContinuationItem";constructor(e){this.trigger=e.trigger,e.button&&(this.button=O1.parse(e.button)),this.endpoint=new D1(e.continuationEndpoint)}};n(ws,"ContinuationItem");Np.exports=ws});var Vp=l((ZA,Mp)=>{"use strict";var xs=class{type="CtaGoToCreatorStudio";constructor(e){this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(xs,"CtaGoToCreatorStudio");Mp.exports=xs});var Gp=l((jA,Yp)=>{"use strict";var U1=C(),B1=k(),bs=class{type="DidYouMean";constructor(e){this.corrected_query=new U1(e.correctedQuery),this.endpoint=new B1(e.navigationEndpoint)}};n(bs,"DidYouMean");Yp.exports=bs});var Wp=l((ek,$p)=>{"use strict";var N1=k(),Es=class{type="DownloadButton";constructor(e){this.style=e.style,this.size=e.size,this.endpoint=new N1(e.command),this.target_id=e.targetId}};n(Es,"DownloadButton");$p.exports=Es});var Hp=l((tk,Jp)=>{"use strict";var F1=q(),Ts=class{type="Element";constructor(e){let t=e.newElement.type.componentType;return F1.parse(t.model)}};n(Ts,"Element");Jp.exports=Ts});var Xp=l((nk,zp)=>{"use strict";var M1=C(),Kp=q(),qs=class{type="EmergencyOnebox";constructor(e){this.title=new M1(e.title),this.first_option=Kp.parse(e.firstOption),this.menu=Kp.parse(e.menu)}};n(qs,"EmergencyOnebox");zp.exports=qs});var Zp=l((ik,Qp)=>{"use strict";var V1=q(),Ss=class{type="Endscreen";constructor(e){this.elements=V1.parse(e.elements),this.start_ms=e.startMs}};n(Ss,"Endscreen");Qp.exports=Ss});var ng=l((sk,tg)=>{"use strict";var jp=q(),eg=O(),Y1=k(),Ju=C(),Is=class{type="EndscreenElement";constructor(e){this.style=e.style,this.title=new Ju(e.title),this.endpoint=new Y1(e.endpoint),e.image&&(this.image=eg.fromResponse(e.image)),e.icon&&(this.icon=eg.fromResponse(e.icon)),e.metadata&&(this.metadata=new Ju(e.metadata)),e.callToAction&&(this.call_to_action=new Ju(e.callToAction)),e.hovercardButton&&(this.hovercard_button=jp.parse(e.hovercardButton)),e.isSubscribe&&(this.is_subscribe=e.isSubscribe),this.thumbnail_overlays=jp.parse(e.thumbnailOverlays),this.left=e.left,this.width=e.width,this.top=e.top,this.aspect_ratio=e.aspectRatio,this.start_ms=e.startMs,this.end_ms=e.endMs,this.id=e.id}};n(Is,"EndscreenElement");tg.exports=Is});var sg=l((rk,ig)=>{"use strict";var Hu=C(),G1=O(),$1=k(),Cs=class{type="EndScreenPlaylist";constructor(e){this.id=e.playlistId,this.title=new Hu(e.title),this.author=new Hu(e.longBylineText),this.endpoint=new $1(e.navigationEndpoint),this.thumbnails=G1.fromResponse(e.thumbnail),this.video_count=new Hu(e.videoCountText)}};n(Cs,"EndScreenPlaylist");ig.exports=Cs});var cg=l((ok,og)=>{"use strict";var rg=q(),Ku=C(),W1=ne(),J1=O(),H1=k(),Ps=class{type="EndScreenVideo";constructor(e){this.id=e.videoId,this.title=new Ku(e.title),this.thumbnails=J1.fromResponse(e.thumbnail),this.thumbnail_overlays=rg.parse(e.thumbnailOverlays),this.author=new W1(e.shortBylineText,e.ownerBadges),this.endpoint=new H1(e.navigationEndpoint),this.short_view_count_text=new Ku(e.shortViewCountText),this.badges=rg.parse(e.badges),this.duration={text:new Ku(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(Ps,"EndScreenVideo");og.exports=Ps});var ug=l((ck,ag)=>{"use strict";var K1=q(),z1=k(),Rs=class{type="ExpandableTab";constructor(e){this.title=e.title,this.endpoint=new z1(e.endpoint),this.selected=e.selected,this.content=e.content?K1.parse(e.content):null}};n(Rs,"ExpandableTab");ag.exports=Rs});var hg=l((ak,lg)=>{"use strict";var X1=q(),fs=class{type="ExpandedShelfContents";constructor(e){this.items=X1.parse(e.items)}get contents(){return this.items}};n(fs,"ExpandedShelfContents");lg.exports=fs});var pg=l((uk,dg)=>{"use strict";var Q1=q(),As=class{type="FeedFilterChipBar";constructor(e){this.contents=Q1.parse(e.contents)}};n(As,"FeedFilterChipBar");dg.exports=As});var _g=l((lk,gg)=>{"use strict";var Z1=C(),ks=class{constructor(e){this.title=new Z1(e.title)}};n(ks,"FeedTabbedHeader");gg.exports=ks});var yg=l((hk,mg)=>{"use strict";var j1=q(),Ls=class{type="Grid";constructor(e){this.items=j1.parse(e.items),this.is_collapsible=e.isCollapsible,this.visible_row_count=e.visibleRowCount,this.target_id=e.targetId}get contents(){return this.items}};n(Ls,"Grid");mg.exports=Ls});var xg=l((dk,wg)=>{"use strict";var eS=ne(),tS=q(),nS=k(),vg=C(),Os=class{type="GridChannel";constructor(e){this.id=e.channelId,this.author=new eS({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new vg(e.subscriberCountText),this.video_count=new vg(e.videoCountText),this.endpoint=new nS(e.navigationEndpoint),this.subscribe_button=tS.parse(e.subscribeButton)}};n(Os,"GridChannel");wg.exports=Os});var qg=l((pk,Tg)=>{"use strict";var zu=C(),bg=q(),Eg=O(),iS=_t(),sS=k(),rS=Ri(),Ds=class{type="GridPlaylist";constructor(e){var t;this.id=e.playlistId,this.title=new zu(e.title),e.shortBylineText&&(this.author=new iS(e.shortBylineText,e.ownerBadges)),this.badges=bg.parse(e.ownerBadges),this.endpoint=new sS(e.navigationEndpoint),this.view_playlist=new rS(e.viewPlaylistText),this.thumbnails=Eg.fromResponse(e.thumbnail),this.thumbnail_renderer=bg.parse(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((t=e.sidebarThumbnails)==null?void 0:t.map(i=>Eg.fromResponse(i)))||[])||null,this.video_count=new zu(e.thumbnailText),this.video_count_short_text=new zu(e.videoCountShortText)}};n(Ds,"GridPlaylist");Tg.exports=Ds});var Ig=l((gk,Sg)=>{"use strict";var Xu=q(),yt=C(),oS=O(),cS=k(),aS=ne(),Us=class{type="GridVideo";constructor(e){var i;let t=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new yt(e.title),this.thumbnails=oS.fromResponse(e.thumbnail),this.thumbnail_overlays=Xu.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&Xu.parse(e.richThumbnail),this.published=new yt(e.publishedTimeText),this.duration=e.lengthText?new yt(e.lengthText):t!=null&&t.text?new yt(t.text):"",this.author=e.shortBylineText&&new aS(e.shortBylineText,e.ownerBadges),this.views=new yt(e.viewCountText),this.short_view_count=new yt(e.shortViewCountText),this.endpoint=new cS(e.navigationEndpoint),this.menu=Xu.parse(e.menu)}};n(Us,"GridVideo");Sg.exports=Us});var Qu=l((_k,Pg)=>{"use strict";var uS=C(),Cg=k(),Bs=class{type="SearchSuggestion";constructor(e){this.suggestion=new uS(e.suggestion),this.endpoint=new Cg(e.navigationEndpoint),this.icon_type=e.icon.iconType,e.serviceEndpoint&&(this.service_endpoint=new Cg(e.serviceEndpoint))}};n(Bs,"SearchSuggestion");Pg.exports=Bs});var fg=l((mk,Rg)=>{"use strict";var lS=Qu(),Ns=class extends lS{type="HistorySuggestion";constructor(e){super(e)}};n(Ns,"HistorySuggestion");Rg.exports=Ns});var kg=l((yk,Ag)=>{"use strict";var Fs=q(),Ms=class{type="HorizontalCardList";constructor(e){this.cards=Fs.parse(e.cards),this.header=Fs.parse(e.header),this.previous_button=Fs.parse(e.previousButton),this.next_button=Fs.parse(e.nextButton)}};n(Ms,"HorizontalCardList");Ag.exports=Ms});var Og=l((vk,Lg)=>{"use strict";var hS=q(),Vs=class{type="HorizontalList";constructor(e){this.visible_item_count=e.visibleItemCount,this.items=hS.parse(e.items)}get contents(){return this.items}};n(Vs,"HorizontalList");Lg.exports=Vs});var Bg=l((wk,Ug)=>{"use strict";var Dg=q(),Ys=class{type="ItemSection";constructor(e){this.header=Dg.parse(e.header),this.contents=Dg.parse(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=(e==null?void 0:e.target_id)||(e==null?void 0:e.sectionIdentifier))}};n(Ys,"ItemSection");Ug.exports=Ys});var Fg=l((xk,Ng)=>{"use strict";var dS=C(),Gs=class{constructor(e){this.title=new dS(e.title)}};n(Gs,"ItemSectionHeader");Ng.exports=Gs});var Vg=l((bk,Mg)=>{"use strict";var pS=k(),$s=class{type="LikeButton";constructor(e){var t;this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,e.serviceEndpoints&&(this.endpoints=(t=e.serviceEndpoints)==null?void 0:t.map(i=>new pS(i)))}};n($s,"LikeButton");Mg.exports=$s});var Gg=l((Ek,Yg)=>{"use strict";var gS=q(),_n=C(),Ws=class{type="LiveChat";constructor(e){var t,i;this.header=gS.parse(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.reloadContinuationData)==null?void 0:i.continuation,this.client_messages={reconnect_message:new _n(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new _n(e.clientMessages.unableToReconnectMessage),fatal_error:new _n(e.clientMessages.fatalError),reconnected_message:new _n(e.clientMessages.reconnectedMessage),generic_error:new _n(e.clientMessages.genericError)},this.is_replay=e.isReplay||!1}};n(Ws,"LiveChat");Yg.exports=Ws});var Wg=l((Tk,$g)=>{"use strict";var _S=q(),Js=class{constructor(e){return _S.parse(e.bannerRenderer)}};n(Js,"AddBannerToLiveChatCommand");$g.exports=Js});var Hg=l((qk,Jg)=>{"use strict";var mS=q(),Hs=class{type="AddChatItemAction";constructor(e){this.item=mS.parse(e.item),this.client_id=e.clientId||null}};n(Hs,"AddChatItemAction");Jg.exports=Hs});var zg=l((Sk,Kg)=>{"use strict";var yS=q(),Ks=class{type="AddLiveChatTickerItemAction";constructor(e){this.item=yS.parse(e.item),this.duration_sec=e.durationSec}};n(Ks,"AddLiveChatTickerItemAction");Kg.exports=Ks});var Zg=l((Ik,Qg)=>{"use strict";var Xg=q(),zs=class{type="LiveChatBanner";constructor(e){this.header=Xg.parse(e.header,"livechat/items"),this.contents=Xg.parse(e.contents,"livechat/items"),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(zs,"LiveChatBanner");Qg.exports=zs});var e_=l((Ck,jg)=>{"use strict";var vS=q(),wS=C(),Xs=class{type="LiveChatBannerHeader";constructor(e){this.text=new wS(e.text).toString(),this.icon_type=e.icon.iconType,this.context_menu_button=vS.parse(e.contextMenuButton)}};n(Xs,"LiveChatBannerHeader");jg.exports=Xs});var i_=l((Pk,n_)=>{"use strict";var xS=q(),t_=C(),bS=O(),Qs=class{type="LiveChatBannerPoll";constructor(e){this.poll_question=new t_(e.pollQuestion),this.author_photo=bS.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(t=>({option_id:t.pollOptionId,text:new t_(t.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=xS.parse(e.contextMenuButton)}};n(Qs,"LiveChatBannerPoll");n_.exports=Qs});var o_=l((Rk,r_)=>{"use strict";var ES=q(),s_=C(),TS=O(),qS=k(),Zs=class{type="LiveChatMembershipItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new s_(e.headerSubtext),this.author={id:e.authorExternalChannelId,name:new s_(e==null?void 0:e.authorName),thumbnails:TS.fromResponse(e.authorPhoto),badges:ES.parse(e.authorBadges)},this.menu_endpoint=new qS(e.contextMenuEndpoint)}};n(Zs,"LiveChatMembershipItem");r_.exports=Zs});var u_=l((fk,a_)=>{"use strict";var js=C(),SS=O(),IS=k(),c_=q(),er=class{type="LiveChatPaidMessage";constructor(e){this.message=new js(e.message),this.author={id:e.authorExternalChannelId,name:new js(e.authorName),thumbnails:SS.fromResponse(e.authorPhoto),badges:c_.parse(e.authorBadges)};let t=c_.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.purchase_amount=new js(e.purchaseAmountText).toString(),this.menu_endpoint=new IS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new js(e.timestampText).toString(),this.id=e.id}};n(er,"LiveChatPaidMessage");a_.exports=er});var p_=l((Ak,d_)=>{"use strict";var CS=q(),PS=k(),l_=O(),h_=C(),tr=class{type="LiveChatPaidSticker";constructor(e){this.id=e.id,this.author={id:e.authorExternalChannelId,name:new h_(e.authorName),thumbnails:l_.fromResponse(e.authorPhoto),badges:CS.parse(e.authorBadges)},this.sticker=l_.fromResponse(e.sticker),this.purchase_amount=new h_(e.purchaseAmountText).toString(),this.context_menu=new PS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(tr,"LiveChatPaidSticker");d_.exports=tr});var __=l((kk,g_)=>{"use strict";var nr=class{type="LiveChatPlaceholderItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(nr,"LiveChatPlaceholderItem");g_.exports=nr});var Zu=l((Lk,y_)=>{"use strict";var m_=C(),RS=O(),fS=k(),AS=q(),ir=class{type="LiveChatTextMessage";constructor(e){this.message=new m_(e.message),this.author={id:e.authorExternalChannelId,name:new m_(e.authorName),thumbnails:RS.fromResponse(e.authorPhoto)};let t=AS.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.menu_endpoint=new fS(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(ir,"LiveChatTextMessage");y_.exports=ir});var w_=l((Ok,v_)=>{"use strict";var kS=C(),LS=O(),OS=k(),ju=q(),sr=class{type="LiveChatTickerPaidMessageItem";constructor(e){this.author={id:e.authorExternalChannelId,thumbnails:LS.fromResponse(e.authorPhoto),badges:ju.parse(e.authorBadges)};let t=ju.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.amount=new kS(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=ju.parse(e.showItemEndpoint.showLiveChatItemEndpoint.renderer,"livechat/items"),this.show_item_endpoint=new OS(e.showItemEndpoint),this.id=e.id}};n(sr,"LiveChatTickerPaidMessageItem");v_.exports=sr});var E_=l((Dk,b_)=>{"use strict";var x_=C(),DS=O(),rr=class{type="LiveChatTickerSponsorItem";constructor(e){this.id=e.id,this.detail_text=new x_(e.detailText).toString(),this.author={id:e.authorExternalChannelId,name:new x_(e==null?void 0:e.authorName),thumbnails:DS.fromResponse(e.sponsorPhoto)},this.duration_sec=e.durationSec}};n(rr,"LiveChatTickerSponsorItem");b_.exports=rr});var q_=l((Uk,T_)=>{"use strict";var US=Zu(),BS=q(),or=class extends US{type="LiveChatViewerEngagementMessage";constructor(e){super(e),delete this.author,delete this.menu_endpoint,this.icon_type=e.icon.iconType,this.action_button=BS.parse(e.actionButton)}};n(or,"LiveChatViewerEngagementMessage");T_.exports=or});var C_=l((Bk,I_)=>{"use strict";var S_=C(),NS=O(),FS=q(),cr=class{type="PollHeader";constructor(e){this.poll_question=new S_(e.pollQuestion),this.thumbnails=NS.fromResponse(e.thumbnail),this.metadata=new S_(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=FS.parse(e.contextMenuButton)}};n(cr,"PollHeader");I_.exports=cr});var R_=l((Nk,P_)=>{"use strict";var MS=q(),ar=class{type="LiveChatActionPanel";constructor(e){this.id=e.id,this.contents=MS.parse(e.contents),this.target_id=e.targetId}};n(ar,"LiveChatActionPanel");P_.exports=ar});var A_=l((Fk,f_)=>{"use strict";var VS=C(),ur=class{type="MarkChatItemAsDeletedAction";constructor(e){this.deleted_state_message=new VS(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(ur,"MarkChatItemAsDeletedAction");f_.exports=ur});var L_=l((Mk,k_)=>{"use strict";var YS=C(),lr=class{type="MarkChatItemsByAuthorAsDeletedAction";constructor(e){this.deleted_state_message=new YS(e.deletedStateMessage),this.channel_id=e.externalChannelId}};n(lr,"MarkChatItemsByAuthorAsDeletedAction");k_.exports=lr});var D_=l((Vk,O_)=>{"use strict";var hr=class{type="RemoveBannerForLiveChatCommand";constructor(e){this.target_action_id=e.targetActionId}};n(hr,"RemoveBannerForLiveChatCommand");O_.exports=hr});var B_=l((Yk,U_)=>{"use strict";var GS=q(),dr=class{constructor(e){this.target_item_id=e.targetItemId,this.replacement_item=GS.parse(e.replacementItem)}};n(dr,"ReplaceChatItemAction");U_.exports=dr});var F_=l((Gk,N_)=>{"use strict";var $S=q(),pr=class{type="ReplayChatItemAction";constructor(e){var t;this.actions=$S.parse((t=e.actions)==null?void 0:t.map(i=>(delete i.clickTrackingParams,i)))||[],this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(pr,"ReplayChatItemAction");N_.exports=pr});var V_=l(($k,M_)=>{"use strict";var WS=q(),gr=class{type="ShowLiveChatActionPanelAction";constructor(e){this.panel_to_show=WS.parse(e.panelToShow)}};n(gr,"ShowLiveChatActionPanelAction");M_.exports=gr});var G_=l((Wk,Y_)=>{"use strict";var JS=q(),_r=class{type="ShowLiveChatTooltipCommand";constructor(e){this.tooltip=JS.parse(e.tooltip)}};n(_r,"ShowLiveChatTooltipCommand");Y_.exports=_r});var W_=l((Jk,$_)=>{"use strict";var HS=C(),mr=class{type="UpdateDateTextAction";constructor(e){this.date_text=new HS(e.dateText).toString()}};n(mr,"UpdateDateTextAction");$_.exports=mr});var H_=l((Hk,J_)=>{"use strict";var KS=C(),yr=class{type="UpdateDescriptionAction";constructor(e){this.description=new KS(e.description)}};n(yr,"UpdateDescriptionAction");J_.exports=yr});var z_=l((Kk,K_)=>{"use strict";var zS=q(),vr=class{type="UpdateLiveChatPollAction";constructor(e){this.poll_to_update=zS.parse(e.pollToUpdate)}};n(vr,"UpdateLiveChatPollAction");K_.exports=vr});var Q_=l((zk,X_)=>{"use strict";var XS=C(),wr=class{type="UpdateTitleAction";constructor(e){this.title=new XS(e.title)}};n(wr,"UpdateTitleAction");X_.exports=wr});var em=l((Xk,j_)=>{"use strict";var Z_=C(),xr=class{type="UpdateToggleButtonTextAction";constructor(e){this.default_text=new Z_(e.defaultText).toString(),this.toggled_text=new Z_(e.toggledText).toString(),this.button_id=e.buttonId}};n(xr,"UpdateToggleButtonTextAction");j_.exports=xr});var im=l((Qk,nm)=>{"use strict";var tm=C(),br=class{type="UpdateViewershipAction";constructor(e){let t=e.viewCount.videoViewCountRenderer;this.view_count=new tm(t.viewCount),this.extra_short_view_count=new tm(t.extraShortViewCount),this.is_live=t.isLive}};n(br,"UpdateViewershipAction");nm.exports=br});var el=l((Zk,sm)=>{"use strict";var Er=class{constructor(e){e.icon&&(this.icon_type=e.icon.iconType),e.style&&(this.style=e.style),this.tooltip=e.tooltip||e.iconTooltip||null}};n(Er,"MetadataBadge");sm.exports=Er});var om=l((jk,rm)=>{"use strict";var QS=el(),ZS=O(),Tr=class extends QS{constructor(e){super(e),this.custom_thumbnail=e.customThumbnail?ZS.fromResponse(e.customThumbnail):null}};n(Tr,"LiveChatAuthorBadge");rm.exports=Tr});var am=l((eL,cm)=>{"use strict";var tl=q(),qr=class{type="LiveChatHeader";constructor(e){this.overflow_menu=tl.parse(e.overflowMenu),this.collapse_button=tl.parse(e.collapseButton),this.view_selector=tl.parse(e.viewSelector)}};n(qr,"LiveChatHeader");cm.exports=qr});var lm=l((tL,um)=>{"use strict";var jS=q(),Sr=class{type="LiveChatItemList";constructor(e){this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=jS.parse(e.moreCommentsBelowButton)}};n(Sr,"LiveChatItemList");um.exports=Sr});var dm=l((nL,hm)=>{"use strict";var eI=C(),tI=q(),nI=O(),Ir=class{constructor(e){this.author_name=new eI(e.authorName),this.author_photo=nI.fromResponse(e.authorPhoto),this.send_button=tI.parse(e.sendButton),this.target_id=e.targetId}};n(Ir,"LiveChatMessageInput");hm.exports=Ir});var gm=l((iL,pm)=>{"use strict";var iI=q(),sI=C(),rI=O(),Cr=class{type="LiveChatParticipant";constructor(e){this.name=new sI(e.authorName),this.photo=rI.fromResponse(e.authorPhoto),this.badges=iI.parse(e.authorBadges)}};n(Cr,"LiveChatParticipant");pm.exports=Cr});var mm=l((sL,_m)=>{"use strict";var oI=q(),cI=C(),Pr=class{type="LiveChatParticipantsList";constructor(e){this.title=new cI(e.title),this.participants=oI.parse(e.participants)}};n(Pr,"LiveChatParticipantsList");_m.exports=Pr});var wm=l((rL,vm)=>{"use strict";var ym=q(),Rr=class{type="Menu";constructor(e){var t,i;this.items=ym.parse(e.items)||[],this.top_level_buttons=ym.parse(e.topLevelButtons)||[],this.label=((i=(t=e.accessibility)==null?void 0:t.accessibilityData)==null?void 0:i.label)||null}get contents(){return this.items}};n(Rr,"Menu");vm.exports=Rr});var bm=l((oL,xm)=>{"use strict";var aI=Bi(),fr=class extends aI{type="MenuNavigationItem";constructor(e){super(e)}};n(fr,"MenuNavigationItem");xm.exports=fr});var Tm=l((cL,Em)=>{"use strict";var uI=Bi(),Ar=class extends uI{type="MenuServiceItem";constructor(e){super(e)}};n(Ar,"MenuServiceItem");Em.exports=Ar});var Sm=l((aL,qm)=>{"use strict";var lI=k(),kr=class{type="MenuServiceItemDownload";constructor(e){this.has_separator=e.hasSeparator,this.endpoint=new lI(e.navigationEndpoint||e.serviceEndpoint)}};n(kr,"MenuServiceItemDownload");qm.exports=kr});var Pm=l((uL,Cm)=>{"use strict";var Im=q(),Lr=class{type="MultiPageMenu";constructor(e){this.header=Im.parse(e.header),this.sections=Im.parse(e.sections),this.style=e.style}};n(Lr,"MultiPageMenu");Cm.exports=Lr});var fm=l((lL,Rm)=>{"use strict";var hI=q(),Or=class{type="MultiPageMenuNotificationSection";constructor(e){this.items=hI.parse(e.items)}get contents(){return this.items}};n(Or,"MultiPageMenuNotificationSection");Rm.exports=Or});var km=l((hL,Am)=>{"use strict";var dI=q(),pI=C(),Dr=class{type="SimpleMenuHeader";constructor(e){this.title=new pI(e.title),this.buttons=dI.parse(e.buttons)}};n(Dr,"SimpleMenuHeader");Am.exports=Dr});var Om=l((dL,Lm)=>{"use strict";var gI=O(),_I=k(),Ur=class{type="MerchandiseItem";constructor(e){this.title=e.title,this.description=e.description,this.thumbnails=gI.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new _I(e.buttonCommand)}};n(Ur,"MerchandiseItem");Lm.exports=Ur});var Bm=l((pL,Um)=>{"use strict";var Dm=q(),Br=class{type="MerchandiseShelf";constructor(e){this.title=e.title,this.menu=Dm.parse(e.actionButton),this.items=Dm.parse(e.items)}get contents(){return this.items}};n(Br,"MerchandiseShelf");Um.exports=Br});var Fm=l((gL,Nm)=>{"use strict";var mI=C(),Nr=class{type="Message";constructor(e){this.text=new mI(e.text).toString()}};n(Nr,"Message");Nm.exports=Nr});var Ym=l((_L,Vm)=>{"use strict";var Mm=C(),Fr=class{type="MetadataRow";constructor(e){this.title=new Mm(e.title),this.contents=e.contents.map(t=>new Mm(t))}};n(Fr,"MetadataRow");Vm.exports=Fr});var $m=l((mL,Gm)=>{"use strict";var yI=q(),Mr=class{type="MetadataRowContainer";constructor(e){this.rows=yI.parse(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Mr,"MetadataRowContainer");Gm.exports=Mr});var Jm=l((yL,Wm)=>{"use strict";var vI=C(),Vr=class{type="MetadataRowHeader";constructor(e){this.content=new vI(e.content),this.has_divider_line=e.hasDividerLine}};n(Vr,"MetadataRowHeader");Wm.exports=Vr});var Km=l((vL,Hm)=>{"use strict";var wI=O(),Yr=class{type="MicroformatData";constructor(e){this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail&&wI.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Yr,"MicroformatData");Hm.exports=Yr});var Xm=l((wL,zm)=>{"use strict";var xI=gn(),Gr=class extends xI{type="Mix";constructor(e){super(e)}};n(Gr,"Mix");zm.exports=Gr});var Zm=l((xL,Qm)=>{"use strict";var nl=q(),bI=ne(),EI=O(),TI=k(),qI=M(),tt=C(),$r=class{type="Movie";constructor(e){var i,a,r;let t=((i=e.thumbnailOverlays.find(o=>o.thumbnailOverlayTimeStatusRenderer))==null?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new tt(e.title),this.description_snippet=e.descriptionSnippet?new tt(e.descriptionSnippet,""):null,this.top_metadata_items=new tt(e.topMetadataItems),this.thumbnails=EI.fromResponse(e.thumbnail),this.thumbnail_overlays=nl.parse(e.thumbnailOverlays),this.author=new bI(e.longBylineText,e.ownerBadges,(r=(a=e.channelThumbnailSupportedRenderers)==null?void 0:a.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.duration={text:e.lengthText?new tt(e.lengthText).text:new tt(t).text,seconds:qI.timeToSeconds(e.lengthText?new tt(e.lengthText).text:new tt(t).text)},this.endpoint=new TI(e.navigationEndpoint),this.badges=nl.parse(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=nl.parse(e.menu)}};n($r,"Movie");Qm.exports=$r});var ey=l((bL,jm)=>{"use strict";var SI=O(),Wr=class{type="MovingThumbnail";constructor(e){var t;return(t=e.movingThumbnailDetails)==null?void 0:t.thumbnails.map(i=>new SI(i)).sort((i,a)=>a.width-i.width)}};n(Wr,"MovingThumbnail");jm.exports=Wr});var iy=l((EL,ny)=>{"use strict";var ty=q(),Jr=class{type="MusicCarouselShelf";constructor(e){this.header=ty.parse(e.header),this.contents=ty.parse(e.contents),e.numItemsPerColumn&&(this.num_items_per_column=e.numItemsPerColumn)}};n(Jr,"MusicCarouselShelf");ny.exports=Jr});var oy=l((TL,ry)=>{"use strict";var sy=C(),II=O(),Hr=class{type="MusicCarouselShelfBasicHeader";constructor(e){e.strapline&&(this.strapline=new sy(e.strapline).toString()),this.title=new sy(e.title).toString(),e.thumbnail&&(this.thumbnail=II.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail))}};n(Hr,"MusicCarouselShelfBasicHeader");ry.exports=Hr});var uy=l((qL,ay)=>{"use strict";var cy=C(),Kr=class{type="MusicDescriptionShelf";constructor(e){this.description=new cy(e.description),this.max_collapsed_lines&&(this.max_collapsed_lines=e.maxCollapsedLines),this.max_expanded_lines&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new cy(e.footer)}};n(Kr,"MusicDescriptionShelf");ay.exports=Kr});var dy=l((SL,hy)=>{"use strict";var zr=C(),CI=O(),ly=q(),Xr=class{type="MusicDetailHeader";constructor(e){this.title=new zr(e.title),this.description=new zr(e.description),this.subtitle=new zr(e.subtitle),this.second_subtitle=new zr(e.secondSubtitle),this.year=this.subtitle.runs.find(i=>/^[12][0-9]{3}$/.test(i.text)).text,this.song_count=this.second_subtitle.runs[0].text,this.total_duration=this.second_subtitle.runs[2].text,this.thumbnails=CI.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=ly.parse(e.subtitleBadges);let t=this.subtitle.runs.find(i=>{var a;return(a=i.endpoint.browse)==null?void 0:a.id.startsWith("UC")});t&&(this.author={name:t.text,channel_id:t.endpoint.browse.id,endpoint:t.endpoint}),this.menu=ly.parse(e.menu)}};n(Xr,"MusicDetailHeader");hy.exports=Xr});var gy=l((IL,py)=>{"use strict";var PI=q(),Qr=class{type="MusicHeader";constructor(e){this.header=PI.parse(e.header)}};n(Qr,"MusicHeader");py.exports=Qr});var yy=l((CL,my)=>{"use strict";var _y=C(),RI=q(),Zr=class{type="MusicImmersiveHeader";constructor(e){this.title=new _y(e.title),this.description=new _y(e.description),this.thumbnails=RI.parse(e.thumbnail)}};n(Zr,"MusicImmersiveHeader");my.exports=Zr});var wy=l((PL,vy)=>{"use strict";var jr=class{type="MusicInlineBadge";constructor(e){this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(jr,"MusicInlineBadge");vy.exports=jr});var by=l((RL,xy)=>{"use strict";var fI=q(),eo=class{type="MusicItemThumbnailOverlay";constructor(e){this.content=fI.parse(e.content),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(eo,"MusicItemThumbnailOverlay");xy.exports=eo});var Ty=l((fL,Ey)=>{"use strict";var AI=C(),kI=k(),to=class{type="MusicNavigationButton";constructor(e){this.button_text=new AI(e.buttonText).toString(),this.endpoint=new kI(e.navigationEndpoint)}};n(to,"MusicNavigationButton");Ey.exports=to});var Sy=l((AL,qy)=>{"use strict";var LI=k(),no=class{type="MusicPlayButton";constructor(e){var t;this.endpoint=new LI(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,e.accessibilityPlayData&&(this.play_label=e.accessibilityPlayData.accessibilityData.label),e.accessibilityPlayData&&(this.pause_label=(t=e.accessibilityPauseData)==null?void 0:t.accessibilityData.label),this.icon_color=e.iconColor}};n(no,"MusicPlayButton");qy.exports=no});var Cy=l((kL,Iy)=>{"use strict";var OI=q(),mn,io=class{constructor(e){oe(this,"type","MusicPlaylistShelf");E(this,mn,void 0);this.playlist_id=e.playlistId,this.contents=OI.parse(e.contents),this.collapsed_item_count=e.collapsedItemCount,I(this,mn,e.continuations)}get continuation(){var e,t;return(t=(e=u(this,mn))==null?void 0:e[0])==null?void 0:t.nextContinuationData}};n(io,"MusicPlaylistShelf"),mn=new WeakMap;Iy.exports=io});var Ry=l((LL,Py)=>{"use strict";var DI=q(),so=class{type="MusicQueue";constructor(e){this.content=DI.parse(e.content)}};n(so,"MusicQueue");Py.exports=so});var Ny=l((OL,By)=>{"use strict";var yn=q(),UI=C(),fy=M(),BI=O(),NI=k(),z,vn,vt,oo,Ay,co,ky,ao,Ly,uo,Oy,lo,Dy,ho,Uy,ro=class{constructor(e){E(this,oo);E(this,co);E(this,ao);E(this,uo);E(this,lo);E(this,ho);E(this,z,void 0);E(this,vn,void 0);E(this,vt,void 0);var t,i,a,r;switch(this.type=null,I(this,z,yn.parse(e.flexColumns)),I(this,vn,yn.parse(e.fixedColumns)),I(this,vt,{video_id:((t=e==null?void 0:e.playlistItemData)==null?void 0:t.videoId)||null,playlist_set_video_id:((i=e==null?void 0:e.playlistItemData)==null?void 0:i.playlistSetVideoId)||null}),this.endpoint=e.navigationEndpoint&&new NI(e.navigationEndpoint)||null,(r=(a=this.endpoint)==null?void 0:a.browse)==null?void 0:r.page_type){case"MUSIC_PAGE_TYPE_ALBUM":this.type="album",L(this,lo,Dy).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",L(this,ho,Uy).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.type="artist",L(this,uo,Oy).call(this);break;default:L(this,oo,Ay).call(this);break}e.index&&(this.index=new UI(e.index)),this.thumbnails=e.thumbnail?BI.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail):[],this.badges=yn.parse(e.badges)||[],this.menu=yn.parse(e.menu),this.overlay=yn.parse(e.overlay)}};n(ro,"MusicResponsiveListItem"),z=new WeakMap,vn=new WeakMap,vt=new WeakMap,oo=new WeakSet,Ay=n(function(){var t;((t=u(this,z)[1].title.runs)==null?void 0:t.some(i=>i.text.match(/(.*?) views/)))?(this.type="video",L(this,ao,Ly).call(this)):(this.type="song",L(this,co,ky).call(this))},"#parseVideoOrSong"),co=new WeakSet,ky=n(function(){var a,r,o,c,p,d,h,_;this.id=u(this,vt).video_id||((a=this.endpoint)==null?void 0:a.watch.video_id),this.title=u(this,z)[0].title.toString();let e=((o=(r=u(this,z)[1].title.runs)==null?void 0:r.find(v=>/^\d+$/.test(v.text.replace(/:/g,""))))==null?void 0:o.text)||((d=(p=(c=u(this,vn))==null?void 0:c[0])==null?void 0:p.title)==null?void 0:d.text);e&&(this.duration={text:e,seconds:fy.timeToSeconds(e)});let t=(h=u(this,z)[1].title.runs)==null?void 0:h.find(v=>{var x;return(x=v.endpoint.browse)==null?void 0:x.id.startsWith("MPR")});t&&(this.album={id:t.endpoint.browse.id,name:t.text,endpoint:t.endpoint});let i=(_=u(this,z)[1].title.runs)==null?void 0:_.filter(v=>{var x;return(x=v.endpoint.browse)==null?void 0:x.id.startsWith("UC")});i&&(this.artists=i.map(v=>({name:v.text,channel_id:v.endpoint.browse.id,endpoint:v.endpoint})))},"#parseSong"),ao=new WeakSet,Ly=n(function(){var i,a;this.id=u(this,vt).video_id,this.title=u(this,z)[0].title.toString(),this.views=u(this,z)[1].title.runs.find(r=>r.text.match(/(.*?) views/)).text;let e=(i=u(this,z)[1].title.runs)==null?void 0:i.filter(r=>{var o;return(o=r.endpoint.browse)==null?void 0:o.id.startsWith("UC")});e&&(this.authors=e.map(r=>({name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint})));let t=(a=u(this,z)[1].title.runs.find(r=>/^\d+$/.test(r.text.replace(/:/g,""))))==null?void 0:a.text;t&&(this.duration={text:t,seconds:fy.timeToSeconds(t)})},"#parseVideo"),uo=new WeakSet,Oy=n(function(){var e;this.id=this.endpoint.browse.id,this.name=u(this,z)[0].title.toString(),this.subscribers=((e=u(this,z)[1].title.runs[2])==null?void 0:e.text)||""},"#parseArtist"),lo=new WeakSet,Dy=n(function(){this.id=this.endpoint.browse.id,this.title=u(this,z)[0].title.toString();let e=u(this,z)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint}),this.year=u(this,z)[1].title.runs.find(t=>/^[12][0-9]{3}$/.test(t.text)).text},"#parseAlbum"),ho=new WeakSet,Uy=n(function(){this.id=this.endpoint.browse.id,this.title=u(this,z)[0].title.toString(),this.item_count=parseInt(u(this,z)[1].title.runs.find(t=>t.text.match(/\d+ (song|songs)/)).text.match(/\d+/g));let e=u(this,z)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint})},"#parsePlaylist");By.exports=ro});var My=l((DL,Fy)=>{"use strict";var FI=C(),po=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new FI(e.text),this.display_priority=e.displayPriority}};n(po,"MusicResponsiveListItemFixedColumn");Fy.exports=po});var Yy=l((UL,Vy)=>{"use strict";var MI=C(),go=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new MI(e.text),this.display_priority=e.displayPriority}};n(go,"MusicResponsiveListItemFlexColumn");Vy.exports=go});var Wy=l((BL,$y)=>{"use strict";var VI=q(),Gy=C(),YI=k(),_o=class{type="MusicShelf";constructor(e){var t;this.title=new Gy(e.title).toString(),this.contents=VI.parse(e.contents),e.bottomEndpoint&&(this.endpoint=new YI(e.bottomEndpoint)),e.continuations&&(this.continuation=(t=e.continuations)==null?void 0:t[0].nextContinuationData.continuation),e.bottomText&&(this.bottom_text=new Gy(e.bottomText))}};n(_o,"MusicShelf");$y.exports=_o});var Hy=l((NL,Jy)=>{"use strict";var GI=O(),mo=class{type="MusicThumbnail";constructor(e){return GI.fromResponse(e.thumbnail)}};n(mo,"MusicThumbnail");Jy.exports=mo});var Xy=l((FL,zy)=>{"use strict";var il=q(),Ky=C(),$I=O(),WI=k(),yo=class{type="MusicTwoRowItem";constructor(e){var t,i,a;switch(this.title=new Ky(e.title),this.endpoint=new WI(e.navigationEndpoint),this.id=((t=this.endpoint.browse)==null?void 0:t.id)||this.endpoint.watch.video_id,this.subtitle=new Ky(e.subtitle),this.badges=il.parse(e.subtitleBadges),(i=this.endpoint.browse)==null?void 0:i.page_type){case"MUSIC_PAGE_TYPE_ARTIST":this.type="artist",this.subscribers=this.subtitle.toString();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",this.item_count=parseInt((a=this.subtitle.runs.find(o=>o.text.match(/\d+ (songs|song)/)))==null?void 0:a.text.match(/\d+/g))||null;break;case"MUSIC_PAGE_TYPE_ALBUM":this.type="album";let r=this.subtitle.runs.filter(o=>{var c;return(c=o.endpoint.browse)==null?void 0:c.id.startsWith("UC")});r&&(this.artists=r.map(o=>({name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint}))),this.year=this.subtitle.runs.slice(-1)[0].text,isNaN(this.year)&&delete this.year;break;default:if(this.subtitle.runs[0].text!=="Song"?this.type="video":this.type="song",this.type=="video"){this.views=this.subtitle.runs.find(c=>c.text.match(/(.*?) views/)).text;let o=this.subtitle.runs.find(c=>{var p;return(p=c.endpoint.browse)==null?void 0:p.id.startsWith("UC")});o&&(this.author={name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint})}else{let o=this.subtitle.runs.filter(c=>{var p;return(p=c.endpoint.browse)==null?void 0:p.id.startsWith("UC")});o&&(this.artists=o.map(c=>({name:c.text,channel_id:c.endpoint.browse.id,endpoint:c.endpoint})))}break}this.thumbnail=$I.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=il.parse(e.thumbnailOverlay),this.menu=il.parse(e.menu)}};n(yo,"MusicTwoRowItem");zy.exports=yo});var tv=l((ML,ev)=>{"use strict";var JI=q(),Qy=C(),Zy=O(),jy=k(),vo=class{type="Notification";constructor(e){this.thumbnails=Zy.fromResponse(e.thumbnail),this.video_thumbnails=Zy.fromResponse(e.videoThumbnail),this.short_message=new Qy(e.shortMessage),this.sent_time=new Qy(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new jy(e.navigationEndpoint),this.record_click_endpoint=new jy(e.recordClickEndpoint),this.menu=JI.parse(e.contextualMenu),this.read=e.read}};n(vo,"Notification");ev.exports=vo});var iv=l((VL,nv)=>{"use strict";var HI=q(),KI=O(),zI=k(),wo=class{type="PlayerAnnotationsExpanded";constructor(e){this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:KI.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new zI(e.featuredChannel.navigationEndpoint),subscribe_button:HI.parse(e.featuredChannel.subscribeButton)},this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(wo,"PlayerAnnotationsExpanded");nv.exports=wo});var ov=l((YL,rv)=>{"use strict";var sv=C(),xo=class{type="PlayerCaptionsTracklist";constructor(e){this.caption_tracks=e.captionTracks.map(t=>({base_url:t.baseUrl,name:new sv(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})),this.audio_tracks=e.audioTracks.map(t=>({caption_track_indices:t.captionTrackIndices})),this.translation_languages=e.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new sv(t.languageName)}))}};n(xo,"PlayerCaptionsTracklist");rv.exports=xo});var uv=l((GL,av)=>{"use strict";var XI=q(),cv=C(),QI=O(),bo=class{type="PlayerErrorMessage";constructor(e){this.subreason=new cv(e.subreason),this.reason=new cv(e.reason),this.proceed_button=XI.parse(e.proceedButton),this.thumbnails=QI.fromResponse(e.thumbnail),this.icon_type=e.icon.iconType}};n(bo,"PlayerErrorMessage");av.exports=bo});var hv=l(($L,lv)=>{"use strict";var Eo=class{type="PlayerLiveStoryboardSpec";constructor(){}};n(Eo,"PlayerLiveStoryboardSpec");lv.exports=Eo});var gv=l((WL,pv)=>{"use strict";var dv=C(),ZI=O(),To=class{type="PlayerMicroformat";constructor(e){this.title=new dv(e.title),this.description=new dv(e.description),this.thumbnails=ZI.fromResponse(e.thumbnail),this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height},this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=e.isFamilySafe,this.is_unlisted=e.isUnlisted,this.has_ypc_metadata=e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries}};n(To,"PlayerMicroformat");pv.exports=To});var mv=l((JL,_v)=>{"use strict";var wn=q(),qo=class{type="PlayerOverlay";constructor(e){this.end_screen=wn.parse(e.endScreen),this.autoplay=wn.parse(e.autoplay),this.share_button=wn.parse(e.shareButton),this.add_to_menu=wn.parse(e.addToMenu),this.fullscreen_engagement=wn.parse(e.fullscreenEngagement)}};n(qo,"PlayerOverlay");_v.exports=qo});var vv=l((HL,yv)=>{"use strict";var So=q(),Io=C(),jI=ne(),eC=O(),Co=class{type="PlayerOverlayAutoplay";constructor(e){this.title=new Io(e.title),this.video_id=e.videoId,this.video_title=new Io(e.videoTitle),this.short_view_count=new Io(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new Io(e.publishedTimeText),this.background=eC.fromResponse(e.background),this.thumbnail_overlays=So.parse(e.thumbnailOverlays),this.author=new jI(e.byline),this.cancel_button=So.parse(e.cancelButton),this.next_button=So.parse(e.nextButton),this.close_button=So.parse(e.closeButton)}};n(Co,"PlayerOverlayAutoplay");yv.exports=Co});var xv=l((KL,wv)=>{"use strict";var Po=class{type="PlayerStoryboardSpec";constructor(e){let t=e.spec.split("|"),i=new URL(t.shift());this.boards=t.map((a,r)=>{let[o,c,p,d,h,_,v,x]=a.split("#");i.searchParams.set("sigh",x),p=parseInt(p,10),d=parseInt(d,10),h=parseInt(h,10);let y=Math.ceil(p/(d*h));return{template_url:i.toString().replace("$L",r).replace("$N",v),thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(c,10),thumbnail_count:p,interval:parseInt(_,10),columns:d,rows:h,storyboard_count:y}})}};n(Po,"PlayerStoryboardSpec");wv.exports=Po});var Ev=l((zL,bv)=>{"use strict";var wt=C(),tC=_t(),sl=q(),Ro=class{type="PlaylistHeader";constructor(e){this.id=e.playlistId,this.title=new wt(e.title),this.stats=e.stats.map(t=>new wt(t)),this.brief_stats=e.briefStats.map(t=>new wt(t)),this.author=new tC({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null),this.description=new wt(e.descriptionText),this.num_videos=new wt(e.numVideosText),this.view_count=new wt(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=sl.parse(e.saveButton),this.shuffle_play_button=sl.parse(e.shufflePlayButton),this.menu=sl.parse(e.moreActionsMenu)}};n(Ro,"PlaylistHeader");bv.exports=Ro});var qv=l((XL,Tv)=>{"use strict";var rl=C(),nC=O(),iC=k(),fo=class{type="PlaylistInfoCardContent";constructor(e){this.title=new rl(e.playlistTitle),this.thumbnails=nC.fromResponse(e.thumbnail),this.video_count=new rl(e.playlistVideoCount),this.channel_name=new rl(e.channelName),this.endpoint=new iC(e.action)}};n(fo,"PlaylistInfoCardContent");Tv.exports=fo});var Iv=l((QL,Sv)=>{"use strict";var Ao=class{type="PlaylistMetadata";constructor(e){this.title=e.title,this.description=e.description||null}};n(Ao,"PlaylistMetadata");Sv.exports=Ao});var Pv=l((ZL,Cv)=>{"use strict";var sC=q(),rC=C(),ko=class{type="PlaylistPanel";constructor(e){var t,i;this.title=e.title,this.title_text=new rC(e.titleText),this.contents=sC.parse(e.contents),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.nextRadioContinuationData)==null?void 0:i.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(ko,"PlaylistPanel");Cv.exports=ko});var Av=l((jL,fv)=>{"use strict";var Rv=q(),nt=C(),oC=O(),cC=k(),aC=M(),Lo=class{type="PlaylistPanelVideo";constructor(e){this.title=new nt(e.title),this.thumbnail=oC.fromResponse(e.thumbnail),this.endpoint=new cC(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new nt(e.lengthText).toString(),seconds:aC.timeToSeconds(new nt(e.lengthText).toString())};let t=new nt(e.longBylineText).runs.find(a=>{var r;return(r=a.endpoint.browse)==null?void 0:r.id.startsWith("MPR")}),i=new nt(e.longBylineText).runs.filter(a=>{var r;return(r=a.endpoint.browse)==null?void 0:r.id.startsWith("UC")});this.author=new nt(e.shortBylineText).toString(),t&&(this.album={id:t.endpoint.browse.id,name:t.text,year:new nt(e.longBylineText).runs.slice(-1)[0].text,endpoint:t.endpoint}),this.artists=i.map(a=>({name:a.text,channel_id:a.endpoint.browse.id,endpoint:a.endpoint})),this.badges=Rv.parse(e.badges),this.menu=Rv.parse(e.menu),this.set_video_id=e.playlistSetVideoId}};n(Lo,"PlaylistPanelVideo");fv.exports=Lo});var Lv=l((e8,kv)=>{"use strict";var uC=q(),Oo=class{type="PlaylistSidebar";constructor(e){this.items=uC.parse(e.items)}get contents(){return this.items}};n(Oo,"PlaylistSidebar");kv.exports=Oo});var Uv=l((t8,Dv)=>{"use strict";var Ov=q(),lC=k(),ol=C(),Do=class{type="PlaylistSidebarPrimaryInfo";constructor(e){this.stats=e.stats.map(t=>new ol(t)),this.thumbnail_renderer=Ov.parse(e.thumbnailRenderer),this.title=new ol(e.title),this.menu=e.menu&&Ov.parse(e.menu),this.endpoint=new lC(e.navigationEndpoint),this.description=new ol(e.description)}};n(Do,"PlaylistSidebarPrimaryInfo");Dv.exports=Do});var Fv=l((n8,Nv)=>{"use strict";var Bv=q(),Uo=class{type="PlaylistSidebarSecondaryInfo";constructor(e){this.owner=Bv.parse(e.videoOwner)||null,this.button=Bv.parse(e.button)||null}};n(Uo,"PlaylistSidebarSecondaryInfo");Nv.exports=Uo});var Yv=l((i8,Vv)=>{"use strict";var cl=C(),Mv=q(),hC=O(),dC=_t(),pC=k(),Bo=class{type="PlaylistVideo";constructor(e){this.id=e.videoId,this.index=new cl(e.index),this.title=new cl(e.title),this.author=new dC(e.shortBylineText),this.thumbnails=hC.fromResponse(e.thumbnail),this.thumbnail_overlays=Mv.parse(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new pC(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=Mv.parse(e.menu),this.duration={text:new cl(e.lengthText).text,seconds:parseInt(e.lengthSeconds)}}};n(Bo,"PlaylistVideo");Vv.exports=Bo});var $v=l((s8,Gv)=>{"use strict";var gC=q(),No=class{type="PlaylistVideoList";constructor(e){this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=gC.parse(e.contents)}};n(No,"PlaylistVideoList");Gv.exports=No});var Jv=l((r8,Wv)=>{"use strict";var _C=O(),Fo=class{type="PlaylistVideoThumbnail";constructor(e){this.thumbnail=_C.fromResponse(e.thumbnail)}};n(Fo,"PlaylistVideoThumbnail");Wv.exports=Fo});var zv=l((o8,Kv)=>{"use strict";var Mo=C(),mC=O(),Hv=k(),Vo=class{type="Poll";constructor(e){this.choices=e.choices.map(t=>({text:new Mo(t.text).toString(),select_endpoint:t.selectServiceEndpoint?new Hv(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new Hv(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new Mo(t.votePercentageIfSelected),vote_ratio_if_not_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new Mo(t.votePercentageIfSelected),image:t.image?mC.fromResponse(t.image):null})),e.type&&(this.poll_type=e.type),e.totalVotes&&(this.total_votes=new Mo(e.totalVotes)),e.liveChatPollId&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Vo,"Poll");Kv.exports=Vo});var Qv=l((c8,Xv)=>{"use strict";var yC=ku(),Yo=class extends yC{type="Post";constructor(e){super(e)}};n(Yo,"Post");Xv.exports=Yo});var jv=l((a8,Zv)=>{"use strict";var vC=q(),Go=class{type="ProfileColumn";constructor(e){this.items=vC.parse(e.items)}get contents(){return this.items}};n(Go,"ProfileColumn");Zv.exports=Go});var tw=l((u8,ew)=>{"use strict";var wC=q(),$o=class{type="ProfileColumnStats";constructor(e){this.items=wC.parse(e.items)}get contents(){return this.items}};n($o,"ProfileColumnStats");ew.exports=$o});var sw=l((l8,iw)=>{"use strict";var nw=C(),Wo=class{type="ProfileColumnStatsEntry";constructor(e){this.label=new nw(e.label),this.value=new nw(e.value)}};n(Wo,"ProfileColumnStatsEntry");iw.exports=Wo});var ow=l((h8,rw)=>{"use strict";var xC=C(),bC=O(),Jo=class{type="ProfileColumnUserInfo";constructor(e){this.title=new xC(e.title),this.thumbnails=bC.fromResponse(e.thumbnail)}};n(Jo,"ProfileColumnUserInfo");rw.exports=Jo});var uw=l((d8,aw)=>{"use strict";var EC=k(),cw=C(),TC=O(),Ho=class{type="ReelItem";constructor(e){this.id=e.videoId,this.title=new cw(e.headline,""),this.thumbnails=TC.fromResponse(e.thumbnail),this.views=new cw(e.viewCountText,""),this.endpoint=new EC(e.navigationEndpoint)}};n(Ho,"ReelItem");aw.exports=Ho});var hw=l((p8,lw)=>{"use strict";var qC=q(),SC=k(),IC=C(),Ko=class{type="ReelShelf";constructor(e){this.title=new IC(e.title),this.items=qC.parse(e.items),this.endpoint=e.endpoint?new SC(e.endpoint):null}get contents(){return this.items}};n(Ko,"ReelShelf");lw.exports=Ko});var pw=l((g8,dw)=>{"use strict";var CC=q(),zo=class{type="RelatedChipCloud";constructor(e){this.content=CC.parse(e.content)}};n(zo,"RelatedChipCloud");dw.exports=zo});var mw=l((_8,_w)=>{"use strict";var gw=q(),Xo=class{type="RichGrid";constructor(e){this.header=gw.parse(e.header),this.contents=gw.parse(e.contents)}};n(Xo,"RichGrid");_w.exports=Xo});var vw=l((m8,yw)=>{"use strict";var PC=q(),Qo=class{type="RichItem";constructor(e){return PC.parse(e.content)}};n(Qo,"RichItem");yw.exports=Qo});var xw=l((y8,ww)=>{"use strict";var RC=C(),Zo=class{constructor(e){this.title=new RC(e.title),this.icon_type=e.icon.iconType}};n(Zo,"RichListHeader");ww.exports=Zo});var Ew=l((v8,bw)=>{"use strict";var fC=q(),jo=class{type="RichSection";constructor(e){this.contents=fC.parse(e.content)}};n(jo,"RichSection");bw.exports=jo});var qw=l((w8,Tw)=>{"use strict";var AC=q(),kC=k(),LC=C(),ec=class{type="RichShelf";constructor(e){this.title=new LC(e.title),this.contents=AC.parse(e.contents),this.endpoint=e.endpoint?new kC(e.endpoint):null}};n(ec,"RichShelf");Tw.exports=ec});var Cw=l((x8,Iw)=>{"use strict";var Sw=q(),OC=C(),DC=k(),tc=class{type="SearchBox";constructor(e){this.endpoint=new DC(e.endpoint),this.search_button=Sw.parse(e.searchButton),this.clear_button=Sw.parse(e.clearButton),this.placeholder_text=new OC(e.placeholderText)}};n(tc,"SearchBox");Iw.exports=tc});var Rw=l((b8,Pw)=>{"use strict";var UC=k(),BC=O(),NC=C(),nc=class{type="SearchRefinementCard";constructor(e){this.thumbnails=BC.fromResponse(e.thumbnail),this.endpoint=new UC(e.searchEndpoint),this.query=new NC(e.query).toString()}};n(nc,"SearchRefinementCard");Pw.exports=nc});var Aw=l((E8,fw)=>{"use strict";var FC=q(),ic=class{type="SearchSuggestionsSection";constructor(e){this.contents=FC.parse(e.contents)}};n(ic,"SearchSuggestionsSection");fw.exports=ic});var Lw=l((T8,kw)=>{"use strict";var MC=q(),sc=class{type="SecondarySearchContainer";constructor(e){this.contents=MC.parse(e.contents)}};n(sc,"SecondarySearchContainer");kw.exports=sc});var Uw=l((q8,Dw)=>{"use strict";var Ow=q(),rc=class{type="SectionList";constructor(e){e.targetId&&(this.target_id=e.targetId),this.contents=Ow.parse(e.contents),e.continuations&&(e.continuations[0].nextContinuationData?this.continuation=e.continuations[0].nextContinuationData.continuation:e.continuations[0].reloadContinuationData&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),e.header&&(this.header=Ow.parse(e.header))}};n(rc,"SectionList");Dw.exports=rc});var Fw=l((S8,Nw)=>{"use strict";var VC=C(),Bw=q(),YC=k(),oc=class{type="Shelf";constructor(e){var t,i;this.title=new VC(e.title),e.endpoint&&(this.endpoint=new YC(e.endpoint)),this.content=Bw.parse(e.content)||[],(t=e.icon)!=null&&t.iconType&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),e.menu&&(this.menu=Bw.parse(e.menu))}};n(oc,"Shelf");Nw.exports=oc});var Yw=l((I8,Vw)=>{"use strict";var GC=C(),Mw=k(),cc=class{type="ShowingResultsFor";constructor(e){this.corrected_query=new GC(e.correctedQuery),this.endpoint=new Mw(e.correctedQueryEndpoint),this.original_query_endpoint=new Mw(e.originalQueryEndpoint)}};n(cc,"ShowingResultsFor");Vw.exports=cc});var $w=l((C8,Gw)=>{"use strict";var $C=C(),ac=class{type="SimpleCardTeaser";constructor(e){this.message=new $C(e.message),this.prominent=e.prominent}};n(ac,"SimpleCardTeaser");Gw.exports=ac});var Jw=l((P8,Ww)=>{"use strict";var al=C(),WC=k(),uc=class{type="SingleActionEmergencySupport";constructor(e){this.action_text=new al(e.actionText),this.nav_text=new al(e.navigationText),this.details=new al(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new WC(e.navigationEndpoint)}};n(uc,"SingleActionEmergencySupport");Ww.exports=uc});var Kw=l((R8,Hw)=>{"use strict";var JC=q(),lc=class{type="SingleColumnBrowseResults";constructor(e){this.tabs=JC.parse(e.tabs)}};n(lc,"SingleColumnBrowseResults");Hw.exports=lc});var Xw=l((f8,zw)=>{"use strict";var HC=q(),hc=class{type="SingleColumnMusicWatchNextResults";constructor(e){return HC.parse(e)}};n(hc,"SingleColumnMusicWatchNextResults");zw.exports=hc});var Zw=l((A8,Qw)=>{"use strict";var KC=O(),dc=class{type="SingleHeroImage";constructor(e){this.thumbnails=new KC(e.thumbnail).thumbnails,this.style=e.style}};n(dc,"SingleHeroImage");Qw.exports=dc});var ex=l((k8,jw)=>{"use strict";var{observe:zC}=M(),pc=class{type="SortFilterSubMenu";constructor(e){this.sub_menu_items=zC(e.subMenuItems.map(t=>{var i;return{title:t.title,selected:t.selected,continuation:(i=t.continuation)==null?void 0:i.reloadContinuationData.continuation,subtitle:t.subtitle}})),this.label=e.accessibility.accessibilityData.label}};n(pc,"SortFilterSubMenu");jw.exports=pc});var nx=l((L8,tx)=>{"use strict";var XC=C(),QC=k(),gc=class{type="SubFeedOption";constructor(e){this.name=new XC(e.name),this.is_selected=e.isSelected,this.endpoint=new QC(e.navigationEndpoint)}};n(gc,"SubFeedOption");tx.exports=gc});var sx=l((O8,ix)=>{"use strict";var ZC=q(),jC=C(),_c=class{type="SubFeedSelector";constructor(e){this.title=new jC(e.title),this.options=ZC.parse(e.options)}};n(_c,"SubFeedSelector");ix.exports=_c});var ox=l((D8,rx)=>{"use strict";var e2=q(),ul=C(),t2=k(),mc=class{type="SubscribeButton";constructor(e){var t,i;this.title=new ul(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new ul(e.subscribedButtonText),this.unsubscribed_text=new ul(e.unsubscribedButtonText),this.notification_preference_button=e2.parse(e.notificationPreferenceButton),this.endpoint=new t2(((t=e.serviceEndpoints)==null?void 0:t[0])||((i=e.onSubscribeEndpoints)==null?void 0:i[0]))}};n(mc,"SubscribeButton");rx.exports=mc});var ax=l((U8,cx)=>{"use strict";var n2=q(),yc=class{type="SubscriptionNotificationToggleButton";constructor(e){this.states=e.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:n2.parse(t.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(yc,"SubscriptionNotificationToggleButton");cx.exports=yc});var lx=l((B8,ux)=>{"use strict";var i2=q(),s2=k(),vc=class{type="Tab";constructor(e){this.title=e.title||"N/A",this.selected=e.selected||!1,this.endpoint=new s2(e.endpoint),this.content=i2.parse(e.content)}};n(vc,"Tab");ux.exports=vc});var dx=l((N8,hx)=>{"use strict";var r2=q(),wc=class{type="Tabbed";constructor(e){return r2.parse(e)}};n(wc,"Tabbed");hx.exports=wc});var gx=l((F8,px)=>{"use strict";var o2=q(),xc=class{type="TabbedSearchResults";constructor(e){this.tabs=o2.parse(e.tabs)}};n(xc,"TabbedSearchResults");px.exports=xc});var mx=l((M8,_x)=>{"use strict";var c2=C(),bc=class{type="TextHeader";constructor(e){this.title=new c2(e.title),this.style=e.style}};n(bc,"TextHeader");_x.exports=bc});var vx=l((V8,yx)=>{"use strict";var Ec=class{type="ThumbnailOverlayBottomPanel";constructor(e){this.type=e.icon.iconType}};n(Ec,"ThumbnailOverlayBottomPanel");yx.exports=Ec});var xx=l((Y8,wx)=>{"use strict";var a2=C(),Tc=class{type="ThumbnailOverlayEndorsement";constructor(e){this.text=new a2(e.text).toString()}};n(Tc,"ThumbnailOverlayEndorsement");wx.exports=Tc});var Ex=l((G8,bx)=>{"use strict";var u2=C(),qc=class{type="ThumbnailOverlayHoverText";constructor(e){this.text=new u2(e.text),this.type=e.icon.iconType}};n(qc,"ThumbnailOverlayHoverText");bx.exports=qc});var qx=l(($8,Tx)=>{"use strict";var l2=C(),Sc=class{type="ThumbnailOverlayInlineUnplayable";constructor(e){this.text=new l2(e.text).toString(),this.icon_type=e.icon.iconType}};n(Sc,"ThumbnailOverlayInlineUnplayable");Tx.exports=Sc});var Ix=l((W8,Sx)=>{"use strict";var h2=C(),Ic=class{type="ThumbnailOverlayLoadingPreview";constructor(e){this.text=new h2(e.text)}};n(Ic,"ThumbnailOverlayLoadingPreview");Sx.exports=Ic});var Px=l((J8,Cx)=>{"use strict";var d2=C(),Cc=class{type="ThumbnailOverlayNowPlaying";constructor(e){this.text=new d2(e.text).text}};n(Cc,"ThumbnailOverlayNowPlaying");Cx.exports=Cc});var fx=l((H8,Rx)=>{"use strict";var Pc=class{type="ThumbnailOverlayPinking";constructor(e){this.hack=e.hack}};n(Pc,"ThumbnailOverlayPinking");Rx.exports=Pc});var kx=l((K8,Ax)=>{"use strict";var p2=C(),Rc=class{type="ThumbnailOverlayPlaybackStatus";constructor(e){this.text=e.texts.map(t=>new p2(t))[0].toString()}};n(Rc,"ThumbnailOverlayPlaybackStatus");Ax.exports=Rc});var Ox=l((z8,Lx)=>{"use strict";var fc=class{type="ThumbnailOverlayResumePlayback";constructor(e){this.percent_duration_watched=e.percentDurationWatched}};n(fc,"ThumbnailOverlayResumePlayback");Lx.exports=fc});var Ux=l((X8,Dx)=>{"use strict";var g2=C(),Ac=class{type="ThumbnailOverlaySidePanel";constructor(e){this.text=new g2(e.text),this.type=e.icon.iconType}};n(Ac,"ThumbnailOverlaySidePanel");Dx.exports=Ac});var Nx=l((Q8,Bx)=>{"use strict";var _2=C(),kc=class{type="ThumbnailOverlayTimeStatus";constructor(e){this.text=new _2(e.text).text}};n(kc,"ThumbnailOverlayTimeStatus");Bx.exports=kc});var Vx=l((Z8,Mx)=>{"use strict";var Fx=k(),Lc=class{type="ThumbnailOverlayToggleButton";constructor(e){this.is_toggled=e.isToggled||null,this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new Fx(e.toggledServiceEndpoint),this.untoggled_endpoint=new Fx(e.untoggledServiceEndpoint)}};n(Lc,"ThumbnailOverlayToggleButton");Mx.exports=Lc});var Gx=l((j8,Yx)=>{"use strict";var ll=C(),hl=k(),Oc=class{type="ToggleButton";constructor(e){var i,a,r,o,c,p,d,h;this.text=new ll(e.defaultText),this.toggled_text=new ll(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let t=((a=(i=e==null?void 0:e.defaultText)==null?void 0:i.accessibility)==null?void 0:a.accessibilityData.label)||((r=e==null?void 0:e.accessibilityData)==null?void 0:r.accessibilityData.label)||((o=e==null?void 0:e.accessibility)==null?void 0:o.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(t.replace(/\D/g,"")),this.short_like_count=new ll(e.defaultText).toString()),this.endpoint=((p=(c=e.defaultServiceEndpoint)==null?void 0:c.commandExecutorCommand)==null?void 0:p.commands)&&new hl(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop())||new hl(e.defaultServiceEndpoint),this.toggled_endpoint=new hl(e.toggledServiceEndpoint),this.button_id=((h=(d=e.toggleButtonSupportedData)==null?void 0:d.toggleButtonIdData)==null?void 0:h.id)||null,this.target_id=e.targetId||null}};n(Oc,"ToggleButton");Yx.exports=Oc});var Jx=l((eO,Wx)=>{"use strict";var $x=C(),m2=k(),Dc=class{type="ToggleMenuServiceItem";constructor(e){this.text=new $x(e.defaultText),this.toggled_text=new $x(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.endpoint=new m2(e.toggledServiceEndpoint)}};n(Dc,"ToggleMenuServiceItem");Wx.exports=Dc});var Kx=l((tO,Hx)=>{"use strict";var y2=C(),dl=k(),Uc=class{type="Tooltip";constructor(e){this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(t=>new dl(t)),accept:new dl(e.promoConfig.acceptCommand),dismiss:new dl(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new y2(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Uc,"Tooltip");Hx.exports=Uc});var pl=l((nO,Xx)=>{"use strict";var zx=q(),Bc=class{type="TwoColumnBrowseResults";constructor(e){this.tabs=zx.parse(e.tabs),this.secondary_contents=zx.parse(e.secondaryContents)}};n(Bc,"TwoColumnBrowseResults");Xx.exports=Bc});var jx=l((iO,Zx)=>{"use strict";var Qx=q(),Nc=class{type="TwoColumnSearchResults";constructor(e){this.primary_contents=Qx.parse(e.primaryContents),this.secondary_contents=Qx.parse(e.secondaryContents)}};n(Nc,"TwoColumnSearchResults");Zx.exports=Nc});var t0=l((sO,e0)=>{"use strict";var gl=q(),Fc=class{type="TwoColumnWatchNextResults";constructor(e){var t,i;this.results=gl.parse((t=e.results)==null?void 0:t.results.contents),this.secondary_results=gl.parse((i=e.secondaryResults)==null?void 0:i.secondaryResults.results),this.conversation_bar=gl.parse(e==null?void 0:e.conversationBar)}};n(Fc,"TwoColumnWatchNextResults");e0.exports=Fc});var i0=l((rO,n0)=>{"use strict";var _l=q(),Mc=class{type="UniversalWatchCard";constructor(e){this.header=_l.parse(e.header),this.call_to_action=_l.parse(e.callToAction),this.sections=_l.parse(e.sections)}};n(Mc,"UniversalWatchCard");n0.exports=Mc});var r0=l((oO,s0)=>{"use strict";var v2=q(),w2=C(),Vc=class{type="VerticalList";constructor(e){this.items=v2.parse(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new w2(e.collapsedStateButtonText)}get contents(){return this.items}};n(Vc,"VerticalList");s0.exports=Vc});var c0=l((cO,o0)=>{"use strict";var x2=q(),b2=C(),E2=k(),Yc=class{type="VerticalWatchCardList";constructor(e){this.items=x2.parse(e.items),this.contents=this.items,this.view_all_text=new b2(e.viewAllText),this.view_all_endpoint=new E2(e.viewAllEndpoint)}};n(Yc,"VerticalWatchCardList");o0.exports=Yc});var u0=l((aO,a0)=>{"use strict";var ml=q(),we=C(),T2=ne(),q2=O(),S2=k(),I2=M(),Gc=class{type="Video";constructor(e){var a,r,o,c;let t=((a=e.thumbnailOverlays.find(p=>p.thumbnailOverlayTimeStatusRenderer))==null?void 0:a.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new we(e.title),this.description_snippet=e.descriptionSnippet?new we(e.descriptionSnippet,""):null,this.snippets=((r=e.detailedMetadataSnippets)==null?void 0:r.map(p=>({text:new we(p.snippetText),hover_text:new we(p.snippetHoverText)})))||[],this.thumbnails=q2.fromResponse(e.thumbnail),this.thumbnail_overlays=ml.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&ml.parse(e.richThumbnail),this.author=new T2(e.ownerText,e.ownerBadges,(c=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:c.thumbnail),this.endpoint=new S2(e.navigationEndpoint),this.published=new we(e.publishedTimeText),this.view_count_text=new we(e.viewCountText),this.short_view_count_text=new we(e.shortViewCountText);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:e.lengthText?new we(e.lengthText).text:new we(t).text,seconds:I2.timeToSeconds(e.lengthText?new we(e.lengthText).text:new we(t).text)},this.show_action_menu=e.showActionMenu,this.is_watched=e.isWatched||!1,this.menu=ml.parse(e.menu)}get description(){var e;return this.snippets.length>0?this.snippets.map(t=>t.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){return this.badges.some(e=>e.style==="BADGE_STYLE_TYPE_LIVE_NOW")}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Gc,"Video");a0.exports=Gc});var h0=l((uO,l0)=>{"use strict";var $c=C(),C2=O(),P2=k(),Wc=class{type="VideoInfoCardContent";constructor(e){this.title=new $c(e.videoTitle),this.channel_name=new $c(e.channelName),this.view_count=new $c(e.viewCountText),this.video_thumbnails=C2.fromResponse(e.videoThumbnail),this.duration=new $c(e.lengthString),this.endpoint=new P2(e.action)}};n(Wc,"VideoInfoCardContent");l0.exports=Wc});var p0=l((lO,d0)=>{"use strict";var R2=C(),f2=ne(),Jc=class{type="VideoOwner";constructor(e){this.subscription_button=e.subscriptionButton||null,this.subscriber_count=new R2(e.subscriberCountText),this.author=new f2({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};n(Jc,"VideoOwner");d0.exports=Jc});var _0=l((hO,g0)=>{"use strict";var A2=q(),xn=C(),Hc=class{type="VideoPrimaryInfo";constructor(e){this.title=new xn(e.title),this.super_title_link=new xn(e.superTitleLink),this.view_count=new xn(e.viewCount.videoViewCountRenderer.viewCount),this.short_view_count=new xn(e.viewCount.videoViewCountRenderer.shortViewCount),this.published=new xn(e.dateText),this.menu=A2.parse(e.videoActions)}};n(Hc,"VideoPrimaryInfo");g0.exports=Hc});var y0=l((dO,m0)=>{"use strict";var yl=q(),k2=C(),Kc=class{type="VideoSecondaryInfo";constructor(e){this.owner=yl.parse(e.owner),this.description=new k2(e.description),this.subscribe_button=yl.parse(e.subscribeButton),this.metadata=yl.parse(e.metadataRowContainer),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Kc,"VideoSecondaryInfo");m0.exports=Kc});var w0=l((pO,v0)=>{"use strict";var vl=C(),{timeToSeconds:L2}=M(),zc=class{type="WatchCardCompactVideo";constructor(e){this.title=new vl(e.title),this.subtitle=new vl(e.subtitle),this.duration={text:new vl(e.lengthText).toString(),seconds:L2(e.lengthText.simpleText)},this.style=e.style}};n(zc,"WatchCardCompactVideo");v0.exports=zc});var E0=l((gO,b0)=>{"use strict";var x0=q(),O2=k(),Xc=class{type="WatchCardHeroVideo";constructor(e){this.endpoint=new O2(e.navigationEndpoint),this.call_to_action_button=x0.parse(e.callToActionButton),this.hero_image=x0.parse(e.heroImage),this.label=e.accessibility.accessibilityData.label}};n(Xc,"WatchCardHeroVideo");b0.exports=Xc});var S0=l((_O,q0)=>{"use strict";var D2=ne(),U2=k(),T0=C(),Qc=class{type="WatchCardRichHeader";constructor(e){this.title=new T0(e.title),this.title_endpoint=new U2(e.titleNavigationEndpoint),this.subtitle=new T0(e.subtitle),this.author=new D2(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title,this.style=e.style}};n(Qc,"WatchCardRichHeader");q0.exports=Qc});var C0=l((mO,I0)=>{"use strict";var B2=q(),Zc=class{type="WatchCardSectionSequence";constructor(e){this.lists=B2.parse(e.lists)}};n(Zc,"WatchCardSectionSequence");I0.exports=Zc});var R0=l((yO,P0)=>{"use strict";var N2=q(),F2=C(),jc=class{constructor(e){this.results=N2.parse(e.results),this.title=new F2(e.title).toString()}};n(jc,"WatchNextEndScreen");P0.exports=jc});var A0=l((vO,f0)=>{"use strict";var M2=pl(),ea=class extends M2{type="WatchNextTabbedResults";constructor(e){super(e)}};n(ea,"WatchNextTabbedResults");f0.exports=ea});var L0=l((wO,k0)=>{var V2={AppendContinuationItemsAction:()=>nd(),OpenPopupAction:()=>sd(),AnalyticsMainAppKeyMetrics:()=>cd(),AnalyticsVideo:()=>Cu(),AnalyticsVodCarouselCard:()=>ld(),Author:()=>ne(),BackstageImage:()=>wd(),BackstagePost:()=>ku(),BackstagePostThread:()=>Ed(),BrowseFeedActions:()=>qd(),Button:()=>Bi(),C4TabbedHeader:()=>Cd(),CallToActionButton:()=>Rd(),Card:()=>kd(),CardCollection:()=>Od(),Channel:()=>Ud(),ChannelAboutFullMetadata:()=>Nd(),ChannelFeaturedContent:()=>Md(),ChannelHeaderLinks:()=>Yd(),ChannelMetadata:()=>$d(),ChannelMobileHeader:()=>Jd(),ChannelThumbnailWithLink:()=>Kd(),ChannelVideoPlayer:()=>Xd(),ChildVideo:()=>Zd(),ChipCloud:()=>ep(),ChipCloudChip:()=>np(),CollageHeroImage:()=>sp(),AuthorCommentBadge:()=>op(),Comment:()=>ap(),CommentActionButtons:()=>lp(),CommentReplies:()=>dp(),CommentReplyDialog:()=>mp(),CommentsEntryPointHeader:()=>vp(),CommentsHeader:()=>bp(),CommentSimplebox:()=>qp(),CommentThread:()=>Cp(),CompactLink:()=>Rp(),CompactMix:()=>Lp(),CompactPlaylist:()=>Dp(),CompactVideo:()=>Bp(),ContinuationItem:()=>Fp(),CtaGoToCreatorStudio:()=>Vp(),DataModelSection:()=>Iu(),DidYouMean:()=>Gp(),DownloadButton:()=>Wp(),Element:()=>Hp(),EmergencyOnebox:()=>Xp(),EmojiRun:()=>Ru(),Endscreen:()=>Zp(),EndscreenElement:()=>ng(),EndScreenPlaylist:()=>sg(),EndScreenVideo:()=>cg(),ExpandableTab:()=>ug(),ExpandedShelfContents:()=>hg(),FeedFilterChipBar:()=>pg(),FeedTabbedHeader:()=>_g(),Format:()=>qu(),Grid:()=>yg(),GridChannel:()=>xg(),GridPlaylist:()=>qg(),GridVideo:()=>Ig(),HistorySuggestion:()=>fg(),HorizontalCardList:()=>kg(),HorizontalList:()=>Og(),ItemSection:()=>Bg(),ItemSectionHeader:()=>Fg(),LikeButton:()=>Vg(),LiveChat:()=>Gg(),AddBannerToLiveChatCommand:()=>Wg(),AddChatItemAction:()=>Hg(),AddLiveChatTickerItemAction:()=>zg(),LiveChatBanner:()=>Zg(),LiveChatBannerHeader:()=>e_(),LiveChatBannerPoll:()=>i_(),LiveChatMembershipItem:()=>o_(),LiveChatPaidMessage:()=>u_(),LiveChatPaidSticker:()=>p_(),LiveChatPlaceholderItem:()=>__(),LiveChatTextMessage:()=>Zu(),LiveChatTickerPaidMessageItem:()=>w_(),LiveChatTickerSponsorItem:()=>E_(),LiveChatViewerEngagementMessage:()=>q_(),PollHeader:()=>C_(),LiveChatActionPanel:()=>R_(),MarkChatItemAsDeletedAction:()=>A_(),MarkChatItemsByAuthorAsDeletedAction:()=>L_(),RemoveBannerForLiveChatCommand:()=>D_(),ReplaceChatItemAction:()=>B_(),ReplayChatItemAction:()=>F_(),ShowLiveChatActionPanelAction:()=>V_(),ShowLiveChatTooltipCommand:()=>G_(),UpdateDateTextAction:()=>W_(),UpdateDescriptionAction:()=>H_(),UpdateLiveChatPollAction:()=>z_(),UpdateTitleAction:()=>Q_(),UpdateToggleButtonTextAction:()=>em(),UpdateViewershipAction:()=>im(),LiveChatAuthorBadge:()=>om(),LiveChatHeader:()=>am(),LiveChatItemList:()=>lm(),LiveChatMessageInput:()=>dm(),LiveChatParticipant:()=>gm(),LiveChatParticipantsList:()=>mm(),Menu:()=>wm(),MenuNavigationItem:()=>bm(),MenuServiceItem:()=>Tm(),MenuServiceItemDownload:()=>Sm(),MultiPageMenu:()=>Pm(),MultiPageMenuNotificationSection:()=>fm(),SimpleMenuHeader:()=>km(),MerchandiseItem:()=>Om(),MerchandiseShelf:()=>Bm(),Message:()=>Fm(),MetadataBadge:()=>el(),MetadataRow:()=>Ym(),MetadataRowContainer:()=>$m(),MetadataRowHeader:()=>Jm(),MicroformatData:()=>Km(),Mix:()=>Xm(),Movie:()=>Zm(),MovingThumbnail:()=>ey(),MusicCarouselShelf:()=>iy(),MusicCarouselShelfBasicHeader:()=>oy(),MusicDescriptionShelf:()=>uy(),MusicDetailHeader:()=>dy(),MusicHeader:()=>gy(),MusicImmersiveHeader:()=>yy(),MusicInlineBadge:()=>wy(),MusicItemThumbnailOverlay:()=>by(),MusicNavigationButton:()=>Ty(),MusicPlayButton:()=>Sy(),MusicPlaylistShelf:()=>Cy(),MusicQueue:()=>Ry(),MusicResponsiveListItem:()=>Ny(),MusicResponsiveListItemFixedColumn:()=>My(),MusicResponsiveListItemFlexColumn:()=>Yy(),MusicShelf:()=>Wy(),MusicThumbnail:()=>Hy(),MusicTwoRowItem:()=>Xy(),NavigatableText:()=>Ri(),NavigationEndpoint:()=>k(),Notification:()=>tv(),PlayerAnnotationsExpanded:()=>iv(),PlayerCaptionsTracklist:()=>ov(),PlayerErrorMessage:()=>uv(),PlayerLiveStoryboardSpec:()=>hv(),PlayerMicroformat:()=>gv(),PlayerOverlay:()=>mv(),PlayerOverlayAutoplay:()=>vv(),PlayerStoryboardSpec:()=>xv(),Playlist:()=>gn(),PlaylistAuthor:()=>_t(),PlaylistHeader:()=>Ev(),PlaylistInfoCardContent:()=>qv(),PlaylistMetadata:()=>Iv(),PlaylistPanel:()=>Pv(),PlaylistPanelVideo:()=>Av(),PlaylistSidebar:()=>Lv(),PlaylistSidebarPrimaryInfo:()=>Uv(),PlaylistSidebarSecondaryInfo:()=>Fv(),PlaylistVideo:()=>Yv(),PlaylistVideoList:()=>$v(),PlaylistVideoThumbnail:()=>Jv(),Poll:()=>zv(),Post:()=>Qv(),ProfileColumn:()=>jv(),ProfileColumnStats:()=>tw(),ProfileColumnStatsEntry:()=>sw(),ProfileColumnUserInfo:()=>ow(),ReelItem:()=>uw(),ReelShelf:()=>hw(),RelatedChipCloud:()=>pw(),RichGrid:()=>mw(),RichItem:()=>vw(),RichListHeader:()=>xw(),RichSection:()=>Ew(),RichShelf:()=>qw(),SearchBox:()=>Cw(),SearchRefinementCard:()=>Rw(),SearchSuggestion:()=>Qu(),SearchSuggestionsSection:()=>Aw(),SecondarySearchContainer:()=>Lw(),SectionList:()=>Uw(),Shelf:()=>Fw(),ShowingResultsFor:()=>Yw(),SimpleCardTeaser:()=>$w(),SingleActionEmergencySupport:()=>Jw(),SingleColumnBrowseResults:()=>Kw(),SingleColumnMusicWatchNextResults:()=>Xw(),SingleHeroImage:()=>Zw(),SortFilterSubMenu:()=>ex(),SubFeedOption:()=>nx(),SubFeedSelector:()=>sx(),SubscribeButton:()=>ox(),SubscriptionNotificationToggleButton:()=>ax(),Tab:()=>lx(),Tabbed:()=>dx(),TabbedSearchResults:()=>gx(),Text:()=>C(),TextHeader:()=>mx(),TextRun:()=>Pu(),Thumbnail:()=>O(),ThumbnailOverlayBottomPanel:()=>vx(),ThumbnailOverlayEndorsement:()=>xx(),ThumbnailOverlayHoverText:()=>Ex(),ThumbnailOverlayInlineUnplayable:()=>qx(),ThumbnailOverlayLoadingPreview:()=>Ix(),ThumbnailOverlayNowPlaying:()=>Px(),ThumbnailOverlayPinking:()=>fx(),ThumbnailOverlayPlaybackStatus:()=>kx(),ThumbnailOverlayResumePlayback:()=>Ox(),ThumbnailOverlaySidePanel:()=>Ux(),ThumbnailOverlayTimeStatus:()=>Nx(),ThumbnailOverlayToggleButton:()=>Vx(),ToggleButton:()=>Gx(),ToggleMenuServiceItem:()=>Jx(),Tooltip:()=>Kx(),TwoColumnBrowseResults:()=>pl(),TwoColumnSearchResults:()=>jx(),TwoColumnWatchNextResults:()=>t0(),UniversalWatchCard:()=>i0(),VerticalList:()=>r0(),VerticalWatchCardList:()=>c0(),Video:()=>u0(),VideoDetails:()=>Su(),VideoInfoCardContent:()=>h0(),VideoOwner:()=>p0(),VideoPrimaryInfo:()=>_0(),VideoSecondaryInfo:()=>y0(),WatchCardCompactVideo:()=>w0(),WatchCardHeroVideo:()=>E0(),WatchCardRichHeader:()=>S0(),WatchCardSectionSequence:()=>C0(),WatchNextEndScreen:()=>R0(),WatchNextTabbedResults:()=>A0()};k0.exports=n(function(e){let t=V2[e];if(!t){let i=new Error("Module not found: "+e);throw i.code="MODULE_NOT_FOUND",i}return t()},"req")});var q=l((xO,U0)=>{"use strict";var{InnertubeError:O0,observe:wl}=M(),Y2=qu(),G2=Su(),D0=L0(),ta=class{type="appendContinuationItemsAction";constructor(e){this.contents=j.parse(e.continuationItems)}};n(ta,"AppendContinuationItemsAction");var na=class{type="reloadContinuationItemsCommand";constructor(e){this.target_id=e.targetId,this.contents=j.parse(e.continuationItems)}};n(na,"ReloadContinuationItemsCommand");var ia=class{type="sectionListContinuation";constructor(e){this.contents=j.parse(e.contents),this.continuation=e.continuations[0].nextContinuationData.continuation}};n(ia,"SectionListContinuation");var bn=class{type="timedContinuationData";constructor(e){this.timeout_ms=e.timeoutMs||e.timeUntilLastMessageMsec,this.token=e.continuation}};n(bn,"TimedContinuation");var sa=class{type="liveChatContinuation";constructor(e){var t,i,a,r,o;this.actions=j.parse((t=e.actions)==null?void 0:t.map(c=>(delete c.clickTrackingParams,c)))||[],this.action_panel=j.parse(e.actionPanel),this.item_list=j.parse(e.itemList),this.header=j.parse(e.header),this.participants_list=j.parse(e.participantsList),this.popout_message=j.parse(e.popoutMessage),this.emojis=((i=e.emojis)==null?void 0:i.map(c=>({emoji_id:c.emojiId,shortcuts:c.shortcuts,search_terms:c.searchTerms,image:c.image,is_custom_emoji:c.isCustomEmoji})))||null,this.continuation=new bn(((a=e.continuations)==null?void 0:a[0].timedContinuationData)||((r=e.continuations)==null?void 0:r[0].invalidationContinuationData)||((o=e.continuations)==null?void 0:o[0].liveChatReplayContinuationData)),this.viewer_name=e.viewerName}};n(sa,"LiveChatContinuation");var ue,Ye,xt,Ge,bt,En,xl,U=class{static parseResponse(e){var v,x;L(this,Ge,bt).call(this);let t=U.parse(e.contents),i=u(U,ue);L(this,Ye,xt).call(this),L(this,Ge,bt).call(this);let a=e.onResponseReceivedActions?U.parseRR(e.onResponseReceivedActions):null,r=u(U,ue);L(this,Ye,xt).call(this),L(this,Ge,bt).call(this);let o=e.onResponseReceivedEndpoints?U.parseRR(e.onResponseReceivedEndpoints):null,c=u(U,ue);L(this,Ye,xt).call(this),L(this,Ge,bt).call(this);let p=e.onResponseReceivedCommands?U.parseRR(e.onResponseReceivedCommands):null,d=u(U,ue);L(this,Ye,xt).call(this),L(this,Ge,bt).call(this);let h=e.actions?U.parseActions(e.actions):null,_=u(U,ue);return L(this,Ye,xt).call(this),{actions:h,actions_memo:_,contents:t,contents_memo:i,on_response_received_actions:a,on_response_received_actions_memo:r,on_response_received_endpoints:o,on_response_received_endpoints_memo:c,on_response_received_commands:p,on_response_received_commands_memo:d,continuation:e.continuation?U.parseC(e.continuation):null,continuation_contents:e.continuationContents?U.parseLC(e.continuationContents):null,metadata:U.parse(e.metadata),header:U.parse(e.header),microformat:e.microformat&&U.parse(e.microformat),sidebar:U.parse(e.sidebar),overlay:U.parse(e.overlay),refinements:e.refinements||null,estimated_results:e.estimatedResults||null,player_overlays:U.parse(e.playerOverlays),playability_status:e.playabilityStatus&&{status:e.playabilityStatus.status,error_screen:U.parse(e.playabilityStatus.errorScreen),embeddable:e.playabilityStatus.playableInEmbed||null,reason:e.reason||""},streaming_data:e.streamingData&&{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:U.parseFormats(e.streamingData.formats),adaptive_formats:U.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:((v=e.streamingData)==null?void 0:v.dashManifestUrl)||null,dls_manifest_url:((x=e.streamingData)==null?void 0:x.dashManifestUrl)||null},captions:U.parse(e.captions),video_details:e.videoDetails&&new G2(e.videoDetails),annotations:U.parse(e.annotations),storyboards:U.parse(e.storyboards),endscreen:U.parse(e.endscreen),cards:U.parse(e.cards)}}static parseC(e){if(e.timedContinuationData)return new bn(e.timedContinuationData)}static parseLC(e){if(e.sectionListContinuation)return new ia(e.sectionListContinuation);if(e.liveChatContinuation)return new sa(e.liveChatContinuation)}static parseRR(e){return wl(e.map(t=>{if(t.reloadContinuationItemsCommand)return new na(t.reloadContinuationItemsCommand);if(t.appendContinuationItemsAction)return new ta(t.appendContinuationItemsAction)}).filter(t=>t))}static parseActions(e){return Array.isArray(e)?U.parse(e.map(t=>(delete t.clickTrackingParams,t))):U.parse(e)||null}static parseFormats(e){return wl((e==null?void 0:e.map(t=>new Y2(t)))||[])}static parse(e){if(!e)return null;if(Array.isArray(e)){let a=[];for(let r of e){let o=Object.keys(r),c=this.sanitizeClassName(o[0]);if(!this.shouldIgnore(c))try{let p=D0(c),d=new p(r[o[0]]);a.push(d),L(this,En,xl).call(this,c,d)}catch(p){this.formatError({classname:c,classdata:r[o[0]],err:p})}}return wl(a)}let t=Object.keys(e),i=this.sanitizeClassName(t[0]);if(!this.shouldIgnore(i))try{let a=D0(i),r=new a(e[t[0]]);return L(this,En,xl).call(this,i,r),r}catch(a){return this.formatError({classname:i,classdata:e[t[0]],err:a}),null}}static formatError({classname:e,classdata:t,err:i}){if(i.code=="MODULE_NOT_FOUND")return console.warn(new O0(`${e} not found!
This is a bug, please report it at ${Qn().bugs.url}`,t));console.warn(new O0(`Something went wrong at ${e}!
This is a bug, please report it at ${Qn().bugs.url}`,{stack:i.stack}))}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return["DisplayAd","SearchPyv","MealbarPromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","StatementBanner"].includes(e)}},j=U;n(j,"Parser"),ue=new WeakMap,Ye=new WeakSet,xt=n(function(){I(U,ue,null)},"#clearMemo"),Ge=new WeakSet,bt=n(function(){I(U,ue,new Map)},"#createMemo"),En=new WeakSet,xl=n(function(e,t){if(!!u(U,ue)){if(!u(U,ue).has(e))return u(U,ue).set(e,[t]);u(U,ue).get(e).push(t)}},"#addToMemo"),E(j,Ye),E(j,Ge),E(j,En),E(j,ue,new Map);U0.exports=j});var F0=l((bO,N0)=>{"use strict";var $2=require("uuid"),Re=dt(),ee=M(),W2=_e(),J2=q(),ie,J,oa,B0,ra=class{constructor(e){E(this,oa);E(this,ie,void 0);E(this,J,void 0);I(this,ie,e),I(this,J,e.request)}async browse(e,t={}){if(L(this,oa,B0).call(this,e)&&!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={};return t.params&&(i.params=t.params),t.is_ctoken?i.continuation=e:i.browseId=e,t.client&&(i.client=t.client),await u(this,J).post("/browse",i)}async engage(e,t={}){if(!u(this,ie).logged_in&&!t.hasOwnProperty("text"))throw new ee.InnertubeError("You are not signed in");let i={};switch(e){case"like/like":case"like/dislike":case"like/removelike":i.target={},i.target.videoId=t.video_id,t.params&&(i.params=t.params);break;case"subscription/subscribe":case"subscription/unsubscribe":i.channelIds=[t.channel_id],i.params=e==="subscription/subscribe"?"EgIIAhgA":"CgIIAhgA";break;case"comment/create_comment":i.commentText=t.text,i.createCommentParams=Re.encodeCommentParams(t.video_id);break;case"comment/create_comment_reply":i.createReplyParams=Re.encodeCommentReplyParams(t.comment_id,t.video_id),i.commentText=t.text;break;case"comment/perform_comment_action":let r=(()=>{switch(t.comment_action){case"like":return Re.encodeCommentActionParams(5,t);case"dislike":return Re.encodeCommentActionParams(4,t);case"translate":return Re.encodeCommentActionParams(22,t);default:break}})();i.actions=[r];break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async account(e,t={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={client:t.client};switch(e){case"account/set_setting":i.newValue={boolValue:t.new_value},i.settingItemId=t.setting_item_id;break;case"account/accounts_list":break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async search(e={}){let t={client:e.client};return e.query&&(t.query=e.query),e.ctoken&&(t.continuation=e.ctoken),e.params&&(t.params=e.params),e.filters&&(e.client=="YTMUSIC"?t.params=Re.encodeMusicSearchFilters(e.filters):t.params=Re.encodeSearchFilters(e.filters)),await u(this,J).post("/search",t)}async searchSound(e={}){let t={query:e.query,client:"ANDROID"};return await u(this,J).post("/sfv/search",t)}async channel(e,t={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={client:t.client||"ANDROID"};switch(e){case"channel/edit_name":i.givenName=t.new_name;break;case"channel/edit_description":i.description=t.new_description;break;case"channel/get_profile_editor":break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async playlist(e,t={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={};switch(e){case"playlist/create":i.title=t.title,i.videoIds=t.ids;break;case"playlist/delete":i.playlistId=t.playlist_id;break;case"browse/edit_playlist":i.playlistId=t.playlist_id,i.actions=t.ids.map(r=>{switch(t.action){case"ACTION_ADD_VIDEO":return{action:t.action,addedVideoId:r};case"ACTION_REMOVE_VIDEO":return{action:t.action,setVideoId:r};default:break}});break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async notifications(e,t={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={};switch(e){case"modify_channel_preference":let r={PERSONALIZED:1,ALL:2,NONE:3};i.params=Re.encodeNotificationPref(t.channel_id,r[t.pref.toUpperCase()]);break;case"get_notification_menu":i.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX",t.ctoken&&(i.ctoken=t.ctoken);break;case"record_interactions":i.serializedRecordNotificationInteractionsRequest=t.params;break;case"get_unseen_count":break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/notification/${e}`,i)}async livechat(e,t={}){let i={client:t.client};switch(e){case"live_chat/get_live_chat":case"live_chat/get_live_chat_replay":i.continuation=t.ctoken;break;case"live_chat/send_message":i.params=Re.encodeMessageParams(t.channel_id,t.video_id),i.clientMessageId=$2.v4(),i.richMessage={textSegments:[{text:t.text}]};break;case"live_chat/get_item_context_menu":break;case"live_chat/moderate":i.params=t.params;break;case"updated_metadata":i.videoId=t.video_id,t.ctoken&&(i.continuation=t.ctoken);break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async thumbnails(e={}){let t={client:"ANDROID",videoId:e.video_id};return await u(this,J).post("/thumbnails",t)}async geo(e,t={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={input:t.input,client:"ANDROID"};return await u(this,J).post(`/geo/${e}`,i)}async flag(e,t){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let i={};switch(e){case"flag/flag":i.action=t.action;break;case"flag/get_form":i.params=t.params;break;default:throw new ee.InnertubeError("Action not implemented",e)}return await u(this,J).post(`/${e}`,i)}async music(e,t){let i={input:t.input||"",client:"YTMUSIC"};return await u(this,J).post(`/music/${e}`,i)}async next(e={}){let t={client:e.client};return e.ctoken&&(t.continuation=e.ctoken),e.video_id&&(t.videoId=e.video_id),await u(this,J).post("/next",t)}async getVideoInfo(e,t,i){let a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"https://www.youtube.com",currentUrl:`/watch?v=${e}`,autonavState:"STATE_OFF",signatureTimestamp:u(this,ie).sts,autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"}},attestationRequest:{omitBotguardData:!0},videoId:e};return i&&(a.client=i),t&&(a.cpn=t),(await u(this,J).post("/player",a)).data}async getSearchSuggestions(e,t){if(!["YOUTUBE","YTMUSIC"].includes(e))throw new ee.InnertubeError("Invalid client",e);return await{YOUTUBE:()=>u(this,J).call(this,{url:"search",baseURL:W2.URLS.YT_SUGGESTIONS,params:{q:t,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:u(this,ie).context.client.gl,hl:u(this,ie).context.client.hl}}),YTMUSIC:()=>this.music("get_search_suggestions",{input:t})}[e]()}async getUserMentionSuggestions(e={}){if(!u(this,ie).logged_in)throw new ee.InnertubeError("You are not signed in");let t={input:e.input,client:"ANDROID"};return await u(this,J).post("get_user_mention_suggestions",t)}async execute(e,t){let i={...t};Reflect.has(i,"parse")&&delete i.parse,Reflect.has(i,"request")&&delete i.request,Reflect.has(i,"clientActions")&&delete i.clientActions,Reflect.has(i,"action")&&(i.actions=[i.action],delete i.action),Reflect.has(i,"token")&&(i.continuation=i.token,delete i.token);let a=await u(this,J).post(e,i);return t.parse?J2.parseResponse(a.data):a}};n(ra,"Actions"),ie=new WeakMap,J=new WeakMap,oa=new WeakSet,B0=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"#needsLogin");N0.exports=ra});var V0=l(bl=>{"use strict";var{SIG_REGEX:M0}=_e(),Et=bl.SignatureOperation={REVERSE:0,SPLICE:1,SWAP:2},Ce=class{constructor(e){this.action_sequence=e}static fromSourceCode(e){let t,i=[],a=Ce.getFunctions(e);for(;(t=M0.ACTIONS.exec(e))!==null;){let r=t.groups;if(!!r)switch(r.name){case a[0]:i.push([Et.REVERSE,0]);break;case a[1]:i.push([Et.SPLICE,parseInt(r.param)]);break;case a[2]:i.push([Et.SWAP,parseInt(r.param)]);break;default:}}return new Ce(i)}decipher(e){var a;let i=(a=new URLSearchParams(e).get("s"))==null?void 0:a.split("");if(!i)throw new TypeError("Invalid signature");for(let r of this.action_sequence)switch(r[0]){case Et.REVERSE:i.reverse();break;case Et.SPLICE:i.splice(0,r[1]);break;case Et.SWAP:{let o=r[1],c=i[0];i[0]=i[o%i.length],i[o%i.length]=c}break;default:break}return i.join("")}toJSON(){return[...this.action_sequence]}toArrayBuffer(){let e=new ArrayBuffer(8+this.action_sequence.length*3),t=new DataView(e),i=0;t.setUint32(i,Ce.LIBRARY_VERSION,!0),i+=4,t.setUint32(i,this.action_sequence.length,!0),i+=4;for(let a=0;a<this.action_sequence.length;a++)t.setUint8(i,this.action_sequence[a][0]),i+=1,t.setUint16(i,this.action_sequence[a][1],!0),i+=2;return e}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==Ce.LIBRARY_VERSION)throw new TypeError("Invalid library version");let r=t.getUint32(i,!0);i+=4;let o=new Array(r);for(let c=0;c<r;c++)o[c]=[t.getUint8(i),t.getUint16(i+1,!0)],i+=3;return new Ce(o)}static getFunctions(e){let t,i=[];for(;(t=M0.FUNCTIONS.exec(e))!==null;)t[0].includes("reverse")?i[0]=t[1]:t[0].includes("splice")?i[1]=t[1]:i[2]=t[1];return i}static get LIBRARY_VERSION(){return 1}};n(Ce,"Signature");bl.default=Ce});var Tl=l(El=>{"use strict";Object.defineProperty(El,"__esModule",{value:!0});El.DEFAULT_ENCODING="utf-8"});var X=l(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});function H2(s,e){if(e===void 0&&(e=void 0),s)throw TypeError("Decoder error");return e||65533}n(H2,"decoderError");Tt.decoderError=H2;function K2(s){throw TypeError("The code point "+s+" could not be encoded.")}n(K2,"encoderError");Tt.encoderError=K2;function z2(s){var e=String(s).trim().toLowerCase();return e in ql?ql[e]:null}n(z2,"getEncoding");Tt.getEncoding=z2;var Y0=[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"UTF-8"}],heading:"The Encoding"},{encodings:[{labels:["866","cp866","csibm866","ibm866"],name:"IBM866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso88592","iso_8859-2","iso_8859-2:1987","l2","latin2"],name:"ISO-8859-2"},{labels:["csisolatin3","iso-8859-3","iso-ir-109","iso8859-3","iso88593","iso_8859-3","iso_8859-3:1988","l3","latin3"],name:"ISO-8859-3"},{labels:["csisolatin4","iso-8859-4","iso-ir-110","iso8859-4","iso88594","iso_8859-4","iso_8859-4:1988","l4","latin4"],name:"ISO-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso-ir-144","iso8859-5","iso88595","iso_8859-5","iso_8859-5:1988"],name:"ISO-8859-5"},{labels:["arabic","asmo-708","csiso88596e","csiso88596i","csisolatinarabic","ecma-114","iso-8859-6","iso-8859-6-e","iso-8859-6-i","iso-ir-127","iso8859-6","iso88596","iso_8859-6","iso_8859-6:1987"],name:"ISO-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso-ir-126","iso8859-7","iso88597","iso_8859-7","iso_8859-7:1987","sun_eu_greek"],name:"ISO-8859-7"},{labels:["csiso88598e","csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-e","iso-ir-138","iso8859-8","iso88598","iso_8859-8","iso_8859-8:1988","visual"],name:"ISO-8859-8"},{labels:["csiso88598i","iso-8859-8-i","logical"],name:"ISO-8859-8-I"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","iso885910","l6","latin6"],name:"ISO-8859-10"},{labels:["iso-8859-13","iso8859-13","iso885913"],name:"ISO-8859-13"},{labels:["iso-8859-14","iso8859-14","iso885914"],name:"ISO-8859-14"},{labels:["csisolatin9","iso-8859-15","iso8859-15","iso885915","iso_8859-15","l9"],name:"ISO-8859-15"},{labels:["iso-8859-16"],name:"ISO-8859-16"},{labels:["cskoi8r","koi","koi8","koi8-r","koi8_r"],name:"KOI8-R"},{labels:["koi8-ru","koi8-u"],name:"KOI8-U"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["dos-874","iso-8859-11","iso8859-11","iso885911","tis-620","windows-874"],name:"windows-874"},{labels:["cp1250","windows-1250","x-cp1250"],name:"windows-1250"},{labels:["cp1251","windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ansi_x3.4-1968","cp1252","cp819","ibm819","iso-ir-100","windows-1252","x-cp1252"],name:"windows-1252"},{labels:["ascii","us-ascii","iso-8859-1","iso8859-1","iso88591","iso_8859-1","iso_8859-1:1987","l1","latin1","csisolatin1"],name:"iso-8859-1"},{labels:["cp1253","windows-1253","x-cp1253"],name:"windows-1253"},{labels:["cp1254","csisolatin5","iso-8859-9","iso-ir-148","iso8859-9","iso88599","iso_8859-9","iso_8859-9:1989","l5","latin5","windows-1254","x-cp1254"],name:"windows-1254"},{labels:["cp1255","windows-1255","x-cp1255"],name:"windows-1255"},{labels:["cp1256","windows-1256","x-cp1256"],name:"windows-1256"},{labels:["cp1257","windows-1257","x-cp1257"],name:"windows-1257"},{labels:["cp1258","windows-1258","x-cp1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gb_2312","gb_2312-80","gbk","iso-ir-58","x-gbk"],name:"GBK"},{labels:["gb18030"],name:"gb18030"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"Big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"EUC-JP"},{labels:["csiso2022jp","iso-2022-jp"],name:"ISO-2022-JP"},{labels:["csshiftjis","ms932","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"Shift_JIS"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"EUC-KR"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["csiso2022kr","hz-gb-2312","iso-2022-cn","iso-2022-cn-ext","iso-2022-kr"],name:"replacement"},{labels:["utf-16be"],name:"UTF-16BE"},{labels:["utf-16","utf-16le"],name:"UTF-16LE"},{labels:["x-user-defined"],name:"x-user-defined"}],heading:"Legacy miscellaneous encodings"}];Tt.encodings=Y0;var ql={};Y0.forEach(function(s){s.encodings.forEach(function(e){e.labels.forEach(function(t){ql[t]=e})})})});var W=l(Sl=>{"use strict";Object.defineProperty(Sl,"__esModule",{value:!0});Sl.finished=-1});var G0=l(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});function X2(s){return Array.isArray(s)?s:[s]}n(X2,"getArrayVal");Il.getArrayVal=X2});var te=l(it=>{"use strict";Object.defineProperty(it,"__esModule",{value:!0});function Q2(s,e,t){return e<=s&&s<=t}n(Q2,"inRange");it.inRange=Q2;function Z2(s,e){return s.indexOf(e)!==-1}n(Z2,"includes");it.includes=Z2;function j2(s){if(s==null)return{};if(s===Object(s))return s;throw TypeError("Could not convert argument to dictionary")}n(j2,"ToDictionary");it.ToDictionary=j2;function eP(s){for(var e=String(s),t=e.length,i=0,a=[];i<t;){var r=e.charCodeAt(i);if(r<55296||r>57343)a.push(r);else if(56320<=r&&r<=57343)a.push(65533);else if(55296<=r&&r<=56319)if(i===t-1)a.push(65533);else{var o=e.charCodeAt(i+1);if(56320<=o&&o<=57343){var c=r&1023,p=o&1023;a.push(65536+(c<<10)+p),i+=1}else a.push(65533)}i+=1}return a}n(eP,"stringToCodePoints");it.stringToCodePoints=eP;function tP(s){for(var e="",t=0;t<s.length;++t){var i=s[t];i<=65535?e+=String.fromCharCode(i):(i-=65536,e+=String.fromCharCode((i>>10)+55296,(i&1023)+56320))}return e}n(tP,"codePointsToString");it.codePointsToString=tP});var Pl=l(Cl=>{"use strict";Object.defineProperty(Cl,"__esModule",{value:!0});function nP(){if(typeof global<"u")return global;if(typeof window<"u")return window;if(typeof self<"u")return self}n(nP,"getGlobalScope");Cl.getGlobalScope=nP});var Al=l(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});var iP=Pl(),Rl;function sP(){if(typeof TextEncodingIndexes<"u")return TextEncodingIndexes.encodingIndexes;var s=iP.getGlobalScope();return s?"TextEncodingIndexes"in s?global.TextEncodingIndexes.encodingIndexes:"encoding-indexes"in s?global.encodingIndexes:null:null}n(sP,"checkForEncodingIndexes");function rP(){if(Rl)return Rl;var s=sP();return s?(Rl=s,s):null}n(rP,"getEncodingIndexes");fl.getEncodingIndexes=rP});var re=l(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});var $0=G0(),oP=te(),cP=Al();function aP(s,e){return e&&e[s]||null}n(aP,"indexCodePointFor");fe.indexCodePointFor=aP;function W0(s,e){var t=e.indexOf(s);return t===-1?null:t}n(W0,"indexPointerFor");fe.indexPointerFor=W0;function Tn(s){var e=cP.getEncodingIndexes();if(!e)throw Error("Indexes missing. Did you forget to include encoding-indexes.js first?");return e[s]}n(Tn,"index");fe.index=Tn;function uP(s){if(s>39419&&s<189e3||s>1237575)return null;if(s===7457)return 59335;for(var e=0,t=0,i=Tn("gb18030-ranges"),a=0;a<i.length;++a){var r=$0.getArrayVal(i[a]);if(r[0]<=s)e=r[0],t=r[1];else break}return t+s-e}n(uP,"indexGB18030RangesCodePointFor");fe.indexGB18030RangesCodePointFor=uP;function lP(s){if(s===59335)return 7457;for(var e=0,t=0,i=Tn("gb18030-ranges"),a=0;a<i.length;++a){var r=i[a],o=$0.getArrayVal(r);if(o[1]<=s)e=o[1],t=o[0];else break}return t+s-e}n(lP,"indexGB18030RangesPointerFor");fe.indexGB18030RangesPointerFor=lP;function hP(s){kl=kl||Tn("jis0208").map(function(t,i){return oP.inRange(i,8272,8835)?null:t});var e=kl;return e.indexOf(s)}n(hP,"indexShiftJISPointerFor");fe.indexShiftJISPointerFor=hP;var kl;function dP(s){Ll=Ll||Tn("big5").map(function(t,i){return i<(161-129)*157?null:t});var e=Ll;return s===9552||s===9566||s===9569||s===9578||s===21313||s===21317?e.lastIndexOf(s):W0(s,e)}n(dP,"indexBig5PointerFor");fe.indexBig5PointerFor=dP;var Ll});var $=l(qn=>{"use strict";Object.defineProperty(qn,"__esModule",{value:!0});function J0(s){return 0<=s&&s<=127}n(J0,"isASCIIByte");qn.isASCIIByte=J0;qn.isASCIICodePoint=J0;qn.end_of_stream=-1});var K0=l(Ul=>{"use strict";Object.defineProperty(Ul,"__esModule",{value:!0});var Ol=X(),pP=W(),H0=re(),ca=$(),Dl=te(),gP=function(){function s(e){this.fatal=e.fatal,this.Big5_lead=0}return n(s,"Big5Decoder"),s.prototype.handler=function(e,t){if(t===ca.end_of_stream&&this.Big5_lead!==0)return this.Big5_lead=0,Ol.decoderError(this.fatal);if(t===ca.end_of_stream&&this.Big5_lead===0)return pP.finished;if(this.Big5_lead!==0){var i=this.Big5_lead,a=null;this.Big5_lead=0;var r=t<127?64:98;switch((Dl.inRange(t,64,126)||Dl.inRange(t,161,254))&&(a=(i-129)*157+(t-r)),a){case 1133:return[202,772];case 1135:return[202,780];case 1164:return[234,772];case 1166:return[234,780]}var o=a===null?null:H0.indexCodePointFor(a,H0.index("big5"));return o===null&&ca.isASCIIByte(t)&&e.prepend(t),o===null?Ol.decoderError(this.fatal):o}return ca.isASCIIByte(t)?t:Dl.inRange(t,129,254)?(this.Big5_lead=t,null):Ol.decoderError(this.fatal)},s}();Ul.Big5Decoder=gP});var Q0=l(Bl=>{"use strict";Object.defineProperty(Bl,"__esModule",{value:!0});var z0=X(),_P=W(),mP=re(),X0=$(),yP=function(){function s(e){this.fatal=e.fatal}return n(s,"Big5Encoder"),s.prototype.handler=function(e,t){if(t===X0.end_of_stream)return _P.finished;if(X0.isASCIICodePoint(t))return t;var i=mP.indexBig5PointerFor(t);if(i===null)return z0.encoderError(t);var a=Math.floor(i/157)+129;if(a<161)return z0.encoderError(t);var r=i%157,o=r<63?64:98;return[a,r+o]},s}();Bl.Big5Encoder=yP});var j0=l(aa=>{"use strict";function Z0(s){for(var e in s)aa.hasOwnProperty(e)||(aa[e]=s[e])}n(Z0,"__export");Object.defineProperty(aa,"__esModule",{value:!0});Z0(K0());Z0(Q0())});var tb=l(Ml=>{"use strict";Object.defineProperty(Ml,"__esModule",{value:!0});var Nl=X(),vP=W(),eb=re(),Fl=$(),qt=te(),wP=function(){function s(e){this.fatal=e.fatal,this.eucjp_jis0212_flag=!1,this.eucjp_lead=0}return n(s,"EUCJPDecoder"),s.prototype.handler=function(e,t){if(t===Fl.end_of_stream&&this.eucjp_lead!==0)return this.eucjp_lead=0,Nl.decoderError(this.fatal);if(t===Fl.end_of_stream&&this.eucjp_lead===0)return vP.finished;if(this.eucjp_lead===142&&qt.inRange(t,161,223))return this.eucjp_lead=0,65377-161+t;if(this.eucjp_lead===143&&qt.inRange(t,161,254))return this.eucjp_jis0212_flag=!0,this.eucjp_lead=t,null;if(this.eucjp_lead!==0){var i=this.eucjp_lead;this.eucjp_lead=0;var a=null;return qt.inRange(i,161,254)&&qt.inRange(t,161,254)&&(a=eb.indexCodePointFor((i-161)*94+(t-161),eb.index(this.eucjp_jis0212_flag?"jis0212":"jis0208"))),this.eucjp_jis0212_flag=!1,qt.inRange(t,161,254)||e.prepend(t),a===null?Nl.decoderError(this.fatal):a}return Fl.isASCIIByte(t)?t:t===142||t===143||qt.inRange(t,161,254)?(this.eucjp_lead=t,null):Nl.decoderError(this.fatal)},s}();Ml.EUCJPDecoder=wP});var sb=l(Vl=>{"use strict";Object.defineProperty(Vl,"__esModule",{value:!0});var xP=X(),bP=W(),nb=re(),ib=$(),EP=te(),TP=function(){function s(e){this.fatal=e.fatal}return n(s,"EUCJPEncoder"),s.prototype.handler=function(e,t){if(t===ib.end_of_stream)return bP.finished;if(ib.isASCIICodePoint(t))return t;if(t===165)return 92;if(t===8254)return 126;if(EP.inRange(t,65377,65439))return[142,t-65377+161];t===8722&&(t=65293);var i=nb.indexPointerFor(t,nb.index("jis0208"));if(i===null)return xP.encoderError(t);var a=Math.floor(i/94)+161,r=i%94+161;return[a,r]},s}();Vl.EUCJPEncoder=TP});var ob=l(ua=>{"use strict";function rb(s){for(var e in s)ua.hasOwnProperty(e)||(ua[e]=s[e])}n(rb,"__export");Object.defineProperty(ua,"__esModule",{value:!0});rb(tb());rb(sb())});var ub=l(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});var Yl=X(),qP=W(),cb=re(),la=$(),ab=te(),SP=function(){function s(e){this.fatal=e.fatal,this.euckr_lead=0}return n(s,"EUCKRDecoder"),s.prototype.handler=function(e,t){if(t===la.end_of_stream&&this.euckr_lead!==0)return this.euckr_lead=0,Yl.decoderError(this.fatal);if(t===la.end_of_stream&&this.euckr_lead===0)return qP.finished;if(this.euckr_lead!==0){var i=this.euckr_lead,a=null;this.euckr_lead=0,ab.inRange(t,65,254)&&(a=(i-129)*190+(t-65));var r=a===null?null:cb.indexCodePointFor(a,cb.index("euc-kr"));return a===null&&la.isASCIIByte(t)&&e.prepend(t),r===null?Yl.decoderError(this.fatal):r}return la.isASCIIByte(t)?t:ab.inRange(t,129,254)?(this.euckr_lead=t,null):Yl.decoderError(this.fatal)},s}();Gl.EUCKRDecoder=SP});var db=l($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});var IP=X(),CP=W(),lb=re(),hb=$(),PP=function(){function s(e){this.fatal=e.fatal}return n(s,"EUCKREncoder"),s.prototype.handler=function(e,t){if(t===hb.end_of_stream)return CP.finished;if(hb.isASCIICodePoint(t))return t;var i=lb.indexPointerFor(t,lb.index("euc-kr"));if(i===null)return IP.encoderError(t);var a=Math.floor(i/190)+129,r=i%190+65;return[a,r]},s}();$l.EUCKREncoder=PP});var gb=l(ha=>{"use strict";function pb(s){for(var e in s)ha.hasOwnProperty(e)||(ha[e]=s[e])}n(pb,"__export");Object.defineProperty(ha,"__esModule",{value:!0});pb(ub());pb(db())});var _b=l(Jl=>{"use strict";Object.defineProperty(Jl,"__esModule",{value:!0});var Sn=X(),RP=W(),Wl=re(),da=$(),St=te(),fP=function(){function s(e){this.fatal=e.fatal,this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0}return n(s,"GB18030Decoder"),s.prototype.handler=function(e,t){if(t===da.end_of_stream&&this.gb18030_first===0&&this.gb18030_second===0&&this.gb18030_third===0)return RP.finished;t===da.end_of_stream&&(this.gb18030_first!==0||this.gb18030_second!==0||this.gb18030_third!==0)&&(this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0,Sn.decoderError(this.fatal));var i;if(this.gb18030_third!==0){i=null,St.inRange(t,48,57)&&(i=Wl.indexGB18030RangesCodePointFor((((this.gb18030_first-129)*10+this.gb18030_second-48)*126+this.gb18030_third-129)*10+t-48));var a=[this.gb18030_second,this.gb18030_third,t];return this.gb18030_first=0,this.gb18030_second=0,this.gb18030_third=0,i===null?(e.prepend(a),Sn.decoderError(this.fatal)):i}if(this.gb18030_second!==0)return St.inRange(t,129,254)?(this.gb18030_third=t,null):(e.prepend([this.gb18030_second,t]),this.gb18030_first=0,this.gb18030_second=0,Sn.decoderError(this.fatal));if(this.gb18030_first!==0){if(St.inRange(t,48,57))return this.gb18030_second=t,null;var r=this.gb18030_first,o=null;this.gb18030_first=0;var c=t<127?64:65;return(St.inRange(t,64,126)||St.inRange(t,128,254))&&(o=(r-129)*190+(t-c)),i=o===null?null:Wl.indexCodePointFor(o,Wl.index("gb18030")),i===null&&da.isASCIIByte(t)&&e.prepend(t),i===null?Sn.decoderError(this.fatal):i}return da.isASCIIByte(t)?t:t===128?8364:St.inRange(t,129,254)?(this.gb18030_first=t,null):Sn.decoderError(this.fatal)},s}();Jl.GB18030Decoder=fP});var vb=l(Kl=>{"use strict";Object.defineProperty(Kl,"__esModule",{value:!0});var mb=X(),AP=W(),Hl=re(),yb=$(),kP=function(){function s(e,t){t===void 0&&(t=void 0),this.gbk_flag=t,this.fatal=e.fatal}return n(s,"GB18030Encoder"),s.prototype.handler=function(e,t){if(t===yb.end_of_stream)return AP.finished;if(yb.isASCIICodePoint(t))return t;if(t===58853)return mb.encoderError(t);if(this.gbk_flag&&t===8364)return 128;var i=Hl.indexPointerFor(t,Hl.index("gb18030"));if(i!==null){var a=Math.floor(i/190)+129,r=i%190,o=r<63?64:65;return[a,r+o]}if(this.gbk_flag)return mb.encoderError(t);i=Hl.indexGB18030RangesPointerFor(t);var c=Math.floor(i/10/126/10);i=i-c*10*126*10;var p=Math.floor(i/10/126);i=i-p*10*126;var d=Math.floor(i/10),h=i-d*10;return[c+129,p+48,d+129,h+48]},s}();Kl.GB18030Encoder=kP});var xb=l(pa=>{"use strict";function wb(s){for(var e in s)pa.hasOwnProperty(e)||(pa[e]=s[e])}n(wb,"__export");Object.defineProperty(pa,"__esModule",{value:!0});wb(_b());wb(vb())});var Eb=l(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});var xe=X(),ga=W(),bb=re(),In=$(),Cn=te(),Y;(function(s){s[s.ASCII=0]="ASCII",s[s.Roman=1]="Roman",s[s.Katakana=2]="Katakana",s[s.LeadByte=3]="LeadByte",s[s.TrailByte=4]="TrailByte",s[s.EscapeStart=5]="EscapeStart",s[s.Escape=6]="Escape"})(Y||(Y={}));var LP=function(){function s(e){this.fatal=e.fatal,this.iso2022jp_decoder_state=Y.ASCII,this.iso2022jp_decoder_output_state=Y.ASCII,this.iso2022jp_lead=0,this.iso2022jp_output_flag=!1}return n(s,"ISO2022JPDecoder"),s.prototype.handler=function(e,t){switch(this.iso2022jp_decoder_state){default:case Y.ASCII:return t===27?(this.iso2022jp_decoder_state=Y.EscapeStart,null):Cn.inRange(t,0,127)&&t!==14&&t!==15&&t!==27?(this.iso2022jp_output_flag=!1,t):t===In.end_of_stream?ga.finished:(this.iso2022jp_output_flag=!1,xe.decoderError(this.fatal));case Y.Roman:return t===27?(this.iso2022jp_decoder_state=Y.EscapeStart,null):t===92?(this.iso2022jp_output_flag=!1,165):t===126?(this.iso2022jp_output_flag=!1,8254):Cn.inRange(t,0,127)&&t!==14&&t!==15&&t!==27&&t!==92&&t!==126?(this.iso2022jp_output_flag=!1,t):t===In.end_of_stream?ga.finished:(this.iso2022jp_output_flag=!1,xe.decoderError(this.fatal));case Y.Katakana:return t===27?(this.iso2022jp_decoder_state=Y.EscapeStart,null):Cn.inRange(t,33,95)?(this.iso2022jp_output_flag=!1,65377-33+t):t===In.end_of_stream?ga.finished:(this.iso2022jp_output_flag=!1,xe.decoderError(this.fatal));case Y.LeadByte:return t===27?(this.iso2022jp_decoder_state=Y.EscapeStart,null):Cn.inRange(t,33,126)?(this.iso2022jp_output_flag=!1,this.iso2022jp_lead=t,this.iso2022jp_decoder_state=Y.TrailByte,null):t===In.end_of_stream?ga.finished:(this.iso2022jp_output_flag=!1,xe.decoderError(this.fatal));case Y.TrailByte:if(t===27)return this.iso2022jp_decoder_state=Y.EscapeStart,xe.decoderError(this.fatal);if(Cn.inRange(t,33,126)){this.iso2022jp_decoder_state=Y.LeadByte;var i=(this.iso2022jp_lead-33)*94+t-33,a=bb.indexCodePointFor(i,bb.index("jis0208"));return a===null?xe.decoderError(this.fatal):a}return t===In.end_of_stream?(this.iso2022jp_decoder_state=Y.LeadByte,e.prepend(t),xe.decoderError(this.fatal)):(this.iso2022jp_decoder_state=Y.LeadByte,xe.decoderError(this.fatal));case Y.EscapeStart:return t===36||t===40?(this.iso2022jp_lead=t,this.iso2022jp_decoder_state=Y.Escape,null):(e.prepend(t),this.iso2022jp_output_flag=!1,this.iso2022jp_decoder_state=this.iso2022jp_decoder_output_state,xe.decoderError(this.fatal));case Y.Escape:var r=this.iso2022jp_lead;this.iso2022jp_lead=0;var o=null;if(r===40&&t===66&&(o=Y.ASCII),r===40&&t===74&&(o=Y.Roman),r===40&&t===73&&(o=Y.Katakana),r===36&&(t===64||t===66)&&(o=Y.LeadByte),o!==null){this.iso2022jp_decoder_state=this.iso2022jp_decoder_state=o;var c=this.iso2022jp_output_flag;return this.iso2022jp_output_flag=!0,c?xe.decoderError(this.fatal):null}return e.prepend([r,t]),this.iso2022jp_output_flag=!1,this.iso2022jp_decoder_state=this.iso2022jp_decoder_output_state,xe.decoderError(this.fatal)}},s}();zl.ISO2022JPDecoder=LP});var Sb=l(Xl=>{"use strict";Object.defineProperty(Xl,"__esModule",{value:!0});var Tb=X(),OP=W(),qb=re(),It=$(),se;(function(s){s[s.ASCII=0]="ASCII",s[s.Roman=1]="Roman",s[s.jis0208=2]="jis0208"})(se||(se={}));var DP=function(){function s(e){this.fatal=e.fatal,this.iso2022jp_state=se.ASCII}return n(s,"ISO2022JPEncoder"),s.prototype.handler=function(e,t){if(t===It.end_of_stream&&this.iso2022jp_state!==se.ASCII)return e.prepend(t),this.iso2022jp_state=se.ASCII,[27,40,66];if(t===It.end_of_stream&&this.iso2022jp_state===se.ASCII)return OP.finished;if((this.iso2022jp_state===se.ASCII||this.iso2022jp_state===se.Roman)&&(t===14||t===15||t===27))return Tb.encoderError(65533);if(this.iso2022jp_state===se.ASCII&&It.isASCIICodePoint(t))return t;if(this.iso2022jp_state===se.Roman&&(It.isASCIICodePoint(t)&&t!==92&&t!==126||t==165||t==8254)){if(It.isASCIICodePoint(t))return t;if(t===165)return 92;if(t===8254)return 126}if(It.isASCIICodePoint(t)&&this.iso2022jp_state!==se.ASCII)return e.prepend(t),this.iso2022jp_state=se.ASCII,[27,40,66];if((t===165||t===8254)&&this.iso2022jp_state!==se.Roman)return e.prepend(t),this.iso2022jp_state=se.Roman,[27,40,74];t===8722&&(t=65293);var i=qb.indexPointerFor(t,qb.index("jis0208"));if(i===null)return Tb.encoderError(t);if(this.iso2022jp_state!==se.jis0208)return e.prepend(t),this.iso2022jp_state=se.jis0208,[27,36,66];var a=Math.floor(i/94)+33,r=i%94+33;return[a,r]},s}();Xl.ISO2022JPEncoder=DP});var Cb=l(_a=>{"use strict";function Ib(s){for(var e in s)_a.hasOwnProperty(e)||(_a[e]=s[e])}n(Ib,"__export");Object.defineProperty(_a,"__esModule",{value:!0});Ib(Eb());Ib(Sb())});var Rb=l(Zl=>{"use strict";Object.defineProperty(Zl,"__esModule",{value:!0});var Ql=X(),UP=W(),Pb=re(),ma=$(),Ct=te(),BP=function(){function s(e){this.fatal=e.fatal,this.Shift_JIS_lead=0}return n(s,"ShiftJISDecoder"),s.prototype.handler=function(e,t){if(t===ma.end_of_stream&&this.Shift_JIS_lead!==0)return this.Shift_JIS_lead=0,Ql.decoderError(this.fatal);if(t===ma.end_of_stream&&this.Shift_JIS_lead===0)return UP.finished;if(this.Shift_JIS_lead!==0){var i=this.Shift_JIS_lead,a=null;this.Shift_JIS_lead=0;var r=t<127?64:65,o=i<160?129:193;if((Ct.inRange(t,64,126)||Ct.inRange(t,128,252))&&(a=(i-o)*188+t-r),Ct.inRange(a,8836,10715))return 57344-8836+a;var c=a===null?null:Pb.indexCodePointFor(a,Pb.index("jis0208"));return c===null&&ma.isASCIIByte(t)&&e.prepend(t),c===null?Ql.decoderError(this.fatal):c}return ma.isASCIIByte(t)||t===128?t:Ct.inRange(t,161,223)?65377-161+t:Ct.inRange(t,129,159)||Ct.inRange(t,224,252)?(this.Shift_JIS_lead=t,null):Ql.decoderError(this.fatal)},s}();Zl.ShiftJISDecoder=BP});var Ab=l(jl=>{"use strict";Object.defineProperty(jl,"__esModule",{value:!0});var NP=X(),FP=W(),MP=re(),fb=$(),VP=te(),YP=function(){function s(e){this.fatal=e.fatal}return n(s,"ShiftJISEncoder"),s.prototype.handler=function(e,t){if(t===fb.end_of_stream)return FP.finished;if(fb.isASCIICodePoint(t)||t===128)return t;if(t===165)return 92;if(t===8254)return 126;if(VP.inRange(t,65377,65439))return t-65377+161;t===8722&&(t=65293);var i=MP.indexShiftJISPointerFor(t);if(i===null)return NP.encoderError(t);var a=Math.floor(i/188),r=a<31?129:193,o=i%188,c=o<63?64:65;return[a+r,o+c]},s}();jl.ShiftJISEncoder=YP});var Lb=l(ya=>{"use strict";function kb(s){for(var e in s)ya.hasOwnProperty(e)||(ya[e]=s[e])}n(kb,"__export");Object.defineProperty(ya,"__esModule",{value:!0});kb(Rb());kb(Ab())});var Db=l(eh=>{"use strict";Object.defineProperty(eh,"__esModule",{value:!0});var GP=X(),$P=W(),Ob=$(),WP=function(){function s(e,t){this.index=e,this.fatal=t.fatal}return n(s,"SingleByteDecoder"),s.prototype.handler=function(e,t){if(t===Ob.end_of_stream)return $P.finished;if(Ob.isASCIIByte(t))return t;var i=this.index[t-128];return i||GP.decoderError(this.fatal)},s}();eh.SingleByteDecoder=WP});var Bb=l(th=>{"use strict";Object.defineProperty(th,"__esModule",{value:!0});var JP=X(),HP=W(),KP=re(),Ub=$(),zP=function(){function s(e,t){this.index=e,this.fatal=t.fatal}return n(s,"SingleByteEncoder"),s.prototype.handler=function(e,t){if(t===Ub.end_of_stream)return HP.finished;if(Ub.isASCIICodePoint(t))return t;var i=KP.indexPointerFor(t,this.index);return i===null&&JP.encoderError(t),i+128},s}();th.SingleByteEncoder=zP});var Fb=l(va=>{"use strict";function Nb(s){for(var e in s)va.hasOwnProperty(e)||(va[e]=s[e])}n(Nb,"__export");Object.defineProperty(va,"__esModule",{value:!0});Nb(Db());Nb(Bb())});var ih=l(nh=>{"use strict";Object.defineProperty(nh,"__esModule",{value:!0});function XP(s,e){var t=s>>8,i=s&255;return e?[t,i]:[i,t]}n(XP,"convertCodeUnitToBytes");nh.convertCodeUnitToBytes=XP});var Vb=l(oh=>{"use strict";Object.defineProperty(oh,"__esModule",{value:!0});var sh=X(),QP=W(),Mb=$(),rh=te(),ZP=ih(),jP=function(){function s(e,t){this.utf16_be=e,this.fatal=t.fatal,this.utf16_lead_byte=null,this.utf16_lead_surrogate=null}return n(s,"UTF16Decoder"),s.prototype.handler=function(e,t){if(t===Mb.end_of_stream&&(this.utf16_lead_byte!==null||this.utf16_lead_surrogate!==null))return sh.decoderError(this.fatal);if(t===Mb.end_of_stream&&this.utf16_lead_byte===null&&this.utf16_lead_surrogate===null)return QP.finished;if(this.utf16_lead_byte===null)return this.utf16_lead_byte=t,null;var i;if(this.utf16_be?i=(this.utf16_lead_byte<<8)+t:i=(t<<8)+this.utf16_lead_byte,this.utf16_lead_byte=null,this.utf16_lead_surrogate!==null){var a=this.utf16_lead_surrogate;return this.utf16_lead_surrogate=null,rh.inRange(i,56320,57343)?65536+(a-55296)*1024+(i-56320):(e.prepend(ZP.convertCodeUnitToBytes(i,this.utf16_be)),sh.decoderError(this.fatal))}return rh.inRange(i,55296,56319)?(this.utf16_lead_surrogate=i,null):rh.inRange(i,56320,57343)?sh.decoderError(this.fatal):i},s}();oh.UTF16Decoder=jP});var Yb=l(ah=>{"use strict";Object.defineProperty(ah,"__esModule",{value:!0});var eR=W(),tR=$(),nR=te(),ch=ih(),iR=function(){function s(e,t){this.utf16_be=e,this.fatal=t.fatal}return n(s,"UTF16Encoder"),s.prototype.handler=function(e,t){if(t===tR.end_of_stream)return eR.finished;if(nR.inRange(t,0,65535))return ch.convertCodeUnitToBytes(t,this.utf16_be);var i=ch.convertCodeUnitToBytes((t-65536>>10)+55296,this.utf16_be),a=ch.convertCodeUnitToBytes((t-65536&1023)+56320,this.utf16_be);return i.concat(a)},s}();ah.UTF16Encoder=iR});var $b=l(wa=>{"use strict";function Gb(s){for(var e in s)wa.hasOwnProperty(e)||(wa[e]=s[e])}n(Gb,"__export");Object.defineProperty(wa,"__esModule",{value:!0});Gb(Vb());Gb(Yb())});var Jb=l(lh=>{"use strict";Object.defineProperty(lh,"__esModule",{value:!0});var uh=X(),sR=W(),Wb=$(),Pn=te(),rR=function(){function s(e){this.fatal=e.fatal,this.utf8_code_point=0,this.utf8_bytes_seen=0,this.utf8_bytes_needed=0,this.utf8_lower_boundary=128,this.utf8_upper_boundary=191}return n(s,"UTF8Decoder"),s.prototype.handler=function(e,t){if(t===Wb.end_of_stream&&this.utf8_bytes_needed!==0)return this.utf8_bytes_needed=0,uh.decoderError(this.fatal);if(t===Wb.end_of_stream)return sR.finished;if(this.utf8_bytes_needed===0){if(Pn.inRange(t,0,127))return t;if(Pn.inRange(t,194,223))this.utf8_bytes_needed=1,this.utf8_code_point=t&31;else if(Pn.inRange(t,224,239))t===224&&(this.utf8_lower_boundary=160),t===237&&(this.utf8_upper_boundary=159),this.utf8_bytes_needed=2,this.utf8_code_point=t&15;else if(Pn.inRange(t,240,244))t===240&&(this.utf8_lower_boundary=144),t===244&&(this.utf8_upper_boundary=143),this.utf8_bytes_needed=3,this.utf8_code_point=t&7;else return uh.decoderError(this.fatal);return null}if(!Pn.inRange(t,this.utf8_lower_boundary,this.utf8_upper_boundary))return this.utf8_code_point=this.utf8_bytes_needed=this.utf8_bytes_seen=0,this.utf8_lower_boundary=128,this.utf8_upper_boundary=191,e.prepend(t),uh.decoderError(this.fatal);if(this.utf8_lower_boundary=128,this.utf8_upper_boundary=191,this.utf8_code_point=this.utf8_code_point<<6|t&63,this.utf8_bytes_seen+=1,this.utf8_bytes_seen!==this.utf8_bytes_needed)return null;var i=this.utf8_code_point;return this.utf8_code_point=this.utf8_bytes_needed=this.utf8_bytes_seen=0,i},s}();lh.UTF8Decoder=rR});var Kb=l(dh=>{"use strict";Object.defineProperty(dh,"__esModule",{value:!0});var oR=W(),Hb=$(),hh=te(),cR=function(){function s(e){this.fatal=e.fatal}return n(s,"UTF8Encoder"),s.prototype.handler=function(e,t){if(t===Hb.end_of_stream)return oR.finished;if(Hb.isASCIICodePoint(t))return t;var i,a;hh.inRange(t,128,2047)?(i=1,a=192):hh.inRange(t,2048,65535)?(i=2,a=224):hh.inRange(t,65536,1114111)&&(i=3,a=240);for(var r=[(t>>6*i)+a];i>0;){var o=t>>6*(i-1);r.push(128|o&63),i-=1}return r},s}();dh.UTF8Encoder=cR});var Xb=l(xa=>{"use strict";function zb(s){for(var e in s)xa.hasOwnProperty(e)||(xa[e]=s[e])}n(zb,"__export");Object.defineProperty(xa,"__esModule",{value:!0});zb(Jb());zb(Kb())});var Zb=l(ph=>{"use strict";Object.defineProperty(ph,"__esModule",{value:!0});var aR=W(),Qb=$(),uR=function(){function s(e){this.fatal=e.fatal}return n(s,"XUserDefinedDecoder"),s.prototype.handler=function(e,t){return t===Qb.end_of_stream?aR.finished:Qb.isASCIIByte(t)?t:63360+t-128},s}();ph.XUserDefinedDecoder=uR});var eE=l(gh=>{"use strict";Object.defineProperty(gh,"__esModule",{value:!0});var lR=X(),hR=W(),jb=$(),dR=te(),pR=function(){function s(e){this.fatal=e.fatal}return n(s,"XUserDefinedEncoder"),s.prototype.handler=function(e,t){return t===jb.end_of_stream?hR.finished:jb.isASCIICodePoint(t)?t:dR.inRange(t,63360,63487)?t-63360+128:lR.encoderError(t)},s}();gh.XUserDefinedEncoder=pR});var nE=l(ba=>{"use strict";function tE(s){for(var e in s)ba.hasOwnProperty(e)||(ba[e]=s[e])}n(tE,"__export");Object.defineProperty(ba,"__esModule",{value:!0});tE(Zb());tE(eE())});var _h=l(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});var sE=j0(),rE=ob(),oE=gb(),Ea=xb(),cE=Cb(),aE=Lb(),iE=Fb(),Ta=$b(),uE=Xb(),lE=nE(),gR=X(),_R=re(),mR=Al(),yR=mR.getEncodingIndexes();Pt.encoders={"UTF-8":function(s){return new uE.UTF8Encoder(s)},GBK:function(s){return new Ea.GB18030Encoder(s,!0)},gb18030:function(s){return new Ea.GB18030Encoder(s)},Big5:function(s){return new sE.Big5Encoder(s)},"EUC-JP":function(s){return new rE.EUCJPEncoder(s)},"ISO-2022-JP":function(s){return new cE.ISO2022JPEncoder(s)},Shift_JIS:function(s){return new aE.ShiftJISEncoder(s)},"EUC-KR":function(s){return new oE.EUCKREncoder(s)},"UTF-16BE":function(s){return new Ta.UTF16Encoder(!0,s)},"UTF-16LE":function(s){return new Ta.UTF16Encoder(!1,s)},"x-user-defined":function(s){return new lE.XUserDefinedEncoder(s)}};Pt.decoders={"UTF-8":function(s){return new uE.UTF8Decoder(s)},GBK:function(s){return new Ea.GB18030Decoder(s)},gb18030:function(s){return new Ea.GB18030Decoder(s)},Big5:function(s){return new sE.Big5Decoder(s)},"EUC-JP":function(s){return new rE.EUCJPDecoder(s)},"ISO-2022-JP":function(s){return new cE.ISO2022JPDecoder(s)},Shift_JIS:function(s){return new aE.ShiftJISDecoder(s)},"EUC-KR":function(s){return new oE.EUCKRDecoder(s)},"UTF-16BE":function(s){return new Ta.UTF16Decoder(!0,s)},"UTF-16LE":function(s){return new Ta.UTF16Decoder(!1,s)},"x-user-defined":function(s){return new lE.XUserDefinedDecoder(s)}};yR&&gR.encodings.forEach(function(s){s.heading==="Legacy single-byte encodings"&&s.encodings.forEach(function(e){var t=e.name,i=_R.index(t.toLowerCase());Pt.decoders[t]=function(a){return new iE.SingleByteDecoder(i,a)},Pt.encoders[t]=function(a){return new iE.SingleByteEncoder(i,a)}})})});var yh=l(mh=>{"use strict";Object.defineProperty(mh,"__esModule",{value:!0});var vR=$(),wR=function(){function s(e){this.tokens=Array.from(e),this.tokens.reverse()}return n(s,"Stream"),s.prototype.endOfStream=function(){return!this.tokens.length},s.prototype.read=function(){return this.tokens.length?this.tokens.pop():vR.end_of_stream},s.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.pop());else this.tokens.push(e)},s.prototype.push=function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.shift());else this.tokens.unshift(e)},s}();mh.Stream=wR});var gE=l(vh=>{"use strict";Object.defineProperty(vh,"__esModule",{value:!0});var xR=Tl(),hE=_h(),bR=X(),dE=W(),ER=$(),qa=te(),TR=yh(),qR=function(){function s(e,t){e=e!==void 0?String(e):xR.DEFAULT_ENCODING;var i=qa.ToDictionary(t);this._encoding=null,this._decoder=null,this._ignoreBOM=!1,this._BOMseen=!1,this._error_mode="replacement",this._do_not_flush=!1;var a=bR.getEncoding(e);if(a===null||a.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!hE.decoders[a.name])throw Error("Decoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=a,Boolean(i.fatal)&&(this._error_mode="fatal"),Boolean(i.ignoreBOM)&&(this._ignoreBOM=!0)}return n(s,"TextDecoder"),Object.defineProperty(s.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"fatal",{get:function(){return this._error_mode==="fatal"},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"ignoreBOM",{get:function(){return this._ignoreBOM},enumerable:!0,configurable:!0}),s.prototype.decode=function(e,t){var i=SR(e),a=qa.ToDictionary(t);this._do_not_flush||(this._decoder=hE.decoders[this._encoding.name]({fatal:this._error_mode==="fatal"}),this._BOMseen=!1),this._do_not_flush=Boolean(a.stream);for(var r=new TR.Stream(i),o=[],c;;){var p=r.read();if(p===ER.end_of_stream||(c=this._decoder.handler(r,p),c===dE.finished))break;c!==null&&(Array.isArray(c)?o.push.apply(o,c):o.push(c))}if(!this._do_not_flush){do{if(c=this._decoder.handler(r,r.read()),c===dE.finished)break;!c||(Array.isArray(c)?o.push.apply(o,c):o.push(c))}while(!r.endOfStream());this._decoder=null}return this.serializeStream(o)},s.prototype.serializeStream=function(e){return qa.includes(["UTF-8","UTF-16LE","UTF-16BE"],this._encoding.name)&&!this._ignoreBOM&&!this._BOMseen&&(e.length>0&&e[0]===65279?(this._BOMseen=!0,e.shift()):e.length>0&&(this._BOMseen=!0)),qa.codePointsToString(e)},s}();vh.TextDecoder=qR;function pE(s){try{return s instanceof ArrayBuffer}catch(e){return console.error(e),!1}}n(pE,"isBufferInstance");function SR(s){return typeof s!="object"?new Uint8Array(0):pE(s)?new Uint8Array(s):"buffer"in s&&pE(s.buffer)?new Uint8Array(s.buffer,s.byteOffset,s.byteLength):new Uint8Array(0)}n(SR,"getBytesFromInput")});var vE=l(xh=>{"use strict";Object.defineProperty(xh,"__esModule",{value:!0});var IR=Tl(),_E=_h(),mE=X(),yE=W(),CR=$(),wh=te(),PR=Pl(),RR=yh(),fR=function(){function s(e,t){var i=wh.ToDictionary(t);if(this._encoding=null,this._encoder=null,this._do_not_flush=!1,this._fatal=Boolean(i.fatal)?"fatal":"replacement",Boolean(i.NONSTANDARD_allowLegacyEncoding)){e=e?String(e):IR.DEFAULT_ENCODING;var a=mE.getEncoding(e);if(a===null||a.name==="replacement")throw RangeError("Unknown encoding: "+e);if(!_E.encoders[a.name])throw Error("Encoder not present. Did you forget to include encoding-indexes.js first?");this._encoding=a}else{this._encoding=mE.getEncoding("utf-8");var r=PR.getGlobalScope()||{};e!==void 0&&"console"in r&&console.warn("TextEncoder constructor called with encoding label, which is ignored.")}}return n(s,"TextEncoder"),Object.defineProperty(s.prototype,"encoding",{get:function(){return this._encoding.name.toLowerCase()},enumerable:!0,configurable:!0}),s.prototype.encode=function(e,t){e=e===void 0?"":String(e);var i=wh.ToDictionary(t);this._do_not_flush||(this._encoder=_E.encoders[this._encoding.name]({fatal:this._fatal==="fatal"})),this._do_not_flush=Boolean(i.stream);for(var a=new RR.Stream(wh.stringToCodePoints(e)),r=[],o;;){var c=a.read();if(c===CR.end_of_stream||(o=this._encoder.handler(a,c),o===yE.finished))break;Array.isArray(o)?r.push.apply(r,o):r.push(o)}if(!this._do_not_flush){for(;o=this._encoder.handler(a,a.read()),o!==yE.finished;)Array.isArray(o)?r.push.apply(r,o):r.push(o);this._encoder=null}return new Uint8Array(r)},s}();xh.TextEncoder=fR});var bE=l(Sa=>{"use strict";Object.defineProperty(Sa,"__esModule",{value:!0});var wE=gE();Sa.TextDecoder=wE.TextDecoder;var xE=vE();Sa.TextEncoder=xE.TextEncoder;typeof window<"u"&&(bh=n(function(s){return!(s in window)||typeof window[s]>"u"||window[s]===null},"checkUndefined"),bh("TextDecoder")&&(window.TextDecoder=wE.TextDecoder),bh("TextEncoder")&&(window.TextEncoder=xE.TextEncoder));var bh});var TE=l(Rn=>{"use strict";var{TextEncoder:EE,TextDecoder:AR}=bE(),{NTOKEN_REGEX:Eh,BASE64_DIALECT:Ia}=_e(),F=Rn.NTokenTransformOperation={NO_OP:0,PUSH:1,REVERSE_1:2,REVERSE_2:3,SPLICE:4,SWAP0_1:5,SWAP0_2:6,ROTATE_1:7,ROTATE_2:8,BASE64_DIA:9,TRANSLATE_1:10,TRANSLATE_2:11},H=Rn.NTokenTransformOpType={FUNC:0,N_ARR:1,LITERAL:2,REF:3},kR={"d.push(e)":F.PUSH,"d.reverse()":F.REVERSE_1,"function(d){for(var":F.REVERSE_2,"d.length;d.splice(e,1)":F.SPLICE,"d[0])[0])":F.SWAP0_1,"f=d[0];d[0]":F.SWAP0_2,"reverse().forEach":F.ROTATE_1,"unshift(d.pop())":F.ROTATE_2,"function(){for(var":F.BASE64_DIA,"function(d,e){for(var f":F.TRANSLATE_1,"function(d,e,f){var":F.TRANSLATE_2},V=class{static translate1(e,t,i){let a=i?Ia.REVERSE:Ia.NORMAL,r=t.split("");e.forEach((o,c,p)=>{r.push(p[c]=a[(a.indexOf(o)-a.indexOf(r[c])+64)%a.length])})}static translate2(e,t,i){let a=i.length,r=t.split("");e.forEach((o,c,p)=>{r.push(p[c]=i[(i.indexOf(o)-i.indexOf(r[c])+c+a--)%i.length])})}static getBase64Dia(e){return e?Ia.REVERSE:Ia.NORMAL}static swap0(e,t){let i=e[0];t=(t%e.length+e.length)%e.length,e[0]=e[t],e[t]=i}static rotate(e,t){t=(t%e.length+e.length)%e.length,e.splice(-t).reverse().forEach(i=>e.unshift(i))}static splice(e,t){t=(t%e.length+e.length)%e.length,e.splice(t,1)}static reverse(e){e.reverse()}static push(e,t){Array.isArray(e==null?void 0:e[0])?e.push([H.LITERAL,t]):e.push(t)}};n(V,"NTokenTransforms");Rn.NTokenTransforms=V;var LR=[{[F.PUSH]:V.push,[F.SPLICE]:V.splice,[F.SWAP0_1]:V.swap0,[F.SWAP0_2]:V.swap0,[F.ROTATE_1]:V.rotate,[F.ROTATE_2]:V.rotate,[F.REVERSE_1]:V.reverse,[F.REVERSE_2]:V.reverse,[F.BASE64_DIA]:()=>V.getBase64Dia(!1),[F.TRANSLATE_1]:(...s)=>V.translate1.apply(null,[...s,!1]),[F.TRANSLATE_2]:V.translate2},{[F.PUSH]:V.push,[F.SPLICE]:V.splice,[F.SWAP0_1]:V.swap0,[F.SWAP0_2]:V.swap0,[F.ROTATE_1]:V.rotate,[F.ROTATE_2]:V.rotate,[F.REVERSE_1]:V.reverse,[F.REVERSE_2]:V.reverse,[F.BASE64_DIA]:()=>V.getBase64Dia(!0),[F.TRANSLATE_1]:(...s)=>V.translate1.apply(null,[...s,!0]),[F.TRANSLATE_2]:V.translate2}],be=class{constructor(e){this.transformer=e}static fromSourceCode(e){let i=be.getTransformationData(e).map(o=>{var c;if(o!=null&&typeof o!="number"){let p=o.includes("case 65:"),d=kR[(c=be.getFunc(o))==null?void 0:c[0]];d?o=[H.FUNC,d,0+p]:o=="b"?o=[H.N_ARR]:o=[H.LITERAL,o]}else o!=null&&(o=[H.LITERAL,o]);return o});[...e.matchAll(Eh.PLACEHOLDERS)].map(o=>parseInt(o[1])).forEach(o=>i[o]=[H.REF]);let r=[...e.replace(/\n/g,"").match(/try\{(.*?)\}catch/s)[1].matchAll(Eh.CALLS)].map(o=>[parseInt(o[1]),o[2].split(",").map(c=>{var p;return parseInt((p=c.match(/c\[(.*?)\]/))==null?void 0:p[1])})]);return new be([i,r])}evaluate(e,t,i){switch(e[0]){case H.FUNC:return LR[e[2]][e[1]];case H.N_ARR:return t;case H.LITERAL:return e[1];case H.REF:return i[0]}}transform(e){let t=e.split(""),i=this.getTransformerClone();try{i[1].forEach(([a,r])=>{let o=r[2]&&this.evaluate(i[0][r[2]],t,i)();this.evaluate(i[0][a],t,i)(r[0]!==void 0&&this.evaluate(i[0][r[0]],t,i),r[1]!==void 0&&this.evaluate(i[0][r[1]],t,i),o)})}catch(a){return console.error(new Error(`Could not transform n-token, download may be throttled.
Original Token:${e}Error:
${a}`)),e}return t.join("")}getTransformerClone(){return[[...this.transformer[0]],[...this.transformer[1]]]}toJSON(){return this.getTransformerClone()}toArrayBuffer(){let e=12;for(let r of this.transformer[0])switch(r[0]){case H.FUNC:e+=2;break;case H.N_ARR:case H.REF:e+=1;break;case H.LITERAL:typeof r[1]=="string"&&(e+=1+4+new EE().encode(r[1]).byteLength),e+=4+1;break}for(let r of this.transformer[1])e+=2+r[1].length;let t=new ArrayBuffer(e),i=new DataView(t),a=0;i.setUint32(a,be.LIBRARY_VERSION,!0),a+=4,i.setUint32(a,this.transformer[0].length,!0),a+=4,i.setUint32(a,this.transformer[1].length,!0),a+=4;for(let r of this.transformer[0])switch(r[0]){case H.FUNC:{let o=r[0]<<6|r[2];i.setUint8(a,o),a+=1,i.setUint8(a,r[1]),a+=1}break;case H.N_ARR:case H.REF:{let o=r[0]<<6;i.setUint8(a,o),a+=1}break;case H.LITERAL:{let o=typeof r[1]=="string"?1:0,c=r[0]<<6|o;if(i.setUint8(a,c),a+=1,o===0)i.setInt32(a,r[1],!0),a+=4;else{let p=new EE().encode(r[1]);i.setUint32(a,p.byteLength,!0),a+=4;for(let d=0;d<p.byteLength;d++)i.setUint8(a,p[d]),a+=1}}break}for(let r of this.transformer[1]){i.setUint8(a,r[0]),a+=1,i.setUint8(a,r[1].length),a+=1;for(let o of r[1])i.setUint8(a,o),a+=1}return t}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==be.LIBRARY_VERSION)throw new TypeError("Invalid library version");let r=t.getUint32(i,!0);i+=4;let o=t.getUint32(i,!0);i+=4;let c=new Array(r);for(let d=0;d<r;d++){let h=t.getUint8(i++),_=h>>6;switch(_){case H.FUNC:{let v=h&1,x=t.getUint8(i++);c[d]=[_,x,v]}break;case H.N_ARR:case H.REF:c[d]=[_];break;case H.LITERAL:if((h&1)===0){let x=t.getInt32(i,!0);i+=4,c[d]=[_,x]}else{let x=t.getUint32(i,!0);i+=4;let y=new Uint8Array(x);for(let m=0;m<x;m++)y[m]=t.getUint8(i++);c[d]=[_,new AR().decode(y)]}break;default:throw new Error("Invalid opcode")}}let p=new Array(o);for(let d=0;d<o;d++){let h=t.getUint8(i++),_=t.getUint8(i++),v=new Array(_);for(let x=0;x<_;x++)v[x]=t.getUint8(i++);p[d]=[h,v]}return new be([c,p])}static get LIBRARY_VERSION(){return 1}static getFunc(e){return e.match(Eh.FUNCTIONS)}static getTransformationData(e){var i;let t=`[${(i=e.replace(/\n/g,"").match(/c=\[(.*?)\];c/s))==null?void 0:i[1]}]`;return JSON.parse(this.refineNTokenData(t))}static refineNTokenData(e){return e.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}};n(be,"NToken");Rn.default=be});var PE=l((_D,CE)=>{"use strict";var Rt=M(),OR=_e(),{default:DR}=V0(),{default:UR}=TE(),fn,ft,At,Pa,kt,Lt,Ot,An,Ra,qE,fa,SE,Aa,IE,Th=class{constructor(e,t){E(this,Ra);E(this,fa);E(this,Aa);E(this,fn,void 0);E(this,ft,void 0);E(this,At,void 0);E(this,Pa,void 0);E(this,kt,void 0);E(this,Lt,void 0);E(this,Ot,void 0);E(this,An,void 0);I(this,ft,e),I(this,fn,t),I(this,An,`${Rt.getTmpdir()}/yt-cache`),I(this,At,`${OR.URLS.YT_BASE}/s/player/${u(this,ft)}/player_ias.vflset/en_US/base.js`),I(this,Pa,`${u(this,An)}/${u(this,ft)}.bin`)}async init(){let e=await u(this,fn).get(u(this,At),{headers:{"content-type":"text/javascript"}});I(this,Ot,L(this,Ra,qE).call(this,e.data));let t=L(this,fa,SE).call(this,e.data),i=L(this,Aa,IE).call(this,e.data);I(this,Lt,DR.fromSourceCode(t)),I(this,kt,UR.fromSourceCode(i));try{let a=u(this,kt).toArrayBuffer(),r=u(this,Lt).toArrayBuffer(),o=new ArrayBuffer(12+r.byteLength+a.byteLength),c=new DataView(o);c.setUint32(0,Th.LIBRARY_VERSION,!0),c.setUint32(4,u(this,Ot),!0),c.setUint32(8,r.byteLength,!0),new Uint8Array(o).set(new Uint8Array(r),12),new Uint8Array(o).set(new Uint8Array(a),12+r.byteLength)}finally{}return this}decipher(e,t,i){e=e||t||i,Rt.throwIfMissing({url:e});let a=new URLSearchParams(e),r=new URL(a.get("url")||e);if(r.searchParams.set("ratebypass","yes"),t||i){let o=u(this,Lt).decipher(e);a.get("sp")?r.searchParams.set(a.get("sp"),o):r.searchParams.set("signature",o)}if(r.searchParams.get("n")){let o=u(this,kt).transform(r.searchParams.get("n"));r.searchParams.set("n",o)}return r.toString()}get url(){return u(this,At)}get sts(){return u(this,Ot)}static get LIBRARY_VERSION(){return 1}},Ca=Th;n(Ca,"Player"),fn=new WeakMap,ft=new WeakMap,At=new WeakMap,Pa=new WeakMap,kt=new WeakMap,Lt=new WeakMap,Ot=new WeakMap,An=new WeakMap,Ra=new WeakSet,qE=n(function(e){return parseInt(Rt.getStringBetweenStrings(e,"signatureTimestamp:",","))},"#extractSigTimestamp"),fa=new WeakSet,SE=n(function(e){let t=Rt.getStringBetweenStrings(e,"this.audioTracks};var","};"),i=Rt.getStringBetweenStrings(e,'function(a){a=a.split("")','return a.join("")}');return t+i},"#extractSigDecipherSc"),Aa=new WeakSet,IE=n(function(e){return`var b=a.split("")${Rt.getStringBetweenStrings(e,'b=a.split("")','}return b.join("")}')}} return b.join("");`},"#extractNTokenSc");CE.exports=Ca});var OE=l((mD,LE)=>{"use strict";var BR=PE(),NR=dt(),RE=M(),ka=_e(),FR=require("user-agents"),kn,st,Ln,Dt,Ut,On,Dn,Un,Bn,Oa,fE,Da,AE,Ua,kE,La=class{constructor(e,t){E(this,Oa);E(this,Da);E(this,Ua);E(this,kn,void 0);E(this,st,void 0);E(this,Ln,void 0);E(this,Dt,void 0);E(this,Ut,void 0);E(this,On,void 0);E(this,Dn,void 0);E(this,Un,void 0);E(this,Bn,void 0);I(this,kn,e),I(this,st,t)}async build(){let e=await Promise.all([L(this,Da,AE).call(this),L(this,Ua,kE).call(this)]),t=e[0][0][2];return I(this,Ln,t[1]),I(this,On,`v${t[0][0][6]}`),I(this,Dt,ka.CLIENTS.WEB.NAME),I(this,Ut,t[0][0][16]),I(this,Dn,t[0][0][3]),I(this,Bn,await new BR(e[1],u(this,st)).init()),I(this,Un,L(this,Oa,fE).call(this)),this}get key(){return u(this,Ln)}get context(){return u(this,Un)}get api_version(){return u(this,On)}get client_version(){return u(this,Ut)}get client_name(){return u(this,Dt)}get player(){return u(this,Bn)}};n(La,"SessionBuilder"),kn=new WeakMap,st=new WeakMap,Ln=new WeakMap,Dt=new WeakMap,Ut=new WeakMap,On=new WeakMap,Dn=new WeakMap,Un=new WeakMap,Bn=new WeakMap,Oa=new WeakSet,fE=n(function(){let e=new FR({deviceCategory:"desktop"}),t=RE.generateRandomString(11),i=Math.floor(Date.now()/1e3),a=NR.encodeVisitorData(t,i);return{client:{hl:"en",gl:u(this,kn).gl||"US",remoteHost:u(this,Dn),deviceMake:e.vendor,deviceModel:e.platform,visitorData:a,userAgent:e.toString(),clientName:u(this,Dt),clientVersion:u(this,Ut),originalUrl:ka.URLS.API.BASE},user:{lockedSafetyMode:!1},request:{useSsl:!0}}},"#buildContext"),Da=new WeakSet,AE=n(async function(){let e=await u(this,st).get(`${ka.URLS.YT_BASE}/sw.js_data`);return JSON.parse(e.data.replace(")]}'",""))},"#getYtConfig"),Ua=new WeakSet,kE=n(async function(){let e=await u(this,st).get(`${ka.URLS.YT_BASE}/iframe_api`);return RE.getStringBetweenStrings(e.data,"player\\/","\\/")},"#getPlayerId");LE.exports=La});var UE=l((yD,DE)=>{"use strict";var MR=q(),Bt,Ba=class{constructor(e){E(this,Bt,void 0);I(this,Bt,MR.parseResponse(e)),this.sections=u(this,Bt).contents_memo.get("Element")}get page(){return u(this,Bt)}};n(Ba,"Analytics"),Bt=new WeakMap;DE.exports=Ba});var NE=l((vD,BE)=>{"use strict";var Nt=M(),$e=_e(),VR=UE(),YR=dt(),Ee,Te,Ae,Na=class{constructor(e){E(this,Te);E(this,Ee,void 0);I(this,Ee,e),this.channel={editName:t=>u(this,Ee).channel("channel/edit_name",{new_name:t}),editDescription:t=>u(this,Ee).channel("channel/edit_description",{new_description:t}),getBasicAnalytics:()=>this.getAnalytics()},this.settings={notifications:{setSubscriptions:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.SUBSCRIPTIONS,"SPaccount_notifications",t),setRecommendedVideos:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.RECOMMENDED_VIDEOS,"SPaccount_notifications",t),setChannelActivity:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.CHANNEL_ACTIVITY,"SPaccount_notifications",t),setCommentReplies:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.COMMENT_REPLIES,"SPaccount_notifications",t),setMentions:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.USER_MENTION,"SPaccount_notifications",t),setSharedContent:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.SHARED_CONTENT,"SPaccount_notifications",t)},privacy:{setSubscriptionsPrivate:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.SUBSCRIPTIONS_PRIVACY,"SPaccount_privacy",t),setSavedPlaylistsPrivate:t=>L(this,Te,Ae).call(this,$e.ACCOUNT_SETTINGS.PLAYLISTS_PRIVACY,"SPaccount_privacy",t)}}}async getInfo(){let e=await u(this,Ee).account("account/accounts_list",{client:"ANDROID"}),t=Nt.findNode(e.data,"contents","accountItem",8,!1),i=t.accountItem.serviceEndpoint.signInEndpoint.directSigninUserProfile,a=i.accountName,r=i.email,o=i.accountPhoto.thumbnails,c=t.accountItem.accountByline.runs.map(d=>d.text).join(""),p=e.data.contents[0].accountSectionListRenderer.footers[0].accountChannelRenderer.navigationEndpoint.browseEndpoint.browseId;return{name:a,email:r,channel_id:p,subscriber_count:c,photo:o}}async getTimeWatched(){let e=await u(this,Ee).browse("SPtime_watched",{client:"ANDROID"});return Nt.findNode(e.data,"contents","statRowRenderer",11,!1).map(a=>{let r=a.statRowRenderer;if(r)return{title:r.title.runs.map(o=>o.text).join(""),time:r.contents.runs.map(o=>o.text).join("")}}).filter(a=>a)}async getAnalytics(){let e=await this.getInfo(),t=YR.encodeChannelAnalyticsParams(e.channel_id),i=await u(this,Ee).browse("FEanalytics_screen",{params:t,client:"ANDROID"});return new VR(i.data)}};n(Na,"AccountManager"),Ee=new WeakMap,Te=new WeakSet,Ae=n(async function(e,t,i){Nt.throwIfMissing({setting_id:e,type:t,new_value:i});let a={ON:!0,OFF:!1};if(!a.hasOwnProperty(i))throw new Nt.InnertubeError("Invalid option",{option:i,available_options:Object.keys(a)});let r=await u(this,Ee).browse(t),p=(()=>{switch(t.trim()){case"SPaccount_notifications":return Nt.findNode(r.data,"contents","Your preferences",13,!1).options;case"SPaccount_privacy":return Nt.findNode(r.data,"contents","settingsSwitchRenderer",13,!1).options;default:throw new TypeError("undefined is not a function")}})().find(h=>h.settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemIdForClient==e).settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemId;return await u(this,Ee).account("account/set_setting",{new_value:t=="SPaccount_privacy"?!a[i]:a[i],setting_item_id:p})},"#setSetting");BE.exports=Na});var We=l((wD,ME)=>{"use strict";var GR=q(),{InnertubeError:FE}=M(),le,ke,Ft,Q,Nn=class{constructor(e,t,i=!1){E(this,le,void 0);E(this,ke,void 0);E(this,Ft,void 0);E(this,Q,void 0);t.on_response_received_actions||t.on_response_received_endpoints||i?I(this,le,t):I(this,le,GR.parseResponse(t)),I(this,Q,u(this,le).on_response_received_commands?u(this,le).on_response_received_commands_memo:u(this,le).on_response_received_endpoints?u(this,le).on_response_received_endpoints_memo:u(this,le).contents?u(this,le).contents_memo:u(this,le).on_response_received_actions?u(this,le).on_response_received_actions_memo:[]),I(this,Ft,e)}static getVideosFromMemo(e){let t=e.get("Video")||[],i=e.get("GridVideo")||[],a=e.get("CompactVideo")||[],r=e.get("PlaylistVideo")||[],o=e.get("PlaylistPanelVideo")||[],c=e.get("WatchCardCompactVideo")||[];return[...t,...i,...a,...r,...o,...c]}static getPlaylistsFromMemo(e){let t=e.get("Playlist")||[],i=e.get("GridPlaylist")||[];return[...t,...i]}get videos(){return Nn.getVideosFromMemo(u(this,Q))}get posts(){return u(this,Q).get("BackstagePost")||u(this,Q).get("Post")||[]}get channels(){let e=u(this,Q).get("Channel")||[],t=u(this,Q).get("GridChannel")||[];return[...e,...t]}get playlists(){return Nn.getPlaylistsFromMemo(u(this,Q))}get memo(){return u(this,Q)}get contents(){var a,r,o,c;let e=(r=(a=u(this,Q).get("Tab"))==null?void 0:a[0])==null?void 0:r.content,t=(o=u(this,Q).get("reloadContinuationItemsCommand"))==null?void 0:o[0],i=(c=u(this,Q).get("appendContinuationItemsAction"))==null?void 0:c[0];return e||t||i}get shelves(){let e=u(this,Q).get("Shelf")||[],t=u(this,Q).get("RichShelf")||[],i=u(this,Q).get("ReelShelf")||[];return[...e,...t,...i]}getShelf(e){return this.shelves.find(t=>t.title.toString()===e)}get secondary_contents(){var e;return(e=this.page.contents)==null?void 0:e.secondary_contents}get actions(){return u(this,Ft)}get page(){return u(this,le)}get has_continuation(){return(u(this,Q).get("ContinuationItem")||[]).length>0}async getContinuationData(){if(u(this,ke)){if(u(this,ke).length>1)throw new FE("There are too many continuations, you'll need to find the correct one yourself in this.page");if(u(this,ke).length===0)throw new FE("There are no continuations");return await u(this,ke)[0].endpoint.call(u(this,Ft))}return I(this,ke,u(this,Q).get("ContinuationItem")),u(this,ke)?this.getContinuationData():null}async getContinuation(){let e=await this.getContinuationData();return new Nn(this.actions,e,!0)}},Fa=Nn;n(Fa,"Feed"),le=new WeakMap,ke=new WeakMap,Ft=new WeakMap,Q=new WeakMap;ME.exports=Fa});var Ya=l((xD,VE)=>{"use strict";var $R=We(),Mt,Va,Ma=class extends $R{constructor(t,i,a=!1){super(t,i,a);E(this,Mt);let r=this.page.sidebar.contents.get({type:"PlaylistSidebarPrimaryInfo"}),o=this.page.sidebar.contents.get({type:"PlaylistSidebarSecondaryInfo"});this.info={...this.page.metadata,author:o.owner.author,thumbnails:r.thumbnail_renderer.thumbnail,total_items:L(this,Mt,Va).call(this,0,r),views:L(this,Mt,Va).call(this,1,r),last_updated:L(this,Mt,Va).call(this,2,r),can_share:this.page.header.can_share,can_delete:this.page.header.can_delete,is_editable:this.page.header.is_editable,privacy:this.page.header.privacy},this.menu=r.menu,this.endpoint=r.endpoint}get items(){return this.videos}};n(Ma,"Playlist"),Mt=new WeakSet,Va=n(function(t,i){var a;return!i||!i.stats?"N/A":((a=i.stats[t])==null?void 0:a.toString())||"N/A"},"#getStat");VE.exports=Ma});var $E=l((bD,GE)=>{"use strict";var YE=Ya(),{InnertubeError:qh,throwIfMissing:Fn}=M(),de,Ga=class{constructor(e){E(this,de,void 0);I(this,de,e)}async create(e,t){Fn({title:e,video_ids:t});let i={title:e,videoIds:t},a=await u(this,de).execute("/playlist/create",{...i,parse:!1});return{playlist_id:a.data.playlistId,data:a.data}}async delete(e){Fn({playlist_id:e});let t=await u(this,de).execute("playlist/delete",{playlistId:e});return{playlist_id:e,data:t.data}}async addVideos(e,t){Fn({playlist_id:e,video_ids:t});let i={playlistId:e,actions:[]};i.actions=t.map(r=>({action:"ACTION_ADD_VIDEO",addedVideoId:r}));let a=await u(this,de).execute("/browse/edit_playlist",{...i,parse:!1});return{playlist_id:e,action_result:a.data.actions}}async removeVideos(e,t){Fn({playlist_id:e,video_ids:t});let i=await u(this,de).execute("/browse",{browseId:`VL${e}`,parse:!0}),a=new YE(u(this,de),i,!0);if(!a.info.is_editable)throw new qh("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},o=n(async p=>{if(p.videos.filter(h=>t.includes(h.id)).forEach(h=>r.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:h.set_video_id})),r.actions.length<t.length){let h=await p.getContinuation();return o(h)}},"getSetVideoIds");if(await o(a),!r.actions.length)throw new qh("Given video ids were not found in this playlist.",t);let c=await u(this,de).execute("/browse/edit_playlist",{...r,parse:!1});return{playlist_id:e,action_result:c.data.actions}}async moveVideo(e,t,i){Fn({playlist_id:e,moved_video_id:t,predecessor_video_id:i});let a=await u(this,de).execute("/browse",{browseId:`VL${e}`,parse:!0}),r=new YE(u(this,de),a,!0);if(!r.info.is_editable)throw new qh("This playlist cannot be edited.",e);let o={playlistId:e,actions:[]},c,p,d=n(async _=>{let v=_.videos.find(y=>t===y.id),x=_.videos.find(y=>i===y.id);if(c=c||(v==null?void 0:v.set_video_id),p=p||(x==null?void 0:x.set_video_id),!c||!p){let y=await _.getContinuation();return d(y)}},"getSetVideoIds");await d(r),o.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:c,movedSetVideoIdPredecessor:p});let h=await u(this,de).execute("/browse/edit_playlist",{...o,parse:!1});return{playlist_id:e,action_result:h.data.actions}}};n(Ga,"PlaylistManager"),de=new WeakMap;GE.exports=Ga});var JE=l((ED,WE)=>{"use strict";var Le=M(),qe,$a=class{constructor(e){E(this,qe,void 0);I(this,qe,e)}async like(e){return Le.throwIfMissing({video_id:e}),await u(this,qe).engage("like/like",{video_id:e})}async dislike(e){return Le.throwIfMissing({video_id:e}),await u(this,qe).engage("like/dislike",{video_id:e})}async removeLike(e){return Le.throwIfMissing({video_id:e}),await this.actions.engage("like/removelike",{video_id:e})}async subscribe(e){return Le.throwIfMissing({channel_id:e}),await u(this,qe).engage("subscription/subscribe",{channel_id:e})}async unsubscribe(e){return Le.throwIfMissing({channel_id:e}),await u(this,qe).engage("subscription/unsubscribe",{channel_id:e})}async comment(e,t){return Le.throwIfMissing({video_id:e,text:t}),await u(this,qe).engage("comment/create_comment",{video_id:e,text:t})}async translate(e,t,i={}){Le.throwIfMissing({text:e,target_language:t});let a=await await u(this,qe).engage("comment/perform_comment_action",{video_id:i.video_id,comment_id:i.comment_id,target_language:t,comment_action:"translate",text:e}),r=Le.findNode(a.data,"frameworkUpdates","content",7,!1);return{success:a.success,status_code:a.status_code,translated_content:r.content,data:a.data}}async setNotificationPreferences(e,t){return Le.throwIfMissing({channel_id:e,type:t}),await u(this,qe).notifications("modify_channel_preference",{channel_id:e,pref:t||"NONE"})}};n($a,"InteractionManager"),qe=new WeakMap;WE.exports=$a});var zE=l((TD,KE)=>{"use strict";var WR=We(),{InnertubeError:HE}=M(),rt=class extends WR{constructor(e,t,i=!1){var p,d,h;super(e,t,i);let a=((p=this.page.contents)==null?void 0:p.primary_contents.contents)||this.page.on_response_received_commands[0].contents,r=(h=(d=this.page.contents)==null?void 0:d.secondary_contents)==null?void 0:h.contents;this.results=a.get({type:"ItemSection"}).contents;let o=this.results.get({type:"HorizontalCardList"},!0),c=r==null?void 0:r.get({type:"UniversalWatchCard"});this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.watch_card={header:(c==null?void 0:c.header)||null,call_to_action:(c==null?void 0:c.call_to_action)||null,sections:(c==null?void 0:c.sections)||[]},this.refinement_cards={header:(o==null?void 0:o.header)||null,cards:(o==null?void 0:o.cards)||[]}}async selectRefinementCard(e){let t;if(typeof e=="string"){if(t=this.refinement_cards.cards.get({query:e}),!t)throw new HE("Refinement card not found!",{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")t=e;else throw new HE("Invalid refinement card!");let i=await t.endpoint.call(this.actions);return new rt(this.actions,i,!0)}get refinement_card_queries(){return this.refinement_cards.cards.map(e=>e.query)}async getContinuation(){let e=await this.getContinuationData();return new rt(this.actions,e,!0)}};n(rt,"Search");KE.exports=rt});var jE=l((qD,ZE)=>{"use strict";var Sh=q(),JR=require("events"),ot,Oe,Vt,Yt,Mn,Vn,Yn,Ih,Ja,XE,Gn,Ch,Ha,QE,Wa=class{constructor(e){E(this,Yn);E(this,Ja);E(this,Gn);E(this,Ha);oe(this,"ev");E(this,ot,void 0);E(this,Oe,void 0);E(this,Vt,void 0);E(this,Yt,void 0);E(this,Mn,1e3);E(this,Vn,5e3);oe(this,"initial_info");oe(this,"live_metadata");oe(this,"running",!1);oe(this,"is_replay",!1);I(this,Oe,e),I(this,ot,e.actions),I(this,Vt,u(this,Oe).livechat.continuation),this.is_replay=u(this,Oe).livechat.is_replay,this.live_metadata={title:null,description:null,views:null,likes:null,date:null},this.ev=new JR}start(){this.running||(this.running=!0,L(this,Yn,Ih).call(this),L(this,Gn,Ch).call(this))}stop(){this.running=!1}async sendMessage(e){let t=await u(this,ot).livechat("live_chat/send_message",{text:e,video_id:u(this,Oe).basic_info.id,channel_id:u(this,Oe).basic_info.channel_id});return Sh.parseResponse(t.data).actions}};n(Wa,"LiveChat"),ot=new WeakMap,Oe=new WeakMap,Vt=new WeakMap,Yt=new WeakMap,Mn=new WeakMap,Vn=new WeakMap,Yn=new WeakSet,Ih=n(function(){let e=setTimeout(()=>{(async()=>{let t=this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",i=await u(this,ot).livechat(t,{ctoken:u(this,Vt)}),r=Sh.parseResponse(i.data).continuation_contents;I(this,Vt,r.continuation.token),I(this,Mn,r.continuation.timeout_ms),r.header?(this.initial_info=r,this.ev.emit("start",r)):await L(this,Ja,XE).call(this,r.actions),clearTimeout(e),this.running&&L(this,Yn,Ih).call(this)})().catch(t=>Promise.reject(t))},u(this,Mn))},"#pollLivechat"),Ja=new WeakSet,XE=n(async function(e){let i=e.length<125?1:0,a=i==1?(i=1e4/e.length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80;for(let r of e)await L(this,Ha,QE).call(this,a),this.ev.emit("chat-update",r)},"#emitSmoothedActions"),Gn=new WeakSet,Ch=n(function(){let e=setTimeout(()=>{(async()=>{var r,o,c,p,d;let t={video_id:u(this,Oe).basic_info.id};u(this,Yt)&&(t.ctoken=u(this,Yt));let i=await u(this,ot).livechat("updated_metadata",t),a=Sh.parseResponse(i.data);I(this,Yt,a.continuation.token),I(this,Vn,a.continuation.timeout_ms),this.metadata={title:a.actions.get({type:"UpdateTitleAction"})||((r=this.metadata)==null?void 0:r.title),description:a.actions.get({type:"UpdateDescriptionAction"})||((o=this.metadata)==null?void 0:o.description),views:a.actions.get({type:"UpdateViewershipAction"})||((c=this.metadata)==null?void 0:c.views),likes:a.actions.get({type:"UpdateToggleButtonTextAction"})||((p=this.metadata)==null?void 0:p.likes),date:a.actions.get({type:"UpdateDateTextAction"})||((d=this.metadata)==null?void 0:d.date)},this.ev.emit("metadata-update",this.metadata),clearTimeout(e),this.running&&L(this,Gn,Ch).call(this)})().catch(t=>Promise.reject(t))},u(this,Vn))},"#pollMetadata"),Ha=new WeakSet,QE=n(async function(e){return new Promise(t=>setTimeout(()=>t(),e))},"#wait");ZE.exports=Wa});var rT=l((SD,sT)=>{"use strict";var{InnertubeError:pe}=M(),{PassThrough:HR,Readable:eT}=require("stream-browserify"),Ph=require("axios"),tT=q(),KR=jE(),nT=_e(),iT=Ph.CancelToken,$n,Pe,Wn,Gt,$t,Ka=class{constructor(e,t,i,a){E(this,$n,void 0);E(this,Pe,void 0);E(this,Wn,void 0);E(this,Gt,void 0);E(this,$t,void 0);var d,h,_,v,x,y;I(this,Pe,t),I(this,Wn,i),I(this,Gt,a);let r=tT.parseResponse(e[0]),o=tT.parseResponse(e[1].data||{});if(I(this,$n,[r,o]),r.playability_status.status==="ERROR")throw new pe("This video is unavailable",r.playability_status);this.basic_info={...r.video_details,embed:r.microformat.embed,channel:r.microformat.channel,is_unlisted:r.microformat.is_unlisted,is_family_safe:r.microformat.is_family_safe,has_ypc_metadata:r.microformat.has_ypc_metadata},this.streaming_data=r.streaming_data||null,this.playability_status=r.playability_status,this.annotations=r.annotations,this.storyboards=r.storyboards,this.endscreen=r.endscreen,this.captions=r.captions,this.cards=r.cards;let c=(d=o.contents)==null?void 0:d.results,p=(h=o.contents)==null?void 0:h.secondary_results;if(c&&p){this.primary_info=c.get({type:"VideoPrimaryInfo"}),this.secondary_info=c.get({type:"VideoSecondaryInfo"}),this.merchandise=(c==null?void 0:c.get({type:"MerchandiseShelf"}))||null,this.related_chip_cloud=(_=p==null?void 0:p.get({type:"RelatedChipCloud"}))==null?void 0:_.content,this.watch_next_feed=(v=p==null?void 0:p.get({type:"ItemSection"}))==null?void 0:v.contents,I(this,$t,(x=this.watch_next_feed)==null?void 0:x.pop()),this.player_overlays=o.player_overlays,this.basic_info.like_count=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).like_count,this.basic_info.is_liked=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).is_toggled,this.basic_info.is_disliked=this.primary_info.menu.top_level_buttons.get({icon_type:"DISLIKE"}).is_toggled;let m=c.get({target_id:"comments-entry-point"});this.comments_entry_point_header=(m==null?void 0:m.contents.get({type:"CommentsEntryPointHeader"}))||null,this.livechat=((y=o.contents_memo.get("LiveChat"))==null?void 0:y[0])||null}}async selectFilter(e){if(!this.filters.includes(e))throw new pe("Invalid filter",{available_filters:this.filters});let t=this.related_chip_cloud.chips.get({text:e});if(t.is_selected)return this;let a=(await t.endpoint.call(u(this,Pe))).on_response_received_endpoints.get({target_id:"watch-next-feed"});return this.watch_next_feed=a.contents,this}async getWatchNextContinuation(){let t=(await u(this,$t).endpoint.call(u(this,Pe))).on_response_received_endpoints.get({type:"appendContinuationItemsAction"});return this.watch_next_feed=t.contents,I(this,$t,this.watch_next_feed.pop()),this.watch_next_feed}async like(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_LIKE"});if(e.is_toggled)throw new pe("This video is already liked",{video_id:this.basic_info.id});return await e.endpoint.call(u(this,Pe))}async dislike(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_DISLIKE"});if(e.is_toggled)throw new pe("This video is already disliked",{video_id:this.basic_info.id});return await e.endpoint.call(u(this,Pe))}async removeLike(){let e=this.primary_info.menu.top_level_buttons.get({is_toggled:!0});if(!e)throw new pe("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(u(this,Pe))}async getLiveChat(e){if(!this.livechat)throw new pe("Live Chat is not available",{video_id:this.id});return new KR(this,e)}get filters(){var e;return((e=this.related_chip_cloud)==null?void 0:e.chips.map(t=>t.text.toString()))||[]}get actions(){return u(this,Pe)}get page(){return u(this,$n)}get music_tracks(){let e=this.secondary_info.metadata;if(!e)return[];let t=[],i={},a=!1;for(let r=0;r<e.rows.length;r++){let o=e.rows[r];if(o.type==="MetadataRowHeader"){o.content.toString().toLowerCase().startsWith("music")&&(a=!0,r++);continue}!a||(i[o.title.toString().toLowerCase().replace(/ /g,"_")]=o.contents,o.has_divider_line&&(t.push(i),i={}))}return a&&t.push(i),t}chooseFormat(e){let t=[...this.streaming_data.formats||[],...this.streaming_data.adaptive_formats||[]],i=e.type.includes("audio"),a=e.type.includes("video"),r=-1,o=["best","bestefficiency"].includes(e.quality),c=e.quality!=="best",p=t.filter(d=>i&&!d.has_audio||a&&!d.has_video||e.format!=="any"&&!d.mime_type.includes(e.format)||!o&&d.quality_label!==e.quality?!1:(r<d.width&&(r=d.width),!0));if(p.length===0)throw new pe("No matching formats found",{options:e});if(o&&a&&(p=p.filter(d=>d.width===r)),i&&!a){let d=p.filter(h=>!h.has_video);d.length>0&&(p=d)}return c?p.sort((d,h)=>d.bitrate-h.bitrate):p.sort((d,h)=>h.bitrate-d.bitrate),p[0]}download(e={},t){let i=t||new HR,a,r=!1;return(async()=>{if(this.playability_status==="UNPLAYABLE")return i.emit("error",new pe("Video is unplayable",{video:this,error_type:"UNPLAYABLE"}));if(this.playability_status==="LOGIN_REQUIRED")return i.emit("error",new pe("Video is login required",{video:this,error_type:"LOGIN_REQUIRED"}));if(!this.streaming_data)return i.emit("error",new pe("Streaming data not available.",{video:this,error_type:"NO_STREAMING_DATA"}));let o={quality:"360p",type:"videoandaudio",format:"mp4",range:void 0,...e},c=this.chooseFormat(o),p=c.decipher(u(this,Wn));if(o.type==="videoandaudio"&&!e.range){let d=await Ph.get(`${p}&cpn=${u(this,Gt)}`,{responseType:"stream",cancelToken:new iT(n(function(v){a=v},"executor")),headers:nT.STREAM_HEADERS}).catch(_=>_);if(d instanceof Error)return i.emit("error",new pe(d.message,{type:"REQUEST_FAILED"})),i;i.emit("start");let h=0;if(typeof d.data=="object")d.data.on("data",_=>{h+=_.length;let v=(d.headers["content-length"]/1024/1024).toFixed(2),x=Math.floor(h/d.headers["content-length"]*100);i.emit("progress",{size:v,percentage:x,chunk_size:_.length,downloaded_size:(h/1024/1024).toFixed(2),raw_data:{chunk_size:_.length,downloaded:h,size:d.headers["content-length"]}})}),d.data.on("error",_=>{r&&i.emit("error",new pe("The download was cancelled.",{type:"DOWNLOAD_CANCELLED"}))||i.emit("error",new pe(_.message,{type:"DOWNLOAD_ABORTED"}))}),d.data.pipe(i,{end:!0});else{let _=new eT;_.push(d.data),_.pipe(i,{end:!0})}}else{let h=e.range?e.range.start:0,_=e.range?e.range.end:10485760,v=0,x=!1;i.emit("start");let y=n(async()=>{(_>=c.content_length||e.range)&&(x=!0),e.range&&(c.content_length=e.range.end);let m=await Ph.get(`${p}&cpn=${u(this,Gt)}&range=${h}-${_||""}`,{responseType:"stream",cancelToken:new iT(n(function(P){a=P},"executor")),headers:nT.STREAM_HEADERS}).catch(T=>T);if(m instanceof Error)return i.emit("error",{message:m.message,type:"REQUEST_FAILED"}),i;if(typeof m.data=="object")m.data.on("data",T=>{v+=T.length;let P=(m.headers["content-length"]/1024/1024).toFixed(2),f=Math.floor(v/m.headers["content-length"]*100);i.emit("progress",{size:P,percentage:f,chunk_size:T.length,downloaded_size:(v/1024/1024).toFixed(2),raw_data:{chunk_size:T.length,downloaded:v,size:m.headers["content-length"]}})}),m.data.on("error",T=>{r&&i.emit("error",{message:"The download was cancelled.",type:"DOWNLOAD_CANCELLED"})||i.emit("error",{message:T.message,type:"DOWNLOAD_ABORTED"})}),m.data.on("end",()=>{!x&&!e.range&&(h=_+1,_+=10485760,y())}),m.data.pipe(i,{end:x});else{let T=new eT;T.push(m.data),T.pipe(i,{end:x})}},"downloadChunk");y()}})().catch(o=>{i.emit("error",o)}),i.cancel=()=>{r=!0,a&&a()},i}};n(Ka,"VideoInfo"),$n=new WeakMap,Pe=new WeakMap,Wn=new WeakMap,Gt=new WeakMap,$t=new WeakMap;sT.exports=Ka});var fh=l((ID,oT)=>{"use strict";var{InnertubeError:zR}=M(),XR=We(),Wt,Jt,Rh=class extends XR{constructor(t,i,a=!1){super(t,i,a);E(this,Wt,void 0);E(this,Jt,void 0);I(this,Jt,t),I(this,Wt,this.page.contents_memo.get("Tab"))}get tabs(){return u(this,Wt).map(t=>t.title.toString())}async getTab(t){let i=u(this,Wt).find(r=>r.title.toLowerCase()===t.toLowerCase());if(!i)throw new zR(`Tab "${t}" not found`);if(i.selected)return this;let a=await i.endpoint.call(u(this,Jt));return new Rh(u(this,Jt),a,!0)}get title(){var t,i;return(i=(t=this.page.contents_memo("Tab"))==null?void 0:t.find(a=>a.selected))==null?void 0:i.title.toString()}},za=Rh;n(za,"TabbedFeed"),Wt=new WeakMap,Jt=new WeakMap;oT.exports=za});var aT=l((CD,cT)=>{"use strict";var QR=fh(),Ah,ct=class extends QR{constructor(t,i,a=!1){super(t,i,a);E(this,Ah,void 0);this.header={author:this.page.header.author,subscribers:this.page.header.subscribers.toString(),banner:this.page.header.banner,tv_banner:this.page.header.tv_banner,mobile_banner:this.page.header.mobile_banner,header_links:this.page.header.header_links},this.metadata={...this.page.metadata,...this.page.microformat},this.sponsor_button=this.page.header.sponsor_button||null,this.subscribe_button=this.page.header.subscribe_button||null;let r=this.page.contents.tabs.get({selected:!0});this.current_tab=r}async getVideos(){let t=await this.getTab("Videos");return new ct(this.actions,t.page,!0)}async getPlaylists(){let t=await this.getTab("Playlists");return new ct(this.actions,t.page,!0)}async getHome(){let t=await this.getTab("Home");return new ct(this.actions,t.page,!0)}async getCommunity(){let t=await this.getTab("Community");return new ct(this.actions,t.page,!0)}async getChannels(){let t=await this.getTab("Channels");return new ct(this.actions,t.page,!0)}async getAbout(){var i;return(i=(await this.getTab("About")).memo.get("ChannelAboutFullMetadata"))==null?void 0:i[0]}},Xa=ct;n(Xa,"Channel"),Ah=new WeakMap;cT.exports=Xa});var kh=l((PD,uT)=>{"use strict";var ZR=We(),Ht=class extends ZR{constructor(e,t,i=!1){var a;super(e,t,i),this.sections=this.memo.get("ItemSection"),this.feed_actions=((a=this.memo.get("BrowseFeedActions"))==null?void 0:a[0])||[]}async getContinuation(){let e=await this.getContinuationData();return new Ht(this.actions,e,!0)}};n(Ht,"History");uT.exports=Ht});var dT=l((RD,hT)=>{"use strict";var jR=q(),ef=kh(),tf=Ya(),nf=We(),{observe:sf}=M(),Je,He,Za,lT,Qa=class{constructor(e,t){E(this,Za);E(this,Je,void 0);E(this,He,void 0);I(this,Je,t),I(this,He,jR.parseResponse(e));let a=u(this,He).contents.tabs.get({selected:!0}).content.contents.map(c=>c.contents[0]),r=u(this,He).contents.secondary_contents.items.get({type:"ProfileColumnStats"}).items,o=u(this,He).contents.secondary_contents.items.get({type:"ProfileColumnUserInfo"});this.profile={stats:r,user_info:o},this.sections=sf(a.map(c=>({type:c.icon_type,title:c.title,contents:c.content.items,getAll:()=>L(this,Za,lT).call(this,c)})))}get history(){return this.sections.get({type:"WATCH_HISTORY"})}get watch_later(){return this.sections.get({type:"WATCH_LATER"})}get liked_videos(){return this.sections.get({type:"LIKE"})}get playlists(){return this.sections.get({type:"PLAYLISTS"})}get clips(){return this.sections.get({type:"CONTENT_CUT"})}get page(){return u(this,He)}};n(Qa,"Library"),Je=new WeakMap,He=new WeakMap,Za=new WeakSet,lT=n(async function(e){var a;if(!((a=e.menu)!=null&&a.top_level_buttons))throw new Error(`The ${e.title.text} section doesn't have more items`);let i=await(await e.menu.top_level_buttons.get({text:"See all"})).endpoint.call(u(this,Je));switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new tf(u(this,Je),i,!0);case"WATCH_HISTORY":return new ef(u(this,Je),i,!0);case"CONTENT_CUT":return new nf(u(this,Je),i,!0);default:}},"#getAll");hT.exports=Qa});var gT=l((fD,pT)=>{"use strict";var rf=q(),{InnertubeError:of}=M(),at,De,Kt,Lh=class{constructor(e,t,i=!1){E(this,at,void 0);E(this,De,void 0);E(this,Kt,void 0);var o,c;I(this,at,i?t:rf.parseResponse(t)),I(this,De,e);let a=u(this,at).on_response_received_endpoints;this.header=a[0].contents.get({type:"CommentsHeader"});let r=((o=a[1].contents)==null?void 0:o.findAll({type:"CommentThread"}))||[];this.contents=r.map(p=>(p.comment.setActions(u(this,De)),p.setActions(u(this,De)),p)),I(this,Kt,((c=a[1].contents)==null?void 0:c.get({type:"ContinuationItem"}))||null)}async comment(e){let t=this.header.create_renderer.submit_button,i={params:{commentText:e},parse:!1};return await t.endpoint.callTest(u(this,De),i)}async getContinuation(){if(!u(this,Kt))throw new of("Continuation not found");let e=await u(this,Kt).endpoint.callTest(u(this,De)),t=Object.assign({},u(this,at));return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new Lh(u(this,De),t,!0)}get page(){return u(this,at)}},ja=Lh;n(ja,"Comments"),at=new WeakMap,De=new WeakMap,Kt=new WeakMap;pT.exports=ja});var mT=l((AD,_T)=>{"use strict";var cf=q(),{InnertubeError:af}=M(),Ke,zt,Oh,Dh=class{constructor(e,t){E(this,Ke,void 0);E(this,zt,void 0);E(this,Oh,void 0);var i;I(this,zt,e),I(this,Ke,cf.parseResponse(t)),this.header=((i=u(this,Ke).actions_memo.get("SimpleMenuHeader"))==null?void 0:i[0])||null,this.contents=u(this,Ke).actions_memo.get("Notification")}async getContinuation(){var i;let e=(i=u(this,Ke).actions_memo.get("ContinuationItem"))==null?void 0:i[0];if(!e)throw new af("Continuation not found");let t=await e.endpoint.callTest(u(this,zt),{parse:!1});return new Dh(u(this,zt),t.data)}get page(){return u(this,Ke)}},eu=Dh;n(eu,"NotificationsMenu"),Ke=new WeakMap,zt=new WeakMap,Oh=new WeakMap;_T.exports=eu});var xT=l((kD,wT)=>{"use strict";var yT=q(),{observe:uf,InnertubeError:Uh}=M(),Xt,Ue,ze,Qt,nu,vT,iu=class{constructor(e,t,i={}){E(this,nu);E(this,Xt,void 0);E(this,Ue,void 0);E(this,ze,void 0);E(this,Qt,void 0);I(this,Ue,t),I(this,Xt,i.is_continuation&&e||yT.parseResponse(e.data));let a=u(this,Xt).contents.tabs.get({selected:!0}),r=a.content.contents,o=r.get({type:"ItemSection"});if(I(this,Qt,a.content.header),this.did_you_mean=(o==null?void 0:o.contents.get({type:"DidYouMean"}))||null,this.showing_results_for=(o==null?void 0:o.contents.get({type:"ShowingResultsFor"}))||null,(!!this.did_you_mean||!!this.showing_results_for)&&r.shift(),i.is_continuation||i.is_filtered){let c=r.get({type:"MusicShelf"});this.results=c.contents,I(this,ze,c.continuation);return}this.sections=uf(r.map(c=>({title:c.title,contents:c.contents,getMore:()=>L(this,nu,vT).call(this,c)})))}async getContinuation(){var i,a,r;if(!u(this,ze))throw new Uh("Looks like you've reached the end");let t=(await u(this,Ue).search({ctoken:u(this,ze),client:"YTMUSIC"})).data.continuationContents.musicShelfContinuation;return this.results=yT.parse(t.contents),I(this,ze,(r=(a=(i=t==null?void 0:t.continuations)==null?void 0:i[0])==null?void 0:a.nextContinuationData)==null?void 0:r.continuation),this}async selectFilter(e){if(!this.filters.includes(e))throw new Uh("Invalid filter",{available_filters:this.filters});let t=u(this,Qt).chips.get({text:e});if(t.is_selected)return this;let i=await t.endpoint.call(u(this,Ue),"YTMUSIC");return new iu(i,u(this,Ue),{is_continuation:!0})}get has_continuation(){return!!u(this,ze)}get filters(){return u(this,Qt).chips.map(e=>e.text)}get songs(){return this.sections.get({title:"Songs"})}get videos(){return this.sections.get({title:"Videos"})}get albums(){return this.sections.get({title:"Albums"})}get artists(){return this.sections.get({title:"Artists"})}get playlists(){return this.sections.get({title:"Community playlists"})}get page(){return u(this,Xt)}},tu=iu;n(tu,"Search"),Xt=new WeakMap,Ue=new WeakMap,ze=new WeakMap,Qt=new WeakMap,nu=new WeakSet,vT=n(async function(e){if(!e.endpoint)throw new Uh(`${e.title} doesn't have more items`);let t=await e.endpoint.call(u(this,Ue),"YTMUSIC");return new iu(t,u(this,Ue),{is_continuation:!0})},"#getMore");wT.exports=tu});var ET=l((LD,bT)=>{"use strict";var lf=q(),Xe,Zt,Jn,Bh=class{constructor(e,t){E(this,Xe,void 0);E(this,Zt,void 0);E(this,Jn,void 0);var a,r;I(this,Zt,t),I(this,Xe,lf.parseResponse(e.data));let i=u(this,Xe).contents.tabs.get({title:"Home"});I(this,Jn,((a=i.content)==null?void 0:a.continuation)||u(this,Xe).continuation_contents.continuation),this.sections=((r=i.content)==null?void 0:r.contents)||u(this,Xe).continuation_contents.contents}async getContinuation(){let e=await u(this,Zt).browse(u(this,Jn),{is_ctoken:!0,client:"YTMUSIC"});return new Bh(e,u(this,Zt))}get page(){return u(this,Xe)}},su=Bh;n(su,"HomeFeed"),Xe=new WeakMap,Zt=new WeakMap,Jn=new WeakMap;bT.exports=su});var qT=l((OD,TT)=>{"use strict";var hf=q(),Hn,ru=class{constructor(e){E(this,Hn,void 0);I(this,Hn,hf.parseResponse(e.data));let t=this.page.contents.tabs.get({selected:!0});this.top_buttons=t.content.contents.get({type:"Grid"}).items,this.sections=t.content.contents.findAll({type:"MusicCarouselShelf"})}get page(){return u(this,Hn)}};n(ru,"Explore"),Hn=new WeakMap;TT.exports=ru});var IT=l((DD,ST)=>{"use strict";var df=q(),Kn,ou=class{constructor(e){E(this,Kn,void 0);I(this,Kn,df.parseResponse(e.data))}get page(){return u(this,Kn)}};n(ou,"Library"),Kn=new WeakMap;ST.exports=ou});var PT=l((UD,CT)=>{"use strict";var pf=q(),{observe:gf}=M(),ut,zn,cu=class{constructor(e,t){E(this,ut,void 0);E(this,zn,void 0);I(this,ut,pf.parseResponse(e.data)),I(this,zn,t),this.header=this.page.header;let i=u(this,ut).contents_memo.get("MusicShelf"),a=u(this,ut).contents_memo.get("MusicCarouselShelf");this.sections=gf([...i,...a])}async getAllSongs(){var i;return((i=(await this.sections.get({type:"MusicShelf"}).endpoint.call(u(this,zn),"YTMUSIC")).contents_memo.get("MusicPlaylistShelf"))==null?void 0:i[0])||[]}get page(){return u(this,ut)}};n(cu,"Artist"),ut=new WeakMap,zn=new WeakMap;CT.exports=cu});var fT=l((BD,RT)=>{"use strict";var _f=q(),Be,uu,au=class{constructor(e,t){E(this,Be,void 0);E(this,uu,void 0);var i;I(this,Be,_f.parseResponse(e.data)),I(this,uu,t),this.header=u(this,Be).header,this.url=u(this,Be).microformat.url_canonical,this.contents=(i=u(this,Be).contents_memo.get("MusicShelf"))==null?void 0:i[0].contents,this.sections=u(this,Be).contents_memo.get("MusicCarouselShelf")||[]}get page(){return u(this,Be)}};n(au,"Album"),Be=new WeakMap,uu=new WeakMap;RT.exports=au});var kT=l((ND,AT)=>{"use strict";var Nh=q(),mf=xT(),yf=ET(),vf=qT(),wf=IT(),xf=PT(),bf=fT(),{InnertubeError:jt,throwIfMissing:en,observe:Ef}=M(),hu,K,lu=class{constructor(e){E(this,hu,void 0);E(this,K,void 0);I(this,hu,e),I(this,K,e.actions)}async search(e,t){en({query:e});let i=await u(this,K).search({query:e,filters:t,client:"YTMUSIC"});return new mf(i,u(this,K),{is_filtered:(t==null?void 0:t.hasOwnProperty("type"))&&t.type!=="all"})}async getHomeFeed(){let e=await u(this,K).browse("FEmusic_home",{client:"YTMUSIC"});return new yf(e,u(this,K))}async getExplore(){let e=await u(this,K).browse("FEmusic_explore",{client:"YTMUSIC"});return new vf(e,u(this,K))}async getLibrary(){let e=await u(this,K).browse("FEmusic_liked_albums",{client:"YTMUSIC"});return new wf(e,u(this,K))}async getArtist(e){if(en({artist_id:e}),!e.startsWith("UC"))throw new jt("Invalid artist id",e);let t=await u(this,K).browse(e,{client:"YTMUSIC"});return new xf(t,u(this,K))}async getAlbum(e){if(en({album_id:e}),!e.startsWith("MPR"))throw new jt("Invalid album id",e);let t=await u(this,K).browse(e,{client:"YTMUSIC"});return new bf(t,u(this,K))}async getLyrics(e){en({video_id:e});let t=await u(this,K).next({video_id:e,client:"YTMUSIC"}),r=await Nh.parseResponse(t.data).contents.tabs.get({title:"Lyrics"}).endpoint.call(u(this,K),"YTMUSIC");if(!r)throw new jt("Invalid video id");if(r.contents.constructor.name==="Message")throw new jt(r.contents.text,e);let o=r.contents.contents.get({type:"MusicDescriptionShelf"});return{text:o.description.toString(),footer:o.footer}}async getUpNext(e){en({video_id:e});let t=await u(this,K).next({video_id:e,client:"YTMUSIC"}),r=Nh.parseResponse(t.data).contents.tabs.get({title:"Up next"}).content.content;if(!r)throw new jt("Invalid id",e);return{id:r.playlist_id,title:r.title,is_editable:r.is_editable,contents:Ef(r.contents)}}async getRelated(e){en({video_id:e});let t=await u(this,K).next({video_id:e,client:"YTMUSIC"}),r=await Nh.parseResponse(t.data).contents.tabs.get({title:"Related"}).endpoint.call(u(this,K),"YTMUSIC");if(!r)throw new jt("Invalid video id");let o=r.contents.contents.findAll({type:"MusicCarouselShelf"}),c=r.contents.contents.get({type:"MusicDescriptionShelf"});return{sections:o,info:(c==null?void 0:c.description.toString())||""}}async getSearchSuggestions(e){var r;let t={parse:!0,input:e,client:"YTMUSIC"},a=(r=(await u(this,K).execute("/music/get_search_suggestions",t)).contents_memo.get("SearchSuggestionsSection"))==null?void 0:r[0];return(a==null?void 0:a.contents)||[]}};n(lu,"Music"),hu=new WeakMap,K=new WeakMap;AT.exports=lu});var DT=l((FD,OT)=>{"use strict";var{InnertubeError:du}=M(),LT=We(),lt,pu=class extends LT{constructor(t,i,a=!1){super(t,i,a);E(this,lt,void 0)}get filter_chips(){var t,i;if(u(this,lt))return u(this,lt)||[];if(((t=this.memo.get("FeedFilterChipBar"))==null?void 0:t.length)>1)throw new du("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.get("FeedFilterChipBar"))==null?void 0:i.length)===0)throw new du("There are no feed filter chipbars");return I(this,lt,this.memo.get("ChipCloudChip")||[]),u(this,lt)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){let i;if(typeof t=="string"){if(!this.filters.includes(t))throw new du("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(r=>r.text.toString()===t)}else if(t.type==="ChipCloudChip")i=t;else throw new du("Invalid filter");if(i.is_selected)return this;let a=await i.endpoint.call(this.actions);return new LT(this.actions,a,!0)}};n(pu,"FilterableFeed"),lt=new WeakMap;OT.exports=pu});var MT=l((MD,FT)=>{"use strict";var Tf=require("axios"),Xn=_e(),tn=M(),Qe,ge,_u,UT,mu,BT,yu,NT,gu=class{constructor(e){E(this,_u);E(this,mu);E(this,yu);E(this,Qe,void 0);E(this,ge,void 0);this.config=e,I(this,Qe,Tf.create({proxy:e.proxy,httpAgent:e.http_agent,httpsAgent:e.https_agent,params:{prettyPrint:!1},headers:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json","user-agent":tn.getRandomUserAgent("desktop").userAgent},validateStatus:()=>!0,timeout:15e3})),L(this,_u,UT).call(this),L(this,mu,BT).call(this)}setSession(e){I(this,ge,e)}get instance(){return u(this,Qe)}};n(gu,"Request"),Qe=new WeakMap,ge=new WeakMap,_u=new WeakSet,UT=n(function(){u(this,Qe).interceptors.request.use(async e=>{if(u(this,ge)){let t=`${Xn.URLS.API.PRODUCTION}${u(this,ge).version}`;e.baseURL=e.baseURL||t,e.headers["accept-language"]=`en-${u(this,ge).config.gl||"US"}`,e.headers["x-goog-visitor-id"]=u(this,ge).context.client.visitorData||"",e.headers["x-youtube-client-version"]=u(this,ge).context.client.clientVersion,e.headers["x-origin"]=new URL(e.baseURL).origin,e.headers.origin=new URL(e.baseURL).origin,e.params.key=u(this,ge).key;let i=e.baseURL==t;if(i&&typeof e.data=="object"&&(e.data={context:JSON.parse(JSON.stringify(u(this,ge).context)),...e.data},L(this,yu,NT).call(this,e.data.context,e.data.client),e.headers["x-youtube-client-version"]=e.data.context.client.clientVersion,delete e.data.client),u(this,ge).logged_in&&i){let a=u(this,ge).oauth;if(a.validateCredentials()&&(await a.checkAccessTokenValidity(),e.headers.authorization=`Bearer ${a.credentials.access_token}`,delete e.params.key),this.config.cookie){let r=tn.getStringBetweenStrings(this.config.cookie,"PAPISID=",";");e.headers.authorization=tn.generateSidAuth(r),e.headers.cookie=this.config.cookie}}}if(this.config.debug){let t=`${e.baseURL?`${e.baseURL}`:""}${e.url}`;console.info(`
`,`[${e.method.toUpperCase()}] > ${t}`,`
`,(e==null?void 0:e.data)||"N/A",`
`)}return e},e=>{throw new tn.InnertubeError(e.message,e)})},"#setupRequestInterceptor"),mu=new WeakSet,BT=n(function(){u(this,Qe).interceptors.response.use(e=>{let t={success:e.status===200,status_code:e.status,data:e.data};if(e.status!==200)throw new tn.InnertubeError(`Request to ${e.config.url} failed with status code ${e.status}`,t);return t}),u(this,Qe).interceptors.response.use(void 0,e=>{if(e.info)return Promise.reject(e);throw new tn.InnertubeError("Could not complete this operation",e.message)})},"#setupResponseInterceptor"),yu=new WeakSet,NT=n(function(e,t){switch(t){case"YTMUSIC":e.client.clientVersion=Xn.CLIENTS.YTMUSIC.VERSION,e.client.clientName=Xn.CLIENTS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=Xn.CLIENTS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Xn.CLIENTS.ANDROID.NAME;break;default:break}},"#adjustContext");FT.exports=gu});var qf=zh(),Sf=F0(),If=OE(),Cf=NE(),Pf=$E(),Rf=JE(),ff=zE(),VT=rT(),Af=aT(),kf=Ya(),Lf=dT(),Of=kh(),Df=gT(),Uf=mT(),Bf=kT(),Nf=DT(),Ff=fh(),Mf=We(),Vf=require("events"),{PassThrough:Yf}=require("stream-browserify"),Gf=MT(),$f=_e(),{InnertubeError:Wf,throwIfMissing:Ze,generateRandomString:YT}=M(),Jf=dt(),ht,nn,wu,GT,vu=class{constructor(e){E(this,wu);E(this,ht,void 0);E(this,nn,void 0);return this.config=e||{},L(this,wu,GT).call(this)}signIn(e={}){return new Promise(async t=>{this.oauth.init(e),this.oauth.validateCredentials()&&(await this.oauth.checkAccessTokenValidity(),this.logged_in=!0,t()),this.ev.on("auth",i=>{this.logged_in=!0,i.status==="SUCCESS"&&t()})})}async signOut(){if(!this.logged_in)throw new Wf("You are not signed in");let e=await this.oauth.revokeAccessToken();return this.logged_in=!1,e}async getInfo(e){Ze({video_id:e});let t=YT(16),i=this.actions.getVideoInfo(e,t),a=this.actions.next({video_id:e}),r=await Promise.all([i,a]);return new VT(r,this.actions,u(this,ht),t)}async getBasicInfo(e){Ze({video_id:e});let t=YT(16),i=await this.actions.getVideoInfo(e,t);return new VT([i,{}],this.actions,u(this,ht),t)}async search(e,t={}){Ze({query:e});let i=await this.actions.search({query:e,filters:t});return new ff(this.actions,i.data)}async getSearchSuggestions(e){Ze({query:e});let t=await u(this,nn).call(this,{url:"search",baseURL:$f.URLS.YT_SUGGESTIONS,params:{q:e,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:this.context.client.gl,hl:this.context.client.hl}});return JSON.parse(t.data.replace(")]}'",""))[1].map(r=>r[0])}async getComments(e,t){Ze({video_id:e});let i=Jf.encodeCommentsSectionParams(e,{sort_by:t||"TOP_COMMENTS"}),a=await this.actions.next({ctoken:i});return new Df(this.actions,a.data)}async getHomeFeed(){let e=await this.actions.browse("FEwhat_to_watch");return new Nf(this.actions,e.data)}async getLibrary(){let e=await this.actions.browse("FElibrary");return new Lf(e.data,this.actions)}async getHistory(){let e=await this.actions.browse("FEhistory");return new Of(this.actions,e.data)}async getTrending(){let e=await this.actions.browse("FEtrending");return new Ff(this.actions,e.data)}async getSubscriptionsFeed(){let e=await this.actions.browse("FEsubscriptions");return new Mf(this.actions,e.data)}async getChannel(e){Ze({id:e});let t=await this.actions.browse(e);return new Af(this.actions,t.data)}async getNotifications(){let e=await this.actions.notifications("get_notification_menu");return new Uf(this.actions,e.data)}async getUnseenNotificationsCount(){return(await this.actions.notifications("get_unseen_count")).data.unseenCount}async getPlaylist(e){Ze({playlist_id:e});let t=await this.actions.browse(`VL${e.replace(/VL/g,"")}`);return new kf(this.actions,t.data)}async getStreamingData(e,t={}){return(await this.getBasicInfo(e)).chooseFormat(t)}download(e,t={}){Ze({video_id:e});let i=new Yf;return(async()=>{let a=await this.getBasicInfo(e);i.emit("info",a),a.download(t,i)})(),i}getPlayer(){return u(this,ht)}get request(){return u(this,nn)}};n(vu,"Innertube"),ht=new WeakMap,nn=new WeakMap,wu=new WeakSet,GT=n(async function(){let e=new Gf(this.config),t=await new If(this.config,e.instance).build();return this.key=t.key,this.version=t.api_version,this.context=t.context,this.logged_in=!!this.config.cookie,this.sts=t.player.sts,this.player_url=t.player.url,I(this,ht,t.player),e.setSession(this),I(this,nn,e.instance),this.ev=new Vf,this.oauth=new qf(this.ev,e.instance),this.actions=new Sf(this),this.account=new Cf(this.actions),this.playlist=new Pf(this.actions),this.interact=new Rf(this.actions),this.music=new Bf(this),this},"#init");module.exports=vu;
//# sourceMappingURL=node.js.map
