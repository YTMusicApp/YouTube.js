"use strict";/* eslint-disable */
var au=Object.defineProperty;var Nb=(c,e,t)=>e in c?au(c,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[e]=t;var n=(c,e)=>au(c,"name",{value:e,configurable:!0});var g=(c,e)=>()=>(e||c((e={exports:{}}).exports,e),e.exports);var ie=(c,e,t)=>(Nb(c,typeof e!="symbol"?e+"":e,t),t),Ya=(c,e,t)=>{if(!e.has(c))throw TypeError("Cannot "+t)};var l=(c,e,t)=>(Ya(c,e,"read from private field"),t?t.call(c):e.get(c)),q=(c,e,t)=>{if(e.has(c))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(c):e.set(c,t)},I=(c,e,t,i)=>(Ya(c,e,"write to private field"),i?i.call(c,t):e.set(c,t),t);var N=(c,e,t)=>(Ya(c,e,"access private method"),t);var pe=g((Z0,lu)=>{"use strict";lu.exports={URLS:{YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",API:{BASE:"https://youtubei.googleapis.com",PRODUCTION:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}},OAUTH:{SCOPE:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",GRANT_TYPE:"http://oauth.net/grant_type/device/1.0",MODEL_NAME:"ytlr::",HEADERS:{accept:"*/*",origin:"https://www.youtube.com","user-agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version","content-type":"application/json",referer:"https://www.youtube.com/tv","accept-language":"en-US"},REGEX:{AUTH_SCRIPT:/<script id="base-js" src="(.*?)" nonce=".*?"><\/script>/,CLIENT_IDENTITY:/.+?={};var .+?={clientId:"(?<client_id>.+?)",.+?:"(?<client_secret>.+?)"},/}},CLIENTS:{WEB:{NAME:"WEB"},YTMUSIC:{NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME:"ANDROID",VERSION:"17.17.32"}},STREAM_HEADERS:{accept:"*/*",connection:"keep-alive",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"},INNERTUBE_HEADERS_BASE:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"},METADATA_KEYS:["embed","view_count","average_rating","allow_ratings","length_seconds","channel_id","channel_url","external_channel_id","is_live_content","is_family_safe","is_unlisted","is_private","has_ypc_metadata","category","owner_channel_name","publish_date","upload_date","keywords","available_countries","owner_profile_url"],BLACKLISTED_KEYS:["is_owner_viewing","is_unplugged_corpus","is_crawlable","author"],ACCOUNT_SETTINGS:{SUBSCRIPTIONS:"NOTIFICATION_SUBSCRIPTION_NOTIFICATIONS",RECOMMENDED_VIDEOS:"NOTIFICATION_RECOMMENDATION_WEB_CONTROL",CHANNEL_ACTIVITY:"NOTIFICATION_COMMENT_WEB_CONTROL",COMMENT_REPLIES:"NOTIFICATION_COMMENT_REPLY_OTHER_WEB_CONTROL",USER_MENTION:"NOTIFICATION_USER_MENTION_WEB_CONTROL",SHARED_CONTENT:"NOTIFICATION_RETUBING_WEB_CONTROL",PLAYLISTS_PRIVACY:"PRIVACY_DISCOVERABLE_SAVED_PLAYLISTS",SUBSCRIPTIONS_PRIVACY:"PRIVACY_DISCOVERABLE_SUBSCRIPTIONS"},BASE64_DIALECT:{NORMAL:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),REVERSE:"0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split("")},SIG_REGEX:{ACTIONS:/;.{2}\.(?<name>.{2})\(.*?,(?<param>.*?)\)/g,FUNCTIONS:/(?<name>.{2}):function\(.*?\){(.*?)}/g},NTOKEN_REGEX:{CALLS:/c\[(.*?)\]\((.+?)\)/g,PLACEHOLDERS:/c\[(.*?)\]=c/g,FUNCTIONS:/d\.push\(e\)|d\.reverse\(\)|d\[0\]\)\[0\]\)|f=d\[0];d\[0\]|d\.length;d\.splice\(e,1\)|function\(\){for\(var|function\(d,e,f\){var|function\(d\){for\(var|reverse\(\)\.forEach|unshift\(d\.pop\(\)\)|function\(d,e\){for\(var f/},FUNCS:{PUSH:"d.push(e)",REVERSE_1:"d.reverse()",REVERSE_2:"function(d){for(var",SPLICE:"d.length;d.splice(e,1)",SWAP0_1:"d[0])[0])",SWAP0_2:"f=d[0];d[0]",ROTATE_1:"reverse().forEach",ROTATE_2:"unshift(d.pop())",BASE64_DIA:"function(){for(var",TRANSLATE_1:"function(d,e){for(var f",TRANSLATE_2:"function(d,e,f){var"}}});var Bn=g((j0,Ob)=>{Ob.exports={name:"youtubei.js",version:"2.0.0",description:"A full-featured wrapper around YouTube's private API. Allows you to retrieve info about any video, subscribe, unsubscribe, like, dislike, comment, search, download videos/music and much more!",author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)"],funding:"https://ko-fi.com/luanrt",license:"MIT",scripts:{test:"npx jest --verbose","test:node":"npm run build:node:prod && npx jest node","test:browser":"npm run build:browser:prod && npx jest browser",lint:"npx eslint ./lib","lint:fix":"npx eslint --fix ./lib","build:types":"npx tsc","build:parser-map":"node ./scripts/build-parser-json.js","build:general":'npm run build:parser-map && npx esbuild ./lib/Innertube.js --banner:js="/* eslint-disable */" --bundle --target=node12 --keep-names --format=cjs --sourcemap',"build:node":"npm run build:general -- --outfile=./build/node.js --platform=node --external:axios --external:buffer --external:events --external:flat --external:idb --external:node-forge --external:protocol-buffers-encodings --external:stream-browserify --external:user-agents --external:uuid --define:BROWSER=false","build:node:prod":"npm run build:node -- --minify","build:browser":"npm run build:general -- --outfile=./build/browser.js --platform=browser --define:BROWSER=true","build:browser:prod":"npm run build:browser -- --minify"},types:"./typings/lib/Innertube.d.ts",main:"./build/node.js",browser:"./build/browser.js",directories:{test:"./test",typings:"./typings",examples:"./examples",lib:"./lib"},dependencies:{axios:"^0.21.4",buffer:"^6.0.3",events:"^3.3.0",fastestsmallesttextencoderdecoder:"^1.0.22",flat:"^5.0.2",idb:"^7.0.2","node-forge":"^1.3.1","protocol-buffers-encodings":"^1.1.1","stream-browserify":"^3.0.0","user-agents":"^1.0.778",uuid:"^8.3.2"},devDependencies:{"@types/node":"^17.0.31",esbuild:"^0.14.48",eslint:"^8.15.0","eslint-plugin-jsdoc":"^39.3.2","fake-dom":"^1.0.4",jest:"^28.1.0",typescript:"^4.6.4",xhr2:"^0.2.1","xmlhttprequest-ssl":"^2.0.0"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","innertube","innertubeapi","unofficial","downloader","livechat","ytmusic","dislike","search","comment","music","like","api"]}});var G=g((f0,pu)=>{"use strict";var Ub=require("node-forge"),uu=require("user-agents"),Db=require("flat"),Ee=class extends Error{constructor(e,t){super(e),t&&(this.info=t),this.date=new Date,this.version=Bn().version}};n(Ee,"InnertubeError");var Jt=class extends Ee{};n(Jt,"ParsingError");var Mn=class extends Ee{};n(Mn,"DownloadError");var Xt=class extends Ee{};n(Xt,"MissingParamError");var Vn=class extends Ee{};n(Vn,"UnavailableContentError");var Fn=class extends Ee{};n(Fn,"NoStreamingDataError");var Yn=class extends Ee{};n(Yn,"OAuthError");function Bb(c,e,t,i,a=!0){let s=Db(c,{safe:a,maxDepth:i||2}),r=Object.keys(s).find(o=>o.includes(e)&&JSON.stringify(s[o]||"{}").includes(t));if(!r)throw new Jt(`Expected to find "${e}" with content "${t}" but got ${r}`,{key:e,target:t,data_snippet:`${JSON.stringify(s,null,4).slice(0,300)}..`});return s[r]}n(Bb,"findNode");function Mb(c){return new Proxy(c,{get(e,t){return t=="get"?(i,a)=>e.find((s,r)=>{let o=hu(i,s);return o&&a&&e.splice(r,1),o}):t=="findAll"?(i,a)=>e.filter((s,r)=>{let o=hu(i,s);return o&&a&&e.splice(r,1),o}):t=="remove"?i=>e.splice(i,1):Reflect.get(...arguments)}})}n(Mb,"observe");function hu(c,e){return Reflect.ownKeys(c).some(i=>{var s;let a=((s=e[i])==null?void 0:s.constructor.name)==="Text";return!a&&typeof e[i]=="object"?JSON.stringify(c[i])===JSON.stringify(e[i]):c[i]===(a?e[i].toString():e[i])})}n(hu,"deepCompare");function Vb(){let c={},e=process.platform==="win32",t=e?/[^:]\\$/:/.\/$/,i;return e?i=c.TEMP||c.TMP||`${c.SystemRoot||c.windir}\\temp`:i=c.TMPDIR||c.TMP||c.TEMP||"/tmp",t.test(i)&&(i=i.slice(0,-1)),i}n(Vb,"getTmpdir");function Fb(c,e,t){let i=new RegExp(`${du(e)}(.*?)${du(t)}`,"s"),a=c.match(i);return a?a[1]:void 0}n(Fb,"getStringBetweenStrings");function du(c){return c.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(du,"escapeStringRegexp");function Yb(c){switch(c){case"mobile":return new uu(/Android/).data;case"desktop":return new uu({deviceCategory:"desktop"}).data;default:}}n(Yb,"getRandomUserAgent");function $b(c){let e="https://www.youtube.com",t=Math.floor(new Date().getTime()/1e3),i=[t,c,e].join(" "),a=Ub.md.sha1.create();a.update(i);let s=a.digest().toHex();return["SAPISIDHASH",[t,s].join("_")].join(" ")}n($b,"generateSidAuth");function Gb(c){let e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let i=0;i<c;i++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}n(Gb,"generateRandomString");function Wb(c){let e=c.split(":");switch(e.length){case 1:return parseInt(+e[0]);case 2:return parseInt(+e[0]*60+ +e[1]);case 3:return parseInt(+e[0]*3600+ +e[1]*60+ +e[2]);default:break}}n(Wb,"timeToSeconds");function Hb(c){return c[0].toLowerCase()+c.slice(1,c.length).replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Hb,"camelToSnake");function zb(c){return["YOUTUBE","YTMUSIC"].includes(c)}n(zb,"isValidClient");function Kb(c){for(let[e,t]of Object.entries(c))if(!t)throw new Xt(`${e} is missing`)}n(Kb,"throwIfMissing");function Qb(c){return c.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}n(Qb,"refineNTokenData");var Jb={InnertubeError:Ee,UnavailableContentError:Vn,ParsingError:Jt,DownloadError:Mn,MissingParamError:Xt,NoStreamingDataError:Fn,OAuthError:Yn},Xb={findNode:Bb,observe:Mb,getTmpdir:Vb,getRandomUserAgent:Yb,generateSidAuth:$b,generateRandomString:Gb,getStringBetweenStrings:Fb,camelToSnake:Hb,isValidClient:zb,throwIfMissing:Kb,timeToSeconds:Wb,refineNTokenData:Qb};pu.exports={...Xb,...Jb}});var yu=g((eR,_u)=>{"use strict";var Zb=require("uuid"),me=pe(),{OAuthError:Zt}=G(),Se,Be,se,jt,ge,ft,$a,Gn,mu,Wn,gu,en,Ga,$n=class{constructor(e,t){q(this,ft);q(this,Gn);q(this,Wn);q(this,en);q(this,Se,void 0);q(this,Be,void 0);q(this,se,{});q(this,jt,5);q(this,ge,null);I(this,ge,e),I(this,Se,t)}init(e){I(this,se,e),e.access_token||N(this,ft,$a).call(this)}async checkAccessTokenValidity(){let e=new Date(l(this,se).expires).getTime();new Date().getTime()>e&&await N(this,Wn,gu).call(this)}revokeCredentials(){return l(this,Se).call(this,{url:"/o/oauth2/revoke",baseURL:me.URLS.YT_BASE,params:{token:this.getAccessToken()},method:"post"})}get credentials(){return l(this,se)}validateCredentials(){return l(this,se).hasOwnProperty("access_token")&&l(this,se).hasOwnProperty("refresh_token")&&l(this,se).hasOwnProperty("expires")}};n($n,"OAuth"),Se=new WeakMap,Be=new WeakMap,se=new WeakMap,jt=new WeakMap,ge=new WeakMap,ft=new WeakSet,$a=n(async function(){I(this,Be,await N(this,en,Ga).call(this));let e={client_id:l(this,Be).client_id,scope:me.OAUTH.SCOPE,device_id:Zb.v4(),model_name:me.OAUTH.MODEL_NAME},t=await l(this,Se).call(this,{data:e,url:"/o/oauth2/device/code",baseURL:me.URLS.YT_BASE,method:"post"}).catch(i=>i);if(t instanceof Error)return l(this,ge).emit("auth",new Zt("Could not obtain user code.",t.message));l(this,ge).emit("auth",{...t.data,status:"AUTHORIZATION_PENDING"}),I(this,jt,t.data.interval),N(this,Gn,mu).call(this,t.data.device_code)},"#getUserCode"),Gn=new WeakSet,mu=n(function(e){let t=setInterval(async()=>{let i={...l(this,Be),code:e,grant_type:me.OAUTH.GRANT_TYPE},a=await l(this,Se).call(this,{data:i,url:"/o/oauth2/token",baseURL:me.URLS.YT_BASE,method:"post"}).catch(r=>r);if(a instanceof Error)return l(this,ge).emit("auth",new Zt("Could not obtain user code.",{status:"FAILED",message:a.message}));if(a.data.error){switch(a.data.error){case"access_denied":l(this,ge).emit("auth",new Zt("Access was denied.",{status:"ACCESS_DENIED"}));break;case"expired_token":l(this,ge).emit("auth",new Zt("The device code has expired, restarting auth flow.",{status:"DEVICE_CODE_EXPIRED"})),clearInterval(t),N(this,ft,$a).call(this);break;default:break}return}let s=new Date(new Date().getTime()+a.data.expires_in*1e3);I(this,se,{access_token:a.data.access_token,refresh_token:a.data.refresh_token,expires:s}),l(this,ge).emit("auth",{credentials:l(this,se),status:"SUCCESS"}),clearInterval(t)},l(this,jt)*1e3)},"#startPolling"),Wn=new WeakSet,gu=n(async function(){I(this,Be,await N(this,en,Ga).call(this));let e={...l(this,Be),refresh_token:l(this,se).refresh_token,grant_type:"refresh_token"},t=await l(this,Se).call(this,{data:e,url:"/o/oauth2/token",baseURL:me.URLS.YT_BASE,method:"post"}).catch(a=>a);if(t instanceof Error)return l(this,ge).emit("update-credentials",new Zt("Could not refresh access token.",{status:"FAILED"}));let i=new Date(new Date().getTime()+t.data.expires_in*1e3);I(this,se,{access_token:t.data.access_token,refresh_token:t.data.refresh_token||this.credentials.refresh_token,expires:i}),l(this,ge).emit("update-credentials",{credentials:l(this,se),status:"SUCCESS"})},"#refreshAccessToken"),en=new WeakSet,Ga=n(async function(){let e=await l(this,Se).call(this,{url:"/tv",baseURL:me.URLS.YT_BASE,headers:me.OAUTH.HEADERS}),t=me.OAUTH.REGEX.AUTH_SCRIPT.exec(e.data)[1];return(await l(this,Se).call(this,{url:t,baseURL:me.URLS.YT_BASE})).data.replace(/\n/g,"").match(me.OAUTH.REGEX.CLIENT_IDENTITY).groups},"#getClientIdentity");_u.exports=$n});var wu=g(ae=>{var p=require("protocol-buffers-encodings"),v=p.varint,Y=p.skip,Wa=ae.VisitorData={buffer:!0,encodingLength:null,encode:null,decode:null},Hn=ae.ChannelAnalytics={buffer:!0,encodingLength:null,encode:null,decode:null},zn=ae.InnertubePayload={buffer:!0,encodingLength:null,encode:null,decode:null},Kn=ae.SoundInfoParams={buffer:!0,encodingLength:null,encode:null,decode:null},Qn=ae.NotificationPreferences={buffer:!0,encodingLength:null,encode:null,decode:null},Jn=ae.LiveMessageParams={buffer:!0,encodingLength:null,encode:null,decode:null},tn=ae.GetCommentsSectionParams={buffer:!0,encodingLength:null,encode:null,decode:null},Xn=ae.CreateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null},Zn=ae.CreateCommentReplyParams={buffer:!0,encodingLength:null,encode:null,decode:null},jn=ae.PeformCommentActionParams={buffer:!0,encodingLength:null,encode:null,decode:null},fn=ae.MusicSearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null},ei=ae.SearchFilter={buffer:!0,encodingLength:null,encode:null,decode:null};jb();fb();eT();tT();nT();iT();sT();rT();oT();cT();aT();lT();function jb(){Wa.encodingLength=c,Wa.encode=e,Wa.decode=t;function c(i){var a=0;if(b(i.id)){var s=p.string.encodingLength(i.id);a+=1+s}if(b(i.timestamp)){var s=p.int32.encodingLength(i.timestamp);a+=1+s}return a}n(c,"encodingLength");function e(i,a,s){s||(s=0),a||(a=Buffer.allocUnsafe(c(i)));var r=s;return b(i.id)&&(a[s++]=10,p.string.encode(i.id,a,s),s+=p.string.encode.bytes),b(i.timestamp)&&(a[s++]=40,p.int32.encode(i.timestamp,a,s),s+=p.int32.encode.bytes),e.bytes=s-r,a}n(e,"encode");function t(i,a,s){if(a||(a=0),s||(s=i.length),!(s<=i.length&&a<=i.length))throw new Error("Decoded message is not valid");for(var r=a,o={id:"",timestamp:0};;){if(s<=a)return t.bytes=a-r,o;var u=v.decode(i,a);a+=v.decode.bytes;var d=u>>3;switch(d){case 1:o.id=p.string.decode(i,a),a+=p.string.decode.bytes;break;case 5:o.timestamp=p.int32.decode(i,a),a+=p.int32.decode.bytes;break;default:a=Y(u&7,i,a)}}}n(t,"decode")}n(jb,"defineVisitorData");function fb(){var c=Hn.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=s,c.encode=r,c.decode=o;function s(u){var d=0;if(b(u.channel_id)){var h=p.string.encodingLength(u.channel_id);d+=2+h}return d}n(s,"encodingLength");function r(u,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(s(u)));var m=h;return b(u.channel_id)&&(d[h++]=202,d[h++]=62,p.string.encode(u.channel_id,d,h),h+=p.string.encode.bytes),r.bytes=h-m,d}n(r,"encode");function o(u,d,h){if(d||(d=0),h||(h=u.length),!(h<=u.length&&d<=u.length))throw new Error("Decoded message is not valid");for(var m=d,w={channel_id:""};;){if(h<=d)return o.bytes=d-m,w;var x=v.decode(u,d);d+=v.decode.bytes;var y=x>>3;switch(y){case 1001:w.channel_id=p.string.decode(u,d),d+=p.string.decode.bytes;break;default:d=Y(x&7,u,d)}}}n(o,"decode")}n(e,"defineParams"),Hn.encodingLength=t,Hn.encode=i,Hn.decode=a;function t(s){var r=0;if(b(s.params)){var o=c.encodingLength(s.params);r+=v.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.params)&&(r[o++]=130,r[o++]=2,v.encode(c.encodingLength(s.params),r,o),o+=v.encode.bytes,c.encode(s.params,r,o),o+=c.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={params:null};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 32:var w=v.decode(s,r);r+=v.decode.bytes,d.params=c.decode(s,r,r+w),r+=c.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(fb,"defineChannelAnalytics");function eT(){var c=zn.Context={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var s=c.Client={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){s.encodingLength=h,s.encode=m,s.decode=w;function h(x){var y=0;if(b(x.unkparam)){var _=p.int32.encodingLength(x.unkparam);y+=2+_}if(b(x.client_version)){var _=p.string.encodingLength(x.client_version);y+=2+_}if(b(x.client_name)){var _=p.string.encodingLength(x.client_name);y+=2+_}return y}n(h,"encodingLength");function m(x,y,_){_||(_=0),y||(y=Buffer.allocUnsafe(h(x)));var T=_;return b(x.unkparam)&&(y[_++]=128,y[_++]=1,p.int32.encode(x.unkparam,y,_),_+=p.int32.encode.bytes),b(x.client_version)&&(y[_++]=138,y[_++]=1,p.string.encode(x.client_version,y,_),_+=p.string.encode.bytes),b(x.client_name)&&(y[_++]=146,y[_++]=1,p.string.encode(x.client_name,y,_),_+=p.string.encode.bytes),m.bytes=_-T,y}n(m,"encode");function w(x,y,_){if(y||(y=0),_||(_=x.length),!(_<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,R={unkparam:0,client_version:"",client_name:""};;){if(_<=y)return w.bytes=y-T,R;var k=v.decode(x,y);y+=v.decode.bytes;var E=k>>3;switch(E){case 16:R.unkparam=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 17:R.client_version=p.string.decode(x,y),y+=p.string.decode.bytes;break;case 18:R.client_name=p.string.decode(x,y),y+=p.string.decode.bytes;break;default:y=Y(k&7,x,y)}}}n(w,"decode")}n(r,"defineClient"),c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.client)){var w=s.encodingLength(h.client);m+=v.encodingLength(w),m+=1+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.client)&&(m[w++]=10,v.encode(s.encodingLength(h.client),m,w),w+=v.encode.bytes,s.encode(h.client,m,w),w+=s.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={client:null};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 1:var R=v.decode(h,m);m+=v.decode.bytes,y.client=s.decode(h,m,m+R),m+=s.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(e,"defineContext"),zn.encodingLength=t,zn.encode=i,zn.decode=a;function t(s){var r=0;if(b(s.context)){var o=c.encodingLength(s.context);r+=v.encodingLength(o),r+=1+o}if(b(s.target)){var o=p.string.encodingLength(s.target);r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.context)&&(r[o++]=10,v.encode(c.encodingLength(s.context),r,o),o+=v.encode.bytes,c.encode(s.context,r,o),o+=c.encode.bytes),b(s.target)&&(r[o++]=18,p.string.encode(s.target,r,o),o+=p.string.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={context:null,target:""};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 1:var w=v.decode(s,r);r+=v.decode.bytes,d.context=c.decode(s,r,r+w),r+=c.decode.bytes;break;case 2:d.target=p.string.decode(s,r),r+=p.string.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(eT,"defineInnertubePayload");function tT(){var c=Kn.Sound={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var s=c.Params={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){var h=s.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};m();function m(){h.encodingLength=_,h.encode=T,h.decode=R;function _(k){var E=0;if(b(k.id_1)){var P=p.string.encodingLength(k.id_1);E+=1+P}if(b(k.id_2)){var P=p.string.encodingLength(k.id_2);E+=1+P}if(b(k.id_3)){var P=p.string.encodingLength(k.id_3);E+=1+P}return E}n(_,"encodingLength");function T(k,E,P){P||(P=0),E||(E=Buffer.allocUnsafe(_(k)));var L=P;return b(k.id_1)&&(E[P++]=10,p.string.encode(k.id_1,E,P),P+=p.string.encode.bytes),b(k.id_2)&&(E[P++]=18,p.string.encode(k.id_2,E,P),P+=p.string.encode.bytes),b(k.id_3)&&(E[P++]=26,p.string.encode(k.id_3,E,P),P+=p.string.encode.bytes),T.bytes=P-L,E}n(T,"encode");function R(k,E,P){if(E||(E=0),P||(P=k.length),!(P<=k.length&&E<=k.length))throw new Error("Decoded message is not valid");for(var L=E,O={id_1:"",id_2:"",id_3:""};;){if(P<=E)return R.bytes=E-L,O;var D=v.decode(k,E);E+=v.decode.bytes;var B=D>>3;switch(B){case 1:O.id_1=p.string.decode(k,E),E+=p.string.decode.bytes;break;case 2:O.id_2=p.string.decode(k,E),E+=p.string.decode.bytes;break;case 3:O.id_3=p.string.decode(k,E),E+=p.string.decode.bytes;break;default:E=Y(D&7,k,E)}}}n(R,"decode")}n(m,"defineIds"),s.encodingLength=w,s.encode=x,s.decode=y;function w(_){var T=0;if(b(_.ids)){var R=h.encodingLength(_.ids);T+=v.encodingLength(R),T+=1+R}return T}n(w,"encodingLength");function x(_,T,R){R||(R=0),T||(T=Buffer.allocUnsafe(w(_)));var k=R;return b(_.ids)&&(T[R++]=18,v.encode(h.encodingLength(_.ids),T,R),R+=v.encode.bytes,h.encode(_.ids,T,R),R+=h.encode.bytes),x.bytes=R-k,T}n(x,"encode");function y(_,T,R){if(T||(T=0),R||(R=_.length),!(R<=_.length&&T<=_.length))throw new Error("Decoded message is not valid");for(var k=T,E={ids:null};;){if(R<=T)return y.bytes=T-k,E;var P=v.decode(_,T);T+=v.decode.bytes;var L=P>>3;switch(L){case 2:var O=v.decode(_,T);T+=v.decode.bytes,E.ids=h.decode(_,T,T+O),T+=h.decode.bytes;break;default:T=Y(P&7,_,T)}}}n(y,"decode")}n(r,"defineParams"),c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.params)){var w=s.encodingLength(h.params);m+=v.encodingLength(w),m+=1+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.params)&&(m[w++]=10,v.encode(s.encodingLength(h.params),m,w),w+=v.encode.bytes,s.encode(h.params,m,w),w+=s.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={params:null};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 1:var R=v.decode(h,m);m+=v.decode.bytes,y.params=s.decode(h,m,m+R),m+=s.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(e,"defineSound"),Kn.encodingLength=t,Kn.encode=i,Kn.decode=a;function t(s){var r=0;if(b(s.sound)){var o=c.encodingLength(s.sound);r+=v.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.sound)&&(r[o++]=242,r[o++]=5,v.encode(c.encodingLength(s.sound),r,o),o+=v.encode.bytes,c.encode(s.sound,r,o),o+=c.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={sound:null};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 94:var w=v.decode(s,r);r+=v.decode.bytes,d.sound=c.decode(s,r,r+w),r+=c.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(tT,"defineSoundInfoParams");function nT(){var c=Qn.Preference={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=s,c.encode=r,c.decode=o;function s(u){var d=0;if(b(u.index)){var h=p.int32.encodingLength(u.index);d+=1+h}return d}n(s,"encodingLength");function r(u,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(s(u)));var m=h;return b(u.index)&&(d[h++]=8,p.int32.encode(u.index,d,h),h+=p.int32.encode.bytes),r.bytes=h-m,d}n(r,"encode");function o(u,d,h){if(d||(d=0),h||(h=u.length),!(h<=u.length&&d<=u.length))throw new Error("Decoded message is not valid");for(var m=d,w={index:0};;){if(h<=d)return o.bytes=d-m,w;var x=v.decode(u,d);d+=v.decode.bytes;var y=x>>3;switch(y){case 1:w.index=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;default:d=Y(x&7,u,d)}}}n(o,"decode")}n(e,"definePreference"),Qn.encodingLength=t,Qn.encode=i,Qn.decode=a;function t(s){var r=0;if(b(s.channel_id)){var o=p.string.encodingLength(s.channel_id);r+=1+o}if(b(s.pref_id)){var o=c.encodingLength(s.pref_id);r+=v.encodingLength(o),r+=1+o}if(b(s.number_0)){var o=p.int32.encodingLength(s.number_0);r+=1+o}if(b(s.number_1)){var o=p.int32.encodingLength(s.number_1);r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.channel_id)&&(r[o++]=10,p.string.encode(s.channel_id,r,o),o+=p.string.encode.bytes),b(s.pref_id)&&(r[o++]=18,v.encode(c.encodingLength(s.pref_id),r,o),o+=v.encode.bytes,c.encode(s.pref_id,r,o),o+=c.encode.bytes),b(s.number_0)&&(r[o++]=24,p.int32.encode(s.number_0,r,o),o+=p.int32.encode.bytes),b(s.number_1)&&(r[o++]=32,p.int32.encode(s.number_1,r,o),o+=p.int32.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={channel_id:"",pref_id:null,number_0:0,number_1:0};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 1:d.channel_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 2:var w=v.decode(s,r);r+=v.decode.bytes,d.pref_id=c.decode(s,r,r+w),r+=c.decode.bytes;break;case 3:d.number_0=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 4:d.number_1=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(nT,"defineNotificationPreferences");function iT(){var c=Jn.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var s=c.Ids={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){s.encodingLength=h,s.encode=m,s.decode=w;function h(x){var y=0;if(b(x.channel_id)){var _=p.string.encodingLength(x.channel_id);y+=1+_}if(b(x.video_id)){var _=p.string.encodingLength(x.video_id);y+=1+_}return y}n(h,"encodingLength");function m(x,y,_){_||(_=0),y||(y=Buffer.allocUnsafe(h(x)));var T=_;return b(x.channel_id)&&(y[_++]=10,p.string.encode(x.channel_id,y,_),_+=p.string.encode.bytes),b(x.video_id)&&(y[_++]=18,p.string.encode(x.video_id,y,_),_+=p.string.encode.bytes),m.bytes=_-T,y}n(m,"encode");function w(x,y,_){if(y||(y=0),_||(_=x.length),!(_<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,R={channel_id:"",video_id:""};;){if(_<=y)return w.bytes=y-T,R;var k=v.decode(x,y);y+=v.decode.bytes;var E=k>>3;switch(E){case 1:R.channel_id=p.string.decode(x,y),y+=p.string.decode.bytes;break;case 2:R.video_id=p.string.decode(x,y),y+=p.string.decode.bytes;break;default:y=Y(k&7,x,y)}}}n(w,"decode")}n(r,"defineIds"),c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.ids)){var w=s.encodingLength(h.ids);m+=v.encodingLength(w),m+=1+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.ids)&&(m[w++]=42,v.encode(s.encodingLength(h.ids),m,w),w+=v.encode.bytes,s.encode(h.ids,m,w),w+=s.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={ids:null};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 5:var R=v.decode(h,m);m+=v.decode.bytes,y.ids=s.decode(h,m,m+R),m+=s.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(e,"defineParams"),Jn.encodingLength=t,Jn.encode=i,Jn.decode=a;function t(s){var r=0;if(b(s.params)){var o=c.encodingLength(s.params);r+=v.encodingLength(o),r+=1+o}if(b(s.number_0)){var o=p.int32.encodingLength(s.number_0);r+=1+o}if(b(s.number_1)){var o=p.int32.encodingLength(s.number_1);r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.params)&&(r[o++]=10,v.encode(c.encodingLength(s.params),r,o),o+=v.encode.bytes,c.encode(s.params,r,o),o+=c.encode.bytes),b(s.number_0)&&(r[o++]=16,p.int32.encode(s.number_0,r,o),o+=p.int32.encode.bytes),b(s.number_1)&&(r[o++]=24,p.int32.encode(s.number_1,r,o),o+=p.int32.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={params:null,number_0:0,number_1:0};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 1:var w=v.decode(s,r);r+=v.decode.bytes,d.params=c.decode(s,r,r+w),r+=c.decode.bytes;break;case 2:d.number_0=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 3:d.number_1=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(iT,"defineLiveMessageParams");function sT(){var c=tn.Context={buffer:!0,encodingLength:null,encode:null,decode:null},e=tn.Params={buffer:!0,encodingLength:null,encode:null,decode:null};t(),i();function t(){c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.video_id)){var w=p.string.encodingLength(h.video_id);m+=1+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.video_id)&&(m[w++]=18,p.string.encode(h.video_id,m,w),w+=p.string.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={video_id:""};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 2:y.video_id=p.string.decode(h,m),m+=p.string.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(t,"defineContext");function i(){var o=e.Options={buffer:!0,encodingLength:null,encode:null,decode:null},u=e.RepliesOptions={buffer:!0,encodingLength:null,encode:null,decode:null};d(),h();function d(){o.encodingLength=y,o.encode=_,o.decode=T;function y(R){var k=0;if(b(R.video_id)){var E=p.string.encodingLength(R.video_id);k+=1+E}if(b(R.sort_by)){var E=p.int32.encodingLength(R.sort_by);k+=1+E}if(b(R.type)){var E=p.int32.encodingLength(R.type);k+=1+E}return k}n(y,"encodingLength");function _(R,k,E){E||(E=0),k||(k=Buffer.allocUnsafe(y(R)));var P=E;return b(R.video_id)&&(k[E++]=34,p.string.encode(R.video_id,k,E),E+=p.string.encode.bytes),b(R.sort_by)&&(k[E++]=48,p.int32.encode(R.sort_by,k,E),E+=p.int32.encode.bytes),b(R.type)&&(k[E++]=120,p.int32.encode(R.type,k,E),E+=p.int32.encode.bytes),_.bytes=E-P,k}n(_,"encode");function T(R,k,E){if(k||(k=0),E||(E=R.length),!(E<=R.length&&k<=R.length))throw new Error("Decoded message is not valid");for(var P=k,L={video_id:"",sort_by:0,type:0};;){if(E<=k)return T.bytes=k-P,L;var O=v.decode(R,k);k+=v.decode.bytes;var D=O>>3;switch(D){case 4:L.video_id=p.string.decode(R,k),k+=p.string.decode.bytes;break;case 6:L.sort_by=p.int32.decode(R,k),k+=p.int32.decode.bytes;break;case 15:L.type=p.int32.decode(R,k),k+=p.int32.decode.bytes;break;default:k=Y(O&7,R,k)}}}n(T,"decode")}n(d,"defineOptions");function h(){var y=u.UnkOpts={buffer:!0,encodingLength:null,encode:null,decode:null};_();function _(){y.encodingLength=E,y.encode=P,y.decode=L;function E(O){var D=0;if(b(O.unk_param)){var B=p.int32.encodingLength(O.unk_param);D+=1+B}return D}n(E,"encodingLength");function P(O,D,B){B||(B=0),D||(D=Buffer.allocUnsafe(E(O)));var V=B;return b(O.unk_param)&&(D[B++]=8,p.int32.encode(O.unk_param,D,B),B+=p.int32.encode.bytes),P.bytes=B-V,D}n(P,"encode");function L(O,D,B){if(D||(D=0),B||(B=O.length),!(B<=O.length&&D<=O.length))throw new Error("Decoded message is not valid");for(var V=D,M={unk_param:0};;){if(B<=D)return L.bytes=D-V,M;var De=v.decode(O,D);D+=v.decode.bytes;var H=De>>3;switch(H){case 1:M.unk_param=p.int32.decode(O,D),D+=p.int32.decode.bytes;break;default:D=Y(De&7,O,D)}}}n(L,"decode")}n(_,"defineUnkOpts"),u.encodingLength=T,u.encode=R,u.decode=k;function T(E){var P=0;if(b(E.comment_id)){var L=p.string.encodingLength(E.comment_id);P+=1+L}if(b(E.unkopts)){var L=y.encodingLength(E.unkopts);P+=v.encodingLength(L),P+=1+L}if(b(E.channel_id)){var L=p.string.encodingLength(E.channel_id);P+=1+L}if(b(E.video_id)){var L=p.string.encodingLength(E.video_id);P+=1+L}if(b(E.unk_param_1)){var L=p.int32.encodingLength(E.unk_param_1);P+=1+L}if(b(E.unk_param_2)){var L=p.int32.encodingLength(E.unk_param_2);P+=1+L}return P}n(T,"encodingLength");function R(E,P,L){L||(L=0),P||(P=Buffer.allocUnsafe(T(E)));var O=L;return b(E.comment_id)&&(P[L++]=18,p.string.encode(E.comment_id,P,L),L+=p.string.encode.bytes),b(E.unkopts)&&(P[L++]=34,v.encode(y.encodingLength(E.unkopts),P,L),L+=v.encode.bytes,y.encode(E.unkopts,P,L),L+=y.encode.bytes),b(E.channel_id)&&(P[L++]=42,p.string.encode(E.channel_id,P,L),L+=p.string.encode.bytes),b(E.video_id)&&(P[L++]=50,p.string.encode(E.video_id,P,L),L+=p.string.encode.bytes),b(E.unk_param_1)&&(P[L++]=64,p.int32.encode(E.unk_param_1,P,L),L+=p.int32.encode.bytes),b(E.unk_param_2)&&(P[L++]=72,p.int32.encode(E.unk_param_2,P,L),L+=p.int32.encode.bytes),R.bytes=L-O,P}n(R,"encode");function k(E,P,L){if(P||(P=0),L||(L=E.length),!(L<=E.length&&P<=E.length))throw new Error("Decoded message is not valid");for(var O=P,D={comment_id:"",unkopts:null,channel_id:"",video_id:"",unk_param_1:0,unk_param_2:0};;){if(L<=P)return k.bytes=P-O,D;var B=v.decode(E,P);P+=v.decode.bytes;var V=B>>3;switch(V){case 2:D.comment_id=p.string.decode(E,P),P+=p.string.decode.bytes;break;case 4:var M=v.decode(E,P);P+=v.decode.bytes,D.unkopts=y.decode(E,P,P+M),P+=y.decode.bytes;break;case 5:D.channel_id=p.string.decode(E,P),P+=p.string.decode.bytes;break;case 6:D.video_id=p.string.decode(E,P),P+=p.string.decode.bytes;break;case 8:D.unk_param_1=p.int32.decode(E,P),P+=p.int32.decode.bytes;break;case 9:D.unk_param_2=p.int32.decode(E,P),P+=p.int32.decode.bytes;break;default:P=Y(B&7,E,P)}}}n(k,"decode")}n(h,"defineRepliesOptions"),e.encodingLength=m,e.encode=w,e.decode=x;function m(y){var _=0;if(b(y.unk_token)){var T=p.string.encodingLength(y.unk_token);_+=1+T}if(b(y.opts)){var T=o.encodingLength(y.opts);_+=v.encodingLength(T),_+=1+T}if(b(y.replies_opts)){var T=u.encodingLength(y.replies_opts);_+=v.encodingLength(T),_+=1+T}if(b(y.page)){var T=p.int32.encodingLength(y.page);_+=1+T}if(b(y.target)){var T=p.string.encodingLength(y.target);_+=1+T}return _}n(m,"encodingLength");function w(y,_,T){T||(T=0),_||(_=Buffer.allocUnsafe(m(y)));var R=T;return b(y.unk_token)&&(_[T++]=10,p.string.encode(y.unk_token,_,T),T+=p.string.encode.bytes),b(y.opts)&&(_[T++]=34,v.encode(o.encodingLength(y.opts),_,T),T+=v.encode.bytes,o.encode(y.opts,_,T),T+=o.encode.bytes),b(y.replies_opts)&&(_[T++]=26,v.encode(u.encodingLength(y.replies_opts),_,T),T+=v.encode.bytes,u.encode(y.replies_opts,_,T),T+=u.encode.bytes),b(y.page)&&(_[T++]=40,p.int32.encode(y.page,_,T),T+=p.int32.encode.bytes),b(y.target)&&(_[T++]=66,p.string.encode(y.target,_,T),T+=p.string.encode.bytes),w.bytes=T-R,_}n(w,"encode");function x(y,_,T){if(_||(_=0),T||(T=y.length),!(T<=y.length&&_<=y.length))throw new Error("Decoded message is not valid");for(var R=_,k={unk_token:"",opts:null,replies_opts:null,page:0,target:""};;){if(T<=_)return x.bytes=_-R,k;var E=v.decode(y,_);_+=v.decode.bytes;var P=E>>3;switch(P){case 1:k.unk_token=p.string.decode(y,_),_+=p.string.decode.bytes;break;case 4:var L=v.decode(y,_);_+=v.decode.bytes,k.opts=o.decode(y,_,_+L),_+=o.decode.bytes;break;case 3:var L=v.decode(y,_);_+=v.decode.bytes,k.replies_opts=u.decode(y,_,_+L),_+=u.decode.bytes;break;case 5:k.page=p.int32.decode(y,_),_+=p.int32.decode.bytes;break;case 8:k.target=p.string.decode(y,_),_+=p.string.decode.bytes;break;default:_=Y(E&7,y,_)}}}n(x,"decode")}n(i,"defineParams"),tn.encodingLength=a,tn.encode=s,tn.decode=r;function a(o){var u=0;if(b(o.ctx)){var d=c.encodingLength(o.ctx);u+=v.encodingLength(d),u+=1+d}if(b(o.unk_param)){var d=p.int32.encodingLength(o.unk_param);u+=1+d}if(b(o.params)){var d=e.encodingLength(o.params);u+=v.encodingLength(d),u+=1+d}return u}n(a,"encodingLength");function s(o,u,d){d||(d=0),u||(u=Buffer.allocUnsafe(a(o)));var h=d;return b(o.ctx)&&(u[d++]=18,v.encode(c.encodingLength(o.ctx),u,d),d+=v.encode.bytes,c.encode(o.ctx,u,d),d+=c.encode.bytes),b(o.unk_param)&&(u[d++]=24,p.int32.encode(o.unk_param,u,d),d+=p.int32.encode.bytes),b(o.params)&&(u[d++]=50,v.encode(e.encodingLength(o.params),u,d),d+=v.encode.bytes,e.encode(o.params,u,d),d+=e.encode.bytes),s.bytes=d-h,u}n(s,"encode");function r(o,u,d){if(u||(u=0),d||(d=o.length),!(d<=o.length&&u<=o.length))throw new Error("Decoded message is not valid");for(var h=u,m={ctx:null,unk_param:0,params:null};;){if(d<=u)return r.bytes=u-h,m;var w=v.decode(o,u);u+=v.decode.bytes;var x=w>>3;switch(x){case 2:var y=v.decode(o,u);u+=v.decode.bytes,m.ctx=c.decode(o,u,u+y),u+=c.decode.bytes;break;case 3:m.unk_param=p.int32.decode(o,u),u+=p.int32.decode.bytes;break;case 6:var y=v.decode(o,u);u+=v.decode.bytes,m.params=e.decode(o,u,u+y),u+=e.decode.bytes;break;default:u=Y(w&7,o,u)}}}n(r,"decode")}n(sT,"defineGetCommentsSectionParams");function rT(){var c=Xn.Params={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=s,c.encode=r,c.decode=o;function s(u){var d=0;if(b(u.index)){var h=p.int32.encodingLength(u.index);d+=1+h}return d}n(s,"encodingLength");function r(u,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(s(u)));var m=h;return b(u.index)&&(d[h++]=8,p.int32.encode(u.index,d,h),h+=p.int32.encode.bytes),r.bytes=h-m,d}n(r,"encode");function o(u,d,h){if(d||(d=0),h||(h=u.length),!(h<=u.length&&d<=u.length))throw new Error("Decoded message is not valid");for(var m=d,w={index:0};;){if(h<=d)return o.bytes=d-m,w;var x=v.decode(u,d);d+=v.decode.bytes;var y=x>>3;switch(y){case 1:w.index=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;default:d=Y(x&7,u,d)}}}n(o,"decode")}n(e,"defineParams"),Xn.encodingLength=t,Xn.encode=i,Xn.decode=a;function t(s){var r=0;if(b(s.video_id)){var o=p.string.encodingLength(s.video_id);r+=1+o}if(b(s.params)){var o=c.encodingLength(s.params);r+=v.encodingLength(o),r+=1+o}if(b(s.number)){var o=p.int32.encodingLength(s.number);r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.video_id)&&(r[o++]=18,p.string.encode(s.video_id,r,o),o+=p.string.encode.bytes),b(s.params)&&(r[o++]=42,v.encode(c.encodingLength(s.params),r,o),o+=v.encode.bytes,c.encode(s.params,r,o),o+=c.encode.bytes),b(s.number)&&(r[o++]=80,p.int32.encode(s.number,r,o),o+=p.int32.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={video_id:"",params:null,number:0};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 2:d.video_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 5:var w=v.decode(s,r);r+=v.decode.bytes,d.params=c.decode(s,r,r+w),r+=c.decode.bytes;break;case 10:d.number=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(rT,"defineCreateCommentParams");function oT(){var c=Zn.UnknownParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=s,c.encode=r,c.decode=o;function s(u){var d=0;if(b(u.unk_num)){var h=p.int32.encodingLength(u.unk_num);d+=1+h}return d}n(s,"encodingLength");function r(u,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(s(u)));var m=h;return b(u.unk_num)&&(d[h++]=8,p.int32.encode(u.unk_num,d,h),h+=p.int32.encode.bytes),r.bytes=h-m,d}n(r,"encode");function o(u,d,h){if(d||(d=0),h||(h=u.length),!(h<=u.length&&d<=u.length))throw new Error("Decoded message is not valid");for(var m=d,w={unk_num:0};;){if(h<=d)return o.bytes=d-m,w;var x=v.decode(u,d);d+=v.decode.bytes;var y=x>>3;switch(y){case 1:w.unk_num=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;default:d=Y(x&7,u,d)}}}n(o,"decode")}n(e,"defineUnknownParams"),Zn.encodingLength=t,Zn.encode=i,Zn.decode=a;function t(s){var r=0;if(b(s.video_id)){var o=p.string.encodingLength(s.video_id);r+=1+o}if(b(s.comment_id)){var o=p.string.encodingLength(s.comment_id);r+=1+o}if(b(s.params)){var o=c.encodingLength(s.params);r+=v.encodingLength(o),r+=1+o}if(b(s.unk_num)){var o=p.int32.encodingLength(s.unk_num);r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.video_id)&&(r[o++]=18,p.string.encode(s.video_id,r,o),o+=p.string.encode.bytes),b(s.comment_id)&&(r[o++]=34,p.string.encode(s.comment_id,r,o),o+=p.string.encode.bytes),b(s.params)&&(r[o++]=42,v.encode(c.encodingLength(s.params),r,o),o+=v.encode.bytes,c.encode(s.params,r,o),o+=c.encode.bytes),b(s.unk_num)&&(r[o++]=80,p.int32.encode(s.unk_num,r,o),o+=p.int32.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={video_id:"",comment_id:"",params:null,unk_num:0};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 2:d.video_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 4:d.comment_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 5:var w=v.decode(s,r);r+=v.decode.bytes,d.params=c.decode(s,r,r+w),r+=c.decode.bytes;break;case 10:d.unk_num=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(oT,"defineCreateCommentReplyParams");function cT(){var c=jn.TranslateCommentParams={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var s=c.Params={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){var h=s.Comment={buffer:!0,encodingLength:null,encode:null,decode:null};m();function m(){h.encodingLength=_,h.encode=T,h.decode=R;function _(k){var E=0;if(b(k.text)){var P=p.string.encodingLength(k.text);E+=1+P}return E}n(_,"encodingLength");function T(k,E,P){P||(P=0),E||(E=Buffer.allocUnsafe(_(k)));var L=P;return b(k.text)&&(E[P++]=10,p.string.encode(k.text,E,P),P+=p.string.encode.bytes),T.bytes=P-L,E}n(T,"encode");function R(k,E,P){if(E||(E=0),P||(P=k.length),!(P<=k.length&&E<=k.length))throw new Error("Decoded message is not valid");for(var L=E,O={text:""};;){if(P<=E)return R.bytes=E-L,O;var D=v.decode(k,E);E+=v.decode.bytes;var B=D>>3;switch(B){case 1:O.text=p.string.decode(k,E),E+=p.string.decode.bytes;break;default:E=Y(D&7,k,E)}}}n(R,"decode")}n(m,"defineComment"),s.encodingLength=w,s.encode=x,s.decode=y;function w(_){var T=0;if(b(_.comment)){var R=h.encodingLength(_.comment);T+=v.encodingLength(R),T+=1+R}return T}n(w,"encodingLength");function x(_,T,R){R||(R=0),T||(T=Buffer.allocUnsafe(w(_)));var k=R;return b(_.comment)&&(T[R++]=10,v.encode(h.encodingLength(_.comment),T,R),R+=v.encode.bytes,h.encode(_.comment,T,R),R+=h.encode.bytes),x.bytes=R-k,T}n(x,"encode");function y(_,T,R){if(T||(T=0),R||(R=_.length),!(R<=_.length&&T<=_.length))throw new Error("Decoded message is not valid");for(var k=T,E={comment:null};;){if(R<=T)return y.bytes=T-k,E;var P=v.decode(_,T);T+=v.decode.bytes;var L=P>>3;switch(L){case 1:var O=v.decode(_,T);T+=v.decode.bytes,E.comment=h.decode(_,T,T+O),T+=h.decode.bytes;break;default:T=Y(P&7,_,T)}}}n(y,"decode")}n(r,"defineParams"),c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.params)){var w=s.encodingLength(h.params);m+=v.encodingLength(w),m+=1+w}if(b(h.comment_id)){var w=p.string.encodingLength(h.comment_id);m+=1+w}if(b(h.target_language)){var w=p.string.encodingLength(h.target_language);m+=1+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.params)&&(m[w++]=26,v.encode(s.encodingLength(h.params),m,w),w+=v.encode.bytes,s.encode(h.params,m,w),w+=s.encode.bytes),b(h.comment_id)&&(m[w++]=18,p.string.encode(h.comment_id,m,w),w+=p.string.encode.bytes),b(h.target_language)&&(m[w++]=34,p.string.encode(h.target_language,m,w),w+=p.string.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={params:null,comment_id:"",target_language:""};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 3:var R=v.decode(h,m);m+=v.decode.bytes,y.params=s.decode(h,m,m+R),m+=s.decode.bytes;break;case 2:y.comment_id=p.string.decode(h,m),m+=p.string.decode.bytes;break;case 4:y.target_language=p.string.decode(h,m),m+=p.string.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(e,"defineTranslateCommentParams"),jn.encodingLength=t,jn.encode=i,jn.decode=a;function t(s){var r=0;if(b(s.type)){var o=p.int32.encodingLength(s.type);r+=1+o}if(b(s.comment_id)){var o=p.string.encodingLength(s.comment_id);r+=1+o}if(b(s.video_id)){var o=p.string.encodingLength(s.video_id);r+=1+o}if(b(s.unk_num)){var o=p.int32.encodingLength(s.unk_num);r+=1+o}if(b(s.channel_id)){var o=p.string.encodingLength(s.channel_id);r+=2+o}if(b(s.translate_comment_params)){var o=c.encodingLength(s.translate_comment_params);r+=v.encodingLength(o),r+=2+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.type)&&(r[o++]=8,p.int32.encode(s.type,r,o),o+=p.int32.encode.bytes),b(s.comment_id)&&(r[o++]=26,p.string.encode(s.comment_id,r,o),o+=p.string.encode.bytes),b(s.video_id)&&(r[o++]=42,p.string.encode(s.video_id,r,o),o+=p.string.encode.bytes),b(s.unk_num)&&(r[o++]=16,p.int32.encode(s.unk_num,r,o),o+=p.int32.encode.bytes),b(s.channel_id)&&(r[o++]=186,r[o++]=1,p.string.encode(s.channel_id,r,o),o+=p.string.encode.bytes),b(s.translate_comment_params)&&(r[o++]=250,r[o++]=1,v.encode(c.encodingLength(s.translate_comment_params),r,o),o+=v.encode.bytes,c.encode(s.translate_comment_params,r,o),o+=c.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={type:0,comment_id:"",video_id:"",unk_num:0,channel_id:"",translate_comment_params:null};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 1:d.type=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 3:d.comment_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 5:d.video_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 2:d.unk_num=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 23:d.channel_id=p.string.decode(s,r),r+=p.string.decode.bytes;break;case 31:var w=v.decode(s,r);r+=v.decode.bytes,d.translate_comment_params=c.decode(s,r,r+w),r+=c.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(cT,"definePeformCommentActionParams");function aT(){var c=fn.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){var s=c.Type={buffer:!0,encodingLength:null,encode:null,decode:null};r();function r(){s.encodingLength=h,s.encode=m,s.decode=w;function h(x){var y=0;if(b(x.all)){var _=p.int32.encodingLength(x.all);y+=1+_}if(b(x.song)){var _=p.int32.encodingLength(x.song);y+=1+_}if(b(x.video)){var _=p.int32.encodingLength(x.video);y+=1+_}if(b(x.album)){var _=p.int32.encodingLength(x.album);y+=1+_}if(b(x.artist)){var _=p.int32.encodingLength(x.artist);y+=1+_}if(b(x.playlist)){var _=p.int32.encodingLength(x.playlist);y+=1+_}return y}n(h,"encodingLength");function m(x,y,_){_||(_=0),y||(y=Buffer.allocUnsafe(h(x)));var T=_;return b(x.all)&&(y[_++]=0,p.int32.encode(x.all,y,_),_+=p.int32.encode.bytes),b(x.song)&&(y[_++]=8,p.int32.encode(x.song,y,_),_+=p.int32.encode.bytes),b(x.video)&&(y[_++]=16,p.int32.encode(x.video,y,_),_+=p.int32.encode.bytes),b(x.album)&&(y[_++]=24,p.int32.encode(x.album,y,_),_+=p.int32.encode.bytes),b(x.artist)&&(y[_++]=32,p.int32.encode(x.artist,y,_),_+=p.int32.encode.bytes),b(x.playlist)&&(y[_++]=40,p.int32.encode(x.playlist,y,_),_+=p.int32.encode.bytes),m.bytes=_-T,y}n(m,"encode");function w(x,y,_){if(y||(y=0),_||(_=x.length),!(_<=x.length&&y<=x.length))throw new Error("Decoded message is not valid");for(var T=y,R={all:0,song:0,video:0,album:0,artist:0,playlist:0};;){if(_<=y)return w.bytes=y-T,R;var k=v.decode(x,y);y+=v.decode.bytes;var E=k>>3;switch(E){case 0:R.all=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 1:R.song=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 2:R.video=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 3:R.album=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 4:R.artist=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;case 5:R.playlist=p.int32.decode(x,y),y+=p.int32.decode.bytes;break;default:y=Y(k&7,x,y)}}}n(w,"decode")}n(r,"defineType"),c.encodingLength=o,c.encode=u,c.decode=d;function o(h){var m=0;if(b(h.type)){var w=s.encodingLength(h.type);m+=v.encodingLength(w),m+=2+w}return m}n(o,"encodingLength");function u(h,m,w){w||(w=0),m||(m=Buffer.allocUnsafe(o(h)));var x=w;return b(h.type)&&(m[w++]=138,m[w++]=1,v.encode(s.encodingLength(h.type),m,w),w+=v.encode.bytes,s.encode(h.type,m,w),w+=s.encode.bytes),u.bytes=w-x,m}n(u,"encode");function d(h,m,w){if(m||(m=0),w||(w=h.length),!(w<=h.length&&m<=h.length))throw new Error("Decoded message is not valid");for(var x=m,y={type:null};;){if(w<=m)return d.bytes=m-x,y;var _=v.decode(h,m);m+=v.decode.bytes;var T=_>>3;switch(T){case 17:var R=v.decode(h,m);m+=v.decode.bytes,y.type=s.decode(h,m,m+R),m+=s.decode.bytes;break;default:m=Y(_&7,h,m)}}}n(d,"decode")}n(e,"defineFilters"),fn.encodingLength=t,fn.encode=i,fn.decode=a;function t(s){var r=0;if(b(s.filters)){var o=c.encodingLength(s.filters);r+=v.encodingLength(o),r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.filters)&&(r[o++]=18,v.encode(c.encodingLength(s.filters),r,o),o+=v.encode.bytes,c.encode(s.filters,r,o),o+=c.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={filters:null};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 2:var w=v.decode(s,r);r+=v.decode.bytes,d.filters=c.decode(s,r,r+w),r+=c.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(aT,"defineMusicSearchFilter");function lT(){var c=ei.Filters={buffer:!0,encodingLength:null,encode:null,decode:null};e();function e(){c.encodingLength=s,c.encode=r,c.decode=o;function s(u){var d=0;if(b(u.upload_date)){var h=p.int32.encodingLength(u.upload_date);d+=1+h}if(b(u.type)){var h=p.int32.encodingLength(u.type);d+=1+h}if(b(u.duration)){var h=p.int32.encodingLength(u.duration);d+=1+h}return d}n(s,"encodingLength");function r(u,d,h){h||(h=0),d||(d=Buffer.allocUnsafe(s(u)));var m=h;return b(u.upload_date)&&(d[h++]=8,p.int32.encode(u.upload_date,d,h),h+=p.int32.encode.bytes),b(u.type)&&(d[h++]=16,p.int32.encode(u.type,d,h),h+=p.int32.encode.bytes),b(u.duration)&&(d[h++]=24,p.int32.encode(u.duration,d,h),h+=p.int32.encode.bytes),r.bytes=h-m,d}n(r,"encode");function o(u,d,h){if(d||(d=0),h||(h=u.length),!(h<=u.length&&d<=u.length))throw new Error("Decoded message is not valid");for(var m=d,w={upload_date:0,type:0,duration:0};;){if(h<=d)return o.bytes=d-m,w;var x=v.decode(u,d);d+=v.decode.bytes;var y=x>>3;switch(y){case 1:w.upload_date=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;case 2:w.type=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;case 3:w.duration=p.int32.decode(u,d),d+=p.int32.decode.bytes;break;default:d=Y(x&7,u,d)}}}n(o,"decode")}n(e,"defineFilters"),ei.encodingLength=t,ei.encode=i,ei.decode=a;function t(s){var r=0;if(b(s.sort_by)){var o=p.int32.encodingLength(s.sort_by);r+=1+o}if(b(s.no_filter)){var o=p.int32.encodingLength(s.no_filter);r+=2+o}if(b(s.filters)){var o=c.encodingLength(s.filters);r+=v.encodingLength(o),r+=1+o}return r}n(t,"encodingLength");function i(s,r,o){o||(o=0),r||(r=Buffer.allocUnsafe(t(s)));var u=o;return b(s.sort_by)&&(r[o++]=8,p.int32.encode(s.sort_by,r,o),o+=p.int32.encode.bytes),b(s.no_filter)&&(r[o++]=152,r[o++]=1,p.int32.encode(s.no_filter,r,o),o+=p.int32.encode.bytes),b(s.filters)&&(r[o++]=18,v.encode(c.encodingLength(s.filters),r,o),o+=v.encode.bytes,c.encode(s.filters,r,o),o+=c.encode.bytes),i.bytes=o-u,r}n(i,"encode");function a(s,r,o){if(r||(r=0),o||(o=s.length),!(o<=s.length&&r<=s.length))throw new Error("Decoded message is not valid");for(var u=r,d={sort_by:0,no_filter:0,filters:null};;){if(o<=r)return a.bytes=r-u,d;var h=v.decode(s,r);r+=v.decode.bytes;var m=h>>3;switch(m){case 1:d.sort_by=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 19:d.no_filter=p.int32.decode(s,r),r+=p.int32.decode.bytes;break;case 2:var w=v.decode(s,r);r+=v.decode.bytes,d.filters=c.decode(s,r,r+w),r+=c.decode.bytes;break;default:r=Y(h&7,s,r)}}}n(a,"decode")}n(lT,"defineSearchFilter");function b(c){return c!=null&&(typeof c!="number"||!isNaN(c))}n(b,"defined")});var ut=g((nR,vu)=>{"use strict";var _e=wu(),ti=class{static encodeVisitorData(e,t){let i=_e.VisitorData.encode({id:e,timestamp:t});return encodeURIComponent(Buffer.from(i).toString("base64").replace(/\/|\+/g,"_"))}static encodeChannelAnalyticsParams(e){let t=_e.ChannelAnalytics.encode({params:{channel_id:e}});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeSearchFilters(e){let t={all:null,hour:1,today:2,week:3,month:4,year:5},i={all:null,video:1,channel:2,playlist:3,movie:4},a={all:null,short:1,long:2,medium:3},s={relevance:null,rating:1,upload_date:2,view_count:3},r={};if(e?r.filters={}:r.no_filter=0,e){if(e.upload_date&&e.type!=="video")throw new Error(`Upload date filter cannot be used with type ${e.type}`);e.upload_date&&(r.filters.upload_date=t[e.upload_date]),e.type&&(r.filters.type=i[e.type]),e.duration&&(r.filters.duration=a[e.duration]),e.sort_by&&e.sort_by!=="relevance"&&(r.sort_by=s[e.sort_by])}let o=_e.SearchFilter.encode(r);return encodeURIComponent(Buffer.from(o).toString("base64"))}static encodeMusicSearchFilters(e={}){let t={filters:{type:{}}};t.filters.type[e.type||"all"]=1;let i=_e.MusicSearchFilter.encode(t);return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeMessageParams(e,t){let i=_e.LiveMessageParams.encode({params:{ids:{channel_id:e,video_id:t}},number_0:1,number_1:4});return Buffer.from(encodeURIComponent(Buffer.from(i).toString("base64"))).toString("base64")}static encodeCommentsSectionParams(e,t={}){let i={TOP_COMMENTS:0,NEWEST_FIRST:1},a=_e.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{opts:{video_id:e,sort_by:i[t.sort_by||"TOP_COMMENTS"],type:t.type||2},target:"comments-section"}});return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeCommentRepliesParams(e,t){let i=_e.GetCommentsSectionParams.encode({ctx:{video_id:e},unk_param:6,params:{replies_opts:{video_id:e,comment_id:t,unkopts:{unk_param:0},unk_param_1:1,unk_param_2:10,channel_id:" "},target:`comment-replies-item-${t}`}});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeCommentParams(e){let t=_e.CreateCommentParams.encode({video_id:e,params:{index:0},number:7});return encodeURIComponent(Buffer.from(t).toString("base64"))}static encodeCommentReplyParams(e,t){let i=_e.CreateCommentReplyParams.encode({video_id:t,comment_id:e,params:{unk_num:0},unk_num:7});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeCommentActionParams(e,t={}){let i={};i.type=e,i.video_id=t.video_id||"",i.comment_id=t.comment_id||"",i.unk_num=2,t.hasOwnProperty("text")&&(t.comment_id&&delete i.unk_num,i.translate_comment_params={params:{comment:{text:t.text}},comment_id:t.comment_id||"",target_language:t.target_language});let a=_e.PeformCommentActionParams.encode(i);return encodeURIComponent(Buffer.from(a).toString("base64"))}static encodeNotificationPref(e,t){let i=_e.NotificationPreferences.encode({channel_id:e,pref_id:{index:t},number_0:0,number_1:4});return encodeURIComponent(Buffer.from(i).toString("base64"))}static encodeSoundInfoParams(e){let t={sound:{params:{ids:{id_1:e,id_2:e,id_3:e}}}},i=_e.SoundInfoParams.encode(t);return encodeURIComponent(Buffer.from(i).toString("base64"))}};n(ti,"Proto");vu.exports=ti});var Ha=g((iR,xu)=>{"use strict";var ni=class{constructor(e){this.itag=e.itag,this.mime_type=e.mimeType,this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width||null,this.height=e.height||null,this.init_range=e.initRange&&{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)},this.index_range=e.indexRange&&{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)},this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel||null,this.fps=e.fps||null,this.url=e.url||null,this.cipher=e.cipher||null,this.signature_cipher=e.signatureCipher||null,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel}decipher(e){return e.decipher(this.url,this.signature_cipher,this.cipher)}};n(ni,"Format");xu.exports=ni});var U=g((sR,bu)=>{"use strict";var ht=class{url;width;height;constructor({url:e,width:t,height:i}){this.url=e,this.width=t,this.height=i}static fromResponse(e){if(!(!e||!e.thumbnails))return e.thumbnails.map(t=>new ht(t)).sort((t,i)=>i.width-t.width)}};n(ht,"Thumbnail");bu.exports=ht});var za=g((rR,Tu)=>{"use strict";var uT=U(),ii=class{id;channel_id;title;keywords;short_description;author;constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=uT.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live_content=!!e.isLiveContent,this.is_crawlable=!!e.isCrawlable}};n(ii,"VideoDetails");Tu.exports=ii});var Eu=g((oR,qu)=>{"use strict";var hT=S(),si=class{type="AppendContinuationItemsAction";constructor(e){this.items=hT.parse(e.continuationItems),this.target=e.target}};n(si,"AppendContinuationItemsAction");qu.exports=si});var Iu=g((cR,Su)=>{"use strict";var dT=S(),ri=class{type="OpenPopupAction";constructor(e){this.popup=dT.parse(e.popup),this.popup_type=e.popupType}};n(ri,"OpenPopupAction");Su.exports=ri});var Ka=g((aR,Cu)=>{"use strict";var oi=class{type="DataModelSection";constructor(e){this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator,this.series_configuration={line_series:{lines_data:e.seriesConfiguration.lineSeries.linesData,domain_axis:e.seriesConfiguration.lineSeries.domainAxis,measure_axis:e.seriesConfiguration.lineSeries.measureAxis}}}};n(oi,"DataModelSection");Cu.exports=oi});var Pu=g((lR,Ru)=>{"use strict";var pT=Ka(),ci=class{type="AnalyticsMainAppKeyMetrics";constructor(e){this.period=e.cardData.periodLabel;let t=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=t.dataModel.sections.map(i=>new pT(i))}};n(ci,"AnalyticsMainAppKeyMetrics");Ru.exports=ci});var Qa=g((uR,ku)=>{"use strict";var mT=U(),ai=class{type="AnalyticsVideo";constructor(e){this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:mT.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(ai,"AnalyticsVideo");ku.exports=ai});var Au=g((hR,Lu)=>{"use strict";var gT=Qa(),li=class{type="AnalyticsVodCarouselCard";constructor(e){this.title=e.title,this.videos=e.videoCarouselData.videos.map(t=>new gT(t))}};n(li,"AnalyticsVodCarouselCard");Lu.exports=li});var A=g((dR,Nu)=>{"use strict";var je=S(),ui=class{type="NavigationEndpoint";constructor(e){var i,a,s,r,o,u,d,h,m,w,x,y,_,T,R,k,E,P,L,O,D,B,V;let t=Object.keys(e||{}).find(M=>M.endsWith("Endpoint")||M.endsWith("Command"));if(this.payload=(e==null?void 0:e[t])||{},Reflect.has(this.payload,"dialog")&&(this.dialog=je.parse(this.payload.dialog)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(a=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&a.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(r=(s=e==null?void 0:e.commandMetadata)==null?void 0:s.webCommandMetadata)!=null&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(u=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&u.apiUrl&&(this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/","")),(h=(d=e==null?void 0:e.commandMetadata)==null?void 0:d.webCommandMetadata)!=null&&h.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.browseEndpoint){let M=(w=(m=e==null?void 0:e.browseEndpoint)==null?void 0:m.browseEndpointContextSupportedConfigs)==null?void 0:w.browseEndpointContextMusicConfig;this.browse={id:((x=e==null?void 0:e.browseEndpoint)==null?void 0:x.browseId)||null,params:(e==null?void 0:e.browseEndpoint.params)||null,base_url:((y=e==null?void 0:e.browseEndpoint)==null?void 0:y.canonicalBaseUrl)||null,page_type:(M==null?void 0:M.pageType)||null}}if(e!=null&&e.watchEndpoint){let M=(T=(_=e==null?void 0:e.watchEndpoint)==null?void 0:_.watchEndpointMusicSupportedConfigs)==null?void 0:T.watchEndpointMusicConfig;this.watch={video_id:(R=e==null?void 0:e.watchEndpoint)==null?void 0:R.videoId,playlist_id:(e==null?void 0:e.watchEndpoint.playlistId)||null,params:(e==null?void 0:e.watchEndpoint.params)||null,index:(e==null?void 0:e.watchEndpoint.index)||null,supported_onesie_config:(k=e==null?void 0:e.watchEndpoint)==null?void 0:k.watchEndpointSupportedOnesieConfig,music_video_type:(M==null?void 0:M.musicVideoType)||null}}e!=null&&e.searchEndpoint&&(this.search={query:e.searchEndpoint.query,params:e.searchEndpoint.params}),e!=null&&e.subscribeEndpoint&&(this.subscribe={channel_ids:e.subscribeEndpoint.channelIds,params:e.subscribeEndpoint.params}),e!=null&&e.unsubscribeEndpoint&&(this.unsubscribe={channel_ids:e.unsubscribeEndpoint.channelIds,params:e.unsubscribeEndpoint.params}),e!=null&&e.likeEndpoint&&(this.like={status:e.likeEndpoint.status,target:{video_id:e.likeEndpoint.target.videoId,playlist_id:e.likeEndpoint.target.playlistId},params:((E=e.likeEndpoint)==null?void 0:E.removeLikeParams)||((P=e.likeEndpoint)==null?void 0:P.likeParams)||((L=e.likeEndpoint)==null?void 0:L.dislikeParams)}),e!=null&&e.performCommentActionEndpoint&&(this.perform_comment_action={action:e==null?void 0:e.performCommentActionEndpoint.action}),e!=null&&e.offlineVideoEndpoint&&(this.offline_video={video_id:e.offlineVideoEndpoint.videoId,on_add_command:{get_download_action:{video_id:e.offlineVideoEndpoint.videoId,params:e.offlineVideoEndpoint.onAddCommand.getDownloadActionCommand.params}}}),e!=null&&e.continuationCommand&&(this.continuation={request:((O=e==null?void 0:e.continuationCommand)==null?void 0:O.request)||null,token:((D=e==null?void 0:e.continuationCommand)==null?void 0:D.token)||null}),e!=null&&e.feedbackEndpoint&&(this.feedback={token:e.feedbackEndpoint.feedbackToken}),e!=null&&e.watchPlaylistEndpoint&&(this.watch_playlist={playlist_id:(B=e.watchPlaylistEndpoint)==null?void 0:B.playlistId}),e!=null&&e.playlistEditEndpoint&&(this.playlist_edit={playlist_id:e.playlistEditEndpoint.playlistId,actions:e.playlistEditEndpoint.actions.map(M=>({action:M.action,removed_video_id:M.removedVideoId}))}),e!=null&&e.addToPlaylistEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistEndpoint.videoId}),e!=null&&e.addToPlaylistServiceEndpoint&&(this.add_to_playlist={video_id:e.addToPlaylistServiceEndpoint.videoId}),e!=null&&e.getReportFormEndpoint&&(this.get_report_form={params:e.getReportFormEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:(V=e==null?void 0:e.liveChatItemContextMenuEndpoint)==null?void 0:V.params}),e!=null&&e.sendLiveChatVoteEndpoint&&(this.send_live_chat_vote={params:e.sendLiveChatVoteEndpoint.params}),e!=null&&e.liveChatItemContextMenuEndpoint&&(this.live_chat_item_context_menu={params:e.liveChatItemContextMenuEndpoint.params})}async callTest(e,t={parse:!0,params:{}}){if(!e)throw new Error("An active caller must be provided");let i=await e.execute(this.metadata.api_url,{...this.payload,...t.params});return t.parse?je.parseResponse(i.data):i}async call(e,t){if(!e)throw new Error("An active caller must be provided");if(this.continuation)switch(this.continuation.request){case"CONTINUATION_REQUEST_TYPE_BROWSE":{let i=await e.browse(this.continuation.token,{is_ctoken:!0});return je.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_SEARCH":{let i=await e.search({ctoken:this.continuation.token});return je.parseResponse(i.data)}case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":{let i=await e.next({ctoken:this.continuation.token});return je.parseResponse(i.data)}default:throw new Error(`${this.continuation.request} not implemented`)}if(this.search){let i=await e.search({query:this.search.query,params:this.search.params,client:t});return je.parseResponse(i.data)}if(this.browse){let i=await e.browse(this.browse.id,{...this.browse,client:t});return je.parseResponse(i.data)}if(this.like)return await e.engage(this.metadata.api_url,{video_id:this.like.target.video_id,params:this.like.params})}};n(ui,"NavigationEndpoint");Nu.exports=ui});var Ja=g((pR,Ou)=>{"use strict";var _T=A(),hi=class{constructor(e){this.text=e.text,this.endpoint=e.navigationEndpoint?new _T(e.navigationEndpoint):{}}};n(hi,"TextRun");Ou.exports=hi});var Xa=g((mR,Uu)=>{"use strict";var yT=U(),di=class{constructor(e){var t,i,a;this.text=((t=e.emoji)==null?void 0:t.emojiId)||((a=(i=e.emoji)==null?void 0:i.shortcuts)==null?void 0:a[0])||null,this.emoji={emoji_id:e.emoji.emojiId,shortcuts:e.emoji.shortcuts,search_terms:e.emoji.searchTerms,image:yT.fromResponse(e.emoji.image)}}};n(di,"EmojiRun");Uu.exports=di});var C=g((gR,Du)=>{"use strict";var wT=Ja(),vT=Xa(),pi=class{text;constructor(e){e!=null&&e.hasOwnProperty("runs")?(this.runs=e.runs.map(t=>t.emoji&&new vT(t)||new wT(t)),this.text=this.runs.map(t=>t.text).join("")):this.text=(e==null?void 0:e.simpleText)||"N/A"}toString(){return this.text}};n(pi,"Text");Du.exports=pi});var gi=g((_R,Bu)=>{"use strict";var xT=C(),Za=A(),mi=class extends xT{type="NavigatableText";endpoint;constructor(e){var t,i;super(e),this.endpoint=(i=(t=e.runs)==null?void 0:t[0])!=null&&i.navigationEndpoint?new Za(e.runs[0].navigationEndpoint):e.navigationEndpoint?new Za(e.navigationEndpoint):e.titleNavigationEndpoint?new Za(e.titleNavigationEndpoint):null}toJSON(){return this}};n(mi,"NavigatableText");Bu.exports=mi});var ee=g((yR,Vu)=>{"use strict";var bT=S(),TT=gi(),qT=U(),Mu=pe(),re,_i=class{constructor(e,t,i){q(this,re,void 0);var a,s,r,o,u,d,h,m,w,x,y,_,T,R;I(this,re,new TT(e)),this.id=((s=(a=l(this,re).runs)==null?void 0:a[0].endpoint.browse)==null?void 0:s.id)||((o=(r=l(this,re).endpoint)==null?void 0:r.browse)==null?void 0:o.id)||"N/A",this.name=l(this,re).text||"N/A",this.thumbnails=i?qT.fromResponse(i):[],this.endpoint=((u=l(this,re).runs)==null?void 0:u[0].endpoint)||l(this,re).endpoint,this.badges=Array.isArray(t)?bT.parse(t):[],this.is_verified=((d=this.badges)==null?void 0:d.some(k=>k.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.is_verified_artist=((h=this.badges)==null?void 0:h.some(k=>k.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.url=((m=l(this,re).runs)==null?void 0:m[0].endpoint.browse)&&`${Mu.URLS.YT_BASE}${((w=l(this,re).runs[0].endpoint.browse)==null?void 0:w.base_url)||`/u/${(x=l(this,re).runs[0].endpoint.browse)==null?void 0:x.id}`}`||`${Mu.URLS.YT_BASE}${((_=(y=l(this,re).endpoint)==null?void 0:y.browse)==null?void 0:_.base_url)||`/u/${(R=(T=l(this,re).endpoint)==null?void 0:T.browse)==null?void 0:R.id}`}`||null}get best_thumbnail(){return this.thumbnails[0]}};n(_i,"Author"),re=new WeakMap;Vu.exports=_i});var Yu=g((wR,Fu)=>{"use strict";var ET=U(),yi=class{type="BackstageImage";constructor(e){this.image=ET.fromResponse(e.image)}};n(yi,"BackstageImage");Fu.exports=yi});var fa=g((vR,$u)=>{"use strict";var wi=S(),ST=ee(),ja=C(),IT=A(),vi=class{type="BackstagePost";constructor(e){this.id=e.postId,this.author=new ST({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new ja(e.contentText,""),this.published=new ja(e.publishedTimeText),this.poll_status=e.pollStatus,this.vote_status=e.voteStatus,this.likes=new ja(e.voteCount),this.menu=wi.parse(e.actionMenu)||null,this.actions=wi.parse(e.actionButtons),this.vote_button=wi.parse(e.voteButton),this.surface=e.surface,this.endpoint=new IT(e.navigationEndpoint),this.attachment=wi.parse(e.backstageAttachment)||null}};n(vi,"BackstagePost");$u.exports=vi});var Wu=g((xR,Gu)=>{"use strict";var CT=S(),xi=class{type="BackstagePostThread";constructor(e){this.post=CT.parse(e.post)}};n(xi,"BackstagePostThread");Gu.exports=xi});var zu=g((bR,Hu)=>{"use strict";var RT=S(),bi=class{type="BrowseFeedActions";constructor(e){this.contents=RT.parse(e.contents)}};n(bi,"BrowseFeedActions");Hu.exports=bi});var qi=g((TR,Ku)=>{"use strict";var PT=C(),kT=A(),Ti=class{type="Button";constructor(e){var t,i,a,s;this.text=new PT(e.text).toString(),(t=e.accessibility)!=null&&t.label&&(this.label=(i=e.accessibility)==null?void 0:i.label),e.tooltip&&(this.tooltip=e.tooltip),(a=e.icon)!=null&&a.iconType&&(this.iconType=(s=e.icon)==null?void 0:s.iconType),this.endpoint=new kT(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(Ti,"Button");Ku.exports=Ti});var Ju=g((qR,Qu)=>{"use strict";var el=S(),LT=ee(),tl=U(),AT=C(),Ei=class{type="C4TabbedHeader";constructor(e){this.author=new LT({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),this.banner=e.banner?tl.fromResponse(e.banner):[],this.tv_banner=e.tvBanner?tl.fromResponse(e.tvBanner):[],this.mobile_banner=e.mobileBanner?tl.fromResponse(e.mobileBanner):[],this.subscribers=new AT(e.subscriberCountText),this.sponsor_button=e.sponsorButton&&el.parse(e.sponsorButton),this.subscribe_button=e.subscribeButton&&el.parse(e.subscribeButton),this.header_links=e.headerLinks&&el.parse(e.headerLinks)}};n(Ei,"C4TabbedHeader");Qu.exports=Ei});var Zu=g((ER,Xu)=>{"use strict";var NT=C(),Si=class{type="CallToActionButton";constructor(e){this.label=new NT(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Si,"CallToActionButton");Xu.exports=Si});var eh=g((SR,fu)=>{"use strict";var ju=S(),Ii=class{type="Card";constructor(e){this.teaser=ju.parse(e.teaser),this.content=ju.parse(e.content),this.card_id=e.cardId,this.feature=e.feature,this.cue_ranges=e.cueRanges.map(t=>({start_card_active_ms:t.startCardActiveMs,end_card_active_ms:t.endCardActiveMs,teaser_duration_ms:t.teaserDurationMs,icon_after_teaser_ms:t.iconAfterTeaserMs}))}};n(Ii,"Card");fu.exports=Ii});var nh=g((IR,th)=>{"use strict";var OT=S(),UT=C(),Ci=class{type="CardCollection";constructor(e){this.cards=OT.parse(e.cards),this.header=new UT(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(Ci,"CardCollection");th.exports=Ci});var sh=g((CR,ih)=>{"use strict";var DT=ee(),BT=A(),nl=C(),Ri=class{type="Channel";constructor(e){this.id=e.channelId,this.author=new DT({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new nl(e.subscriberCountText),this.videos=new nl(e.videoCountText),this.endpoint=new BT(e.navigationEndpoint),this.description_snippet=new nl(e.descriptionSnippet)}};n(Ri,"Channel");ih.exports=Ri});var oh=g((RR,rh)=>{"use strict";var MT=U(),VT=A(),nn=C(),FT=S(),Pi=class{type="ChannelAboutFullMetadata";constructor(e){this.id=e.channelId,this.name=new nn(e.title),this.avatar=MT.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.views=new nn(e.viewCountText),this.joined=new nn(e.joinedDateText),this.description=new nn(e.description),this.email_reveal=new VT(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new nn(e.country),this.buttons=FT.parse(e.actionButtons)}};n(Pi,"ChannelAboutFullMetadata");rh.exports=Pi});var ah=g((PR,ch)=>{"use strict";var YT=S(),$T=C(),ki=class{type="ChannelFeaturedContent";constructor(e){this.title=new $T(e.title),this.items=YT.parse(e.items)}};n(ki,"ChannelFeaturedContent");ch.exports=ki});var uh=g((kR,lh)=>{"use strict";var GT=A(),WT=C(),HT=U(),sn=class{constructor(e){this.endpoint=new GT(e.navigationEndpoint),this.icon=HT.fromResponse(e.icon),this.title=new WT(e.title)}};n(sn,"HeaderLink");var Li=class{type="ChannelHeaderLinks";constructor(e){var t,i;this.primary=((t=e.primaryLinks)==null?void 0:t.map(a=>new sn(a)))||[],this.secondary=((i=e.secondaryLinks)==null?void 0:i.map(a=>new sn(a)))||[]}};n(Li,"ChannelHeaderLinks");lh.exports=Li});var dh=g((LR,hh)=>{"use strict";var zT=U(),Ai=class{type="ChannelMetadata";constructor(e){this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_urls=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=zT.fromResponse(e.avatar),this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(Ai,"ChannelMetadata");hh.exports=Ai});var mh=g((AR,ph)=>{"use strict";var KT=C(),Ni=class{constructor(e){this.title=new KT(e.title)}};n(Ni,"ChannelMobileHeader");ph.exports=Ni});var _h=g((NR,gh)=>{"use strict";var QT=U(),JT=A(),Oi=class{type="ChannelThumbnailWithLink";constructor(e){this.thumbnails=QT.fromResponse(e.thumbnail),this.endpoint=new JT(e.navigationEndpoint),this.label=e.accessibility.accessibilityData.label}};n(Oi,"ChannelThumbnailWithLink");gh.exports=Oi});var wh=g((OR,yh)=>{"use strict";var Ui=C(),Di=class{type="ChannelVideoPlayer";constructor(e){this.id=e.videoId,this.title=new Ui(e.title,""),this.description=new Ui(e.description,""),this.views=new Ui(e.viewCountText,""),this.published_at=new Ui(e.publishedTimeText,"")}};n(Di,"ChannelVideoPlayer");yh.exports=Di});var xh=g((UR,vh)=>{"use strict";var XT=A(),ZT=G(),jT=C(),Bi=class{type="ChildVideo";constructor(e){this.id=e.videoId,this.title=new jT(e.title),this.duration={text:e.lengthText.simpleText,seconds:ZT.timeToSeconds(e.lengthText.simpleText)},this.endpoint=new XT(e.navigationEndpoint)}};n(Bi,"ChildVideo");vh.exports=Bi});var Th=g((DR,bh)=>{"use strict";var il=S(),Mi=class{type="ChipCloud";constructor(e){this.chips=il.parse(e.chips),this.next_button=il.parse(e.nextButton),this.previous_button=il.parse(e.previousButton),this.horizontal_scrollable=e.horizontalScrollable}};n(Mi,"ChipCloud");bh.exports=Mi});var Eh=g((BR,qh)=>{"use strict";var fT=C(),eq=A(),Vi=class{type="ChipCloudChip";constructor(e){this.is_selected=e.isSelected,this.endpoint=e.navigationEndpoint&&new eq(e.navigationEndpoint),this.text=new fT(e.text).toString()}};n(Vi,"ChipCloudChip");qh.exports=Vi});var Ih=g((MR,Sh)=>{"use strict";var tq=A(),sl=U(),Fi=class{type="CollageHeroImage";constructor(e){this.left=sl.fromResponse(e.leftThumbnail),this.top_right=sl.fromResponse(e.topRightThumbnail),this.bottom_right=sl.fromResponse(e.bottomRightThumbnail),this.endpoint=new tq(e.navigationEndpoint)}};n(Fi,"CollageHeroImage");Sh.exports=Fi});var Rh=g((VR,Ch)=>{"use strict";var rn,Yi=class{constructor(e){ie(this,"type","AuthorCommentBadge");q(this,rn,void 0);this.icon_type=e.icon.iconType,this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),I(this,rn,e)}get orig_badge(){return l(this,rn)}};n(Yi,"AuthorCommentBadge"),rn=new WeakMap;Ch.exports=Yi});var kh=g((FR,Ph)=>{"use strict";var rl=S(),ol=C(),nq=U(),iq=ee(),sq=ut(),{InnertubeError:cl}=G(),Me,$i=class{constructor(e){ie(this,"type","Comment");q(this,Me,void 0);var t,i;this.content=new ol(e.contentText),this.published=new ol(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=nq.fromResponse(e.currentUserReplyThumbnail),this.author_badge=rl.parse(e.authorCommentBadge,"comments"),this.author=new iq({...e.authorText,navigationEndpoint:e.authorEndpoint},this.author_badge?[{metadataBadgeRenderer:(t=this.author_badge)==null?void 0:t.orig_badge}]:null,e.authorThumbnail),this.action_menu=rl.parse(e.actionMenu),this.action_buttons=rl.parse(e.actionButtons,"comments"),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count={text:e.voteCount?(i=e.voteCount.accessibility.accessibilityData)==null?void 0:i.label.replace(/\D/g,""):"0",short_text:e.voteCount?new ol(e.voteCount).toString():"0"},this.reply_count=e.replyCount||0,this.is_liked=this.action_buttons.like_button.is_toggled,this.is_disliked=this.action_buttons.dislike_button.is_toggled,this.is_pinned=!!e.pinnedCommentBadge}async like(){let e=this.action_buttons.like_button;if(e.is_toggled)throw new cl("This comment is already liked",{comment_id:this.comment_id});return await e.endpoint.callTest(l(this,Me),{parse:!1})}async dislike(){let e=this.action_buttons.dislike_button;if(e.is_toggled)throw new cl("This comment is already disliked",{comment_id:this.comment_id});return await e.endpoint.callTest(l(this,Me),{parse:!1})}async reply(e){if(!this.action_buttons.reply_button)throw new cl("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let i=this.action_buttons.reply_button.endpoint.dialog.reply_button,a={params:{commentText:e}};return await i.endpoint.callTest(l(this,Me),a)}async translate(e){let i={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},a=sq.encodeCommentActionParams(22,i),s=await l(this,Me).execute("comment/perform_comment_action",{action:a,client:"ANDROID"}),o=s.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload.translatedContent.content;return{...s,content:o}}setActions(e){I(this,Me,e)}};n($i,"Comment"),Me=new WeakMap;Ph.exports=$i});var Ah=g((YR,Lh)=>{"use strict";var al=S(),Gi=class{type="CommentActionButtons";constructor(e){this.like_button=al.parse(e.likeButton),this.dislike_button=al.parse(e.dislikeButton),this.reply_button=al.parse(e.replyButton)}};n(Gi,"CommentActionButtons");Lh.exports=Gi});var Oh=g(($R,Nh)=>{"use strict";var ll=S(),Wi=class{type="CommentReplies";constructor(e){this.contents=ll.parse(e.contents),this.view_replies=ll.parse(e.viewReplies),this.hide_replies=ll.parse(e.hideReplies)}};n(Wi,"CommentReplies");Nh.exports=Wi});var Mh=g((GR,Bh)=>{"use strict";var Uh=S(),rq=U(),Dh=C(),Hi=class{type="CommentReplyDialog";constructor(e){this.reply_button=Uh.parse(e.replyButton),this.cancel_button=Uh.parse(e.cancelButton),this.author_thumbnail=rq.fromResponse(e.authorThumbnail),this.placeholder=new Dh(e.placeholderText),this.error_message=new Dh(e.errorMessage)}};n(Hi,"CommentReplyDialog");Bh.exports=Hi});var Fh=g((WR,Vh)=>{"use strict";var zi=C(),oq=U(),Ki=class{type="CommentsEntryPointHeader";constructor(e){this.header=new zi(e.headerText),this.comment_count=new zi(e.commentCount),this.teaser_avatar=oq.fromResponse(e.teaserAvatar||e.simpleboxAvatar),this.teaser_content=new zi(e.teaserContent),this.simplebox_placeholder=new zi(e.simpleboxPlaceholder)}};n(Ki,"CommentsEntryPointHeader");Vh.exports=Ki});var Gh=g((HR,$h)=>{"use strict";var Yh=S(),ul=C(),cq=U(),Qi=class{type="CommentsHeader";constructor(e){var t;this.title=new ul(e.titleText),this.count=new ul(e.countText),this.comments_count=new ul(e.commentsCount),this.create_renderer=Yh.parse(e.createRenderer,"comments"),this.sort_menu=Yh.parse(e.sortMenu),this.custom_emojis=((t=e.customEmojis)==null?void 0:t.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:cq.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))||null}};n(Qi,"CommentsHeader");$h.exports=Qi});var zh=g((zR,Hh)=>{"use strict";var Wh=S(),aq=U(),lq=C(),Ji=class{type="CommentSimplebox";constructor(e){this.submit_button=Wh.parse(e.submitButton),this.cancel_button=Wh.parse(e.cancelButton),this.author_thumbnails=aq.fromResponse(e.authorThumbnail),this.placeholder=new lq(e.placeholderText),this.avatar_size=e.avatarSize}};n(Ji,"CommentSimplebox");Hh.exports=Ji});var Jh=g((KR,Qh)=>{"use strict";var Kh=S(),{InnertubeError:hl}=G(),dt,Ve,fe,Xi=class{constructor(e){ie(this,"type","CommentThread");q(this,dt,void 0);q(this,Ve,void 0);q(this,fe,void 0);this.comment=Kh.parse(e.comment),I(this,dt,Kh.parse(e.replies)),this.is_moderated_elq_comment=e.isModeratedElqComment}async getReplies(){var i;if(!l(this,dt))throw new hl("This comment has no replies.",{comment_id:this.comment.comment_id});let t=await l(this,dt).contents.get({type:"ContinuationItem"}).endpoint.callTest(l(this,Ve));return this.replies=t.on_response_received_endpoints_memo.get("Comment").map(a=>(a.setActions(l(this,Ve)),a)),I(this,fe,(i=t.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:i[0]),this}async getContinuation(){var t;if(!this.replies)throw new hl("Continuation not available.");if(!l(this,fe))throw new hl("Continuation not found.");let e=await l(this,fe).button.endpoint.callTest(l(this,Ve));return this.replies=e.on_response_received_endpoints_memo.get("Comment").map(i=>(i.setActions(l(this,Ve)),i)),I(this,fe,(t=e.on_response_received_endpoints_memo.get("ContinuationItem"))==null?void 0:t[0]),this}setActions(e){I(this,Ve,e)}};n(Xi,"CommentThread"),dt=new WeakMap,Ve=new WeakMap,fe=new WeakMap;Qh.exports=Xi});var Zh=g((QR,Xh)=>{"use strict";var uq=C(),hq=A(),Zi=class{type="CompactLink";constructor(e){this.title=new uq(e.title).toString(),this.endpoint=new hq(e.navigationEndpoint),this.style=e.style}};n(Zi,"CompactLink");Xh.exports=Zi});var pt=g((JR,jh)=>{"use strict";var dq=ee(),ji=class extends dq{constructor(e){super(e),delete this.badges,delete this.is_verified,delete this.is_verified_artist}};n(ji,"PlaylistAuthor");jh.exports=ji});var on=g((XR,fh)=>{"use strict";var fi=C(),es=S(),pq=U(),mq=A(),gq=pt(),ts=class{type="Playlist";constructor(e){var t;this.id=e.playlistId,this.title=new fi(e.title),this.author=(t=e.shortBylineText)!=null&&t.simpleText?new fi(e.shortBylineText):new gq(e.longBylineText,e.ownerBadges,null),this.thumbnails=pq.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(i=>i.thumbnails).flat(1)}),this.video_count=new fi(e.thumbnailText),this.video_count_short=new fi(e.videoCountShortText),this.first_videos=es.parse(e.videos)||[],this.share_url=e.shareUrl||null,this.menu=es.parse(e.menu),this.badges=es.parse(e.ownerBadges),this.endpoint=new mq(e.navigationEndpoint),this.thumbnail_overlays=es.parse(e.thumbnailOverlays)||[]}};n(ts,"Playlist");fh.exports=ts});var td=g((ZR,ed)=>{"use strict";var _q=on(),ns=class extends _q{type="CompactMix";constructor(e){super(e)}};n(ns,"CompactMix");ed.exports=ns});var id=g((jR,nd)=>{"use strict";var yq=on(),is=class extends yq{type="CompactPlaylist";constructor(e){super(e)}};n(is,"CompactPlaylist");nd.exports=is});var rd=g((fR,sd)=>{"use strict";var dl=S(),mt=C(),wq=ee(),vq=G(),xq=U(),bq=A(),ss=class{type="CompactVideo";constructor(e){this.id=e.videoId,this.thumbnails=xq.fromResponse(e.thumbnail)||null,this.rich_thumbnail=e.richThumbnail&&dl.parse(e.richThumbnail),this.title=new mt(e.title),this.author=new wq(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new mt(e.viewCountText),this.short_view_count=new mt(e.shortViewCountText),this.published=new mt(e.publishedTimeText),this.duration={text:new mt(e.lengthText).toString(),seconds:vq.timeToSeconds(new mt(e.lengthText).toString())},this.thumbnail_overlays=dl.parse(e.thumbnailOverlays),this.endpoint=new bq(e.navigationEndpoint),this.menu=dl.parse(e.menu)}get best_thumbnail(){return this.thumbnails[0]}};n(ss,"CompactVideo");sd.exports=ss});var cd=g((eP,od)=>{"use strict";var Tq=S(),qq=A(),rs=class{type="ContinuationItem";constructor(e){this.trigger=e.trigger,e.button&&(this.button=Tq.parse(e.button)),this.endpoint=new qq(e.continuationEndpoint)}};n(rs,"ContinuationItem");od.exports=rs});var ld=g((tP,ad)=>{"use strict";var os=class{type="CtaGoToCreatorStudio";constructor(e){this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(os,"CtaGoToCreatorStudio");ad.exports=os});var hd=g((nP,ud)=>{"use strict";var Eq=C(),Sq=A(),cs=class{type="DidYouMean";constructor(e){this.corrected_query=new Eq(e.correctedQuery),this.endpoint=new Sq(e.navigationEndpoint)}};n(cs,"DidYouMean");ud.exports=cs});var pd=g((iP,dd)=>{"use strict";var Iq=A(),as=class{type="DownloadButton";constructor(e){this.style=e.style,this.size=e.size,this.endpoint=new Iq(e.command),this.target_id=e.targetId}};n(as,"DownloadButton");dd.exports=as});var gd=g((sP,md)=>{"use strict";var Cq=S(),ls=class{type="Element";constructor(e){let t=e.newElement.type.componentType;return Cq.parse(t.model)}};n(ls,"Element");md.exports=ls});var wd=g((rP,yd)=>{"use strict";var Rq=C(),_d=S(),us=class{type="EmergencyOnebox";constructor(e){this.title=new Rq(e.title),this.first_option=_d.parse(e.firstOption),this.menu=_d.parse(e.menu)}};n(us,"EmergencyOnebox");yd.exports=us});var xd=g((oP,vd)=>{"use strict";var Pq=S(),hs=class{type="Endscreen";constructor(e){this.elements=Pq.parse(e.elements),this.start_ms=e.startMs}};n(hs,"Endscreen");vd.exports=hs});var Ed=g((cP,qd)=>{"use strict";var bd=S(),Td=U(),kq=A(),pl=C(),ds=class{type="EndscreenElement";constructor(e){this.style=e.style,this.title=new pl(e.title),this.endpoint=new kq(e.endpoint),e.image&&(this.image=Td.fromResponse(e.image)),e.icon&&(this.icon=Td.fromResponse(e.icon)),e.metadata&&(this.metadata=new pl(e.metadata)),e.callToAction&&(this.call_to_action=new pl(e.callToAction)),e.hovercardButton&&(this.hovercard_button=bd.parse(e.hovercardButton)),e.isSubscribe&&(this.is_subscribe=e.isSubscribe),this.thumbnail_overlays=bd.parse(e.thumbnailOverlays),this.left=e.left,this.width=e.width,this.top=e.top,this.aspect_ratio=e.aspectRatio,this.start_ms=e.startMs,this.end_ms=e.endMs,this.id=e.id}};n(ds,"EndscreenElement");qd.exports=ds});var Id=g((aP,Sd)=>{"use strict";var ml=C(),Lq=U(),Aq=A(),ps=class{type="EndScreenPlaylist";constructor(e){this.id=e.playlistId,this.title=new ml(e.title),this.author=new ml(e.longBylineText),this.endpoint=new Aq(e.navigationEndpoint),this.thumbnails=Lq.fromResponse(e.thumbnail),this.video_count=new ml(e.videoCountText)}};n(ps,"EndScreenPlaylist");Sd.exports=ps});var Pd=g((lP,Rd)=>{"use strict";var Cd=S(),gl=C(),Nq=ee(),Oq=U(),Uq=A(),ms=class{type="EndScreenVideo";constructor(e){this.id=e.videoId,this.title=new gl(e.title),this.thumbnails=Oq.fromResponse(e.thumbnail),this.thumbnail_overlays=Cd.parse(e.thumbnailOverlays),this.author=new Nq(e.shortBylineText,e.ownerBadges),this.endpoint=new Uq(e.navigationEndpoint),this.short_view_count_text=new gl(e.shortViewCountText),this.badges=Cd.parse(e.badges),this.duration={text:new gl(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(ms,"EndScreenVideo");Rd.exports=ms});var Ld=g((uP,kd)=>{"use strict";var Dq=S(),Bq=A(),gs=class{type="ExpandableTab";constructor(e){this.title=e.title,this.endpoint=new Bq(e.endpoint),this.selected=e.selected,this.content=e.content?Dq.parse(e.content):null}};n(gs,"ExpandableTab");kd.exports=gs});var Nd=g((hP,Ad)=>{"use strict";var Mq=S(),_s=class{type="ExpandedShelfContents";constructor(e){this.items=Mq.parse(e.items)}get contents(){return this.items}};n(_s,"ExpandedShelfContents");Ad.exports=_s});var Ud=g((dP,Od)=>{"use strict";var Vq=S(),ys=class{type="FeedFilterChipBar";constructor(e){this.contents=Vq.parse(e.contents)}};n(ys,"FeedFilterChipBar");Od.exports=ys});var Bd=g((pP,Dd)=>{"use strict";var Fq=C(),ws=class{constructor(e){this.title=new Fq(e.title)}};n(ws,"FeedTabbedHeader");Dd.exports=ws});var Vd=g((mP,Md)=>{"use strict";var Yq=S(),vs=class{type="Grid";constructor(e){this.items=Yq.parse(e.items),this.is_collapsible=e.isCollapsible,this.visible_row_count=e.visibleRowCount,this.target_id=e.targetId}get contents(){return this.items}};n(vs,"Grid");Md.exports=vs});var $d=g((gP,Yd)=>{"use strict";var $q=ee(),Gq=S(),Wq=A(),Fd=C(),xs=class{type="GridChannel";constructor(e){this.id=e.channelId,this.author=new $q({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new Fd(e.subscriberCountText),this.video_count=new Fd(e.videoCountText),this.endpoint=new Wq(e.navigationEndpoint),this.subscribe_button=Gq.parse(e.subscribeButton)}};n(xs,"GridChannel");Yd.exports=xs});var zd=g((_P,Hd)=>{"use strict";var _l=C(),Gd=S(),Wd=U(),Hq=pt(),zq=A(),Kq=gi(),bs=class{type="GridPlaylist";constructor(e){var t;this.id=e.playlistId,this.title=new _l(e.title),e.shortBylineText&&(this.author=new Hq(e.shortBylineText,e.ownerBadges)),this.badges=Gd.parse(e.ownerBadges),this.endpoint=new zq(e.navigationEndpoint),this.view_playlist=new Kq(e.viewPlaylistText),this.thumbnails=Wd.fromResponse(e.thumbnail),this.thumbnail_renderer=Gd.parse(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((t=e.sidebarThumbnails)==null?void 0:t.map(i=>Wd.fromResponse(i)))||[])||null,this.video_count=new _l(e.thumbnailText),this.video_count_short_text=new _l(e.videoCountShortText)}};n(bs,"GridPlaylist");Hd.exports=bs});var Qd=g((yP,Kd)=>{"use strict";var yl=S(),gt=C(),Qq=U(),Jq=A(),Xq=ee(),Ts=class{type="GridVideo";constructor(e){var i;let t=(i=e.thumbnailOverlays.find(a=>a.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new gt(e.title),this.thumbnails=Qq.fromResponse(e.thumbnail),this.thumbnail_overlays=yl.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&yl.parse(e.richThumbnail),this.published=new gt(e.publishedTimeText),this.duration=e.lengthText?new gt(e.lengthText):t!=null&&t.text?new gt(t.text):"",this.author=e.shortBylineText&&new Xq(e.shortBylineText,e.ownerBadges),this.views=new gt(e.viewCountText),this.short_view_count=new gt(e.shortViewCountText),this.endpoint=new Jq(e.navigationEndpoint),this.menu=yl.parse(e.menu)}};n(Ts,"GridVideo");Kd.exports=Ts});var wl=g((wP,Xd)=>{"use strict";var Zq=C(),Jd=A(),qs=class{type="SearchSuggestion";constructor(e){this.suggestion=new Zq(e.suggestion),this.endpoint=new Jd(e.navigationEndpoint),this.icon_type=e.icon.iconType,e.serviceEndpoint&&(this.service_endpoint=new Jd(e.serviceEndpoint))}};n(qs,"SearchSuggestion");Xd.exports=qs});var jd=g((vP,Zd)=>{"use strict";var jq=wl(),Es=class extends jq{type="HistorySuggestion";constructor(e){super(e)}};n(Es,"HistorySuggestion");Zd.exports=Es});var ep=g((xP,fd)=>{"use strict";var Ss=S(),Is=class{type="HorizontalCardList";constructor(e){this.cards=Ss.parse(e.cards),this.header=Ss.parse(e.header),this.previous_button=Ss.parse(e.previousButton),this.next_button=Ss.parse(e.nextButton)}};n(Is,"HorizontalCardList");fd.exports=Is});var np=g((bP,tp)=>{"use strict";var fq=S(),Cs=class{type="HorizontalList";constructor(e){this.visible_item_count=e.visibleItemCount,this.items=fq.parse(e.items)}get contents(){return this.items}};n(Cs,"HorizontalList");tp.exports=Cs});var rp=g((TP,sp)=>{"use strict";var ip=S(),Rs=class{type="ItemSection";constructor(e){this.header=ip.parse(e.header),this.contents=ip.parse(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=(e==null?void 0:e.target_id)||(e==null?void 0:e.sectionIdentifier))}};n(Rs,"ItemSection");sp.exports=Rs});var cp=g((qP,op)=>{"use strict";var eE=C(),Ps=class{constructor(e){this.title=new eE(e.title)}};n(Ps,"ItemSectionHeader");op.exports=Ps});var lp=g((EP,ap)=>{"use strict";var tE=A(),ks=class{type="LikeButton";constructor(e){var t;this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,e.serviceEndpoints&&(this.endpoints=(t=e.serviceEndpoints)==null?void 0:t.map(i=>new tE(i)))}};n(ks,"LikeButton");ap.exports=ks});var hp=g((SP,up)=>{"use strict";var nE=S(),cn=C(),Ls=class{type="LiveChat";constructor(e){var t,i;this.header=nE.parse(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.reloadContinuationData)==null?void 0:i.continuation,this.client_messages={reconnect_message:new cn(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new cn(e.clientMessages.unableToReconnectMessage),fatal_error:new cn(e.clientMessages.fatalError),reconnected_message:new cn(e.clientMessages.reconnectedMessage),generic_error:new cn(e.clientMessages.genericError)},this.is_replay=e.isReplay||!1}};n(Ls,"LiveChat");up.exports=Ls});var pp=g((IP,dp)=>{"use strict";var iE=S(),As=class{constructor(e){return iE.parse(e.bannerRenderer)}};n(As,"AddBannerToLiveChatCommand");dp.exports=As});var gp=g((CP,mp)=>{"use strict";var sE=S(),Ns=class{type="AddChatItemAction";constructor(e){this.item=sE.parse(e.item),this.client_id=e.clientId||null}};n(Ns,"AddChatItemAction");mp.exports=Ns});var yp=g((RP,_p)=>{"use strict";var rE=S(),Os=class{type="AddLiveChatTickerItemAction";constructor(e){this.item=rE.parse(e.item),this.duration_sec=e.durationSec}};n(Os,"AddLiveChatTickerItemAction");_p.exports=Os});var xp=g((PP,vp)=>{"use strict";var wp=S(),Us=class{type="LiveChatBanner";constructor(e){this.header=wp.parse(e.header,"livechat/items"),this.contents=wp.parse(e.contents,"livechat/items"),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(Us,"LiveChatBanner");vp.exports=Us});var Tp=g((kP,bp)=>{"use strict";var oE=S(),cE=C(),Ds=class{type="LiveChatBannerHeader";constructor(e){this.text=new cE(e.text).toString(),this.icon_type=e.icon.iconType,this.context_menu_button=oE.parse(e.contextMenuButton)}};n(Ds,"LiveChatBannerHeader");bp.exports=Ds});var Sp=g((LP,Ep)=>{"use strict";var aE=S(),qp=C(),lE=U(),Bs=class{type="LiveChatBannerPoll";constructor(e){this.poll_question=new qp(e.pollQuestion),this.author_photo=lE.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(t=>({option_id:t.pollOptionId,text:new qp(t.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=aE.parse(e.contextMenuButton)}};n(Bs,"LiveChatBannerPoll");Ep.exports=Bs});var Rp=g((AP,Cp)=>{"use strict";var uE=S(),Ip=C(),hE=U(),dE=A(),Ms=class{type="LiveChatMembershipItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new Ip(e.headerSubtext),this.author={id:e.authorExternalChannelId,name:new Ip(e==null?void 0:e.authorName),thumbnails:hE.fromResponse(e.authorPhoto),badges:uE.parse(e.authorBadges)},this.menu_endpoint=new dE(e.contextMenuEndpoint)}};n(Ms,"LiveChatMembershipItem");Cp.exports=Ms});var Lp=g((NP,kp)=>{"use strict";var Vs=C(),pE=U(),mE=A(),Pp=S(),Fs=class{type="LiveChatPaidMessage";constructor(e){this.message=new Vs(e.message),this.author={id:e.authorExternalChannelId,name:new Vs(e.authorName),thumbnails:pE.fromResponse(e.authorPhoto),badges:Pp.parse(e.authorBadges)};let t=Pp.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.purchase_amount=new Vs(e.purchaseAmountText).toString(),this.menu_endpoint=new mE(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new Vs(e.timestampText).toString(),this.id=e.id}};n(Fs,"LiveChatPaidMessage");kp.exports=Fs});var Up=g((OP,Op)=>{"use strict";var gE=S(),_E=A(),Ap=U(),Np=C(),Ys=class{type="LiveChatPaidSticker";constructor(e){this.id=e.id,this.author={id:e.authorExternalChannelId,name:new Np(e.authorName),thumbnails:Ap.fromResponse(e.authorPhoto),badges:gE.parse(e.authorBadges)},this.sticker=Ap.fromResponse(e.sticker),this.purchase_amount=new Np(e.purchaseAmountText).toString(),this.context_menu=new _E(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Ys,"LiveChatPaidSticker");Op.exports=Ys});var Bp=g((UP,Dp)=>{"use strict";var $s=class{type="LiveChatPlaceholderItem";constructor(e){this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n($s,"LiveChatPlaceholderItem");Dp.exports=$s});var vl=g((DP,Vp)=>{"use strict";var Mp=C(),yE=U(),wE=A(),vE=S(),Gs=class{type="LiveChatTextMessage";constructor(e){this.message=new Mp(e.message),this.author={id:e.authorExternalChannelId,name:new Mp(e.authorName),thumbnails:yE.fromResponse(e.authorPhoto)};let t=vE.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.menu_endpoint=new wE(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Gs,"LiveChatTextMessage");Vp.exports=Gs});var Yp=g((BP,Fp)=>{"use strict";var xE=C(),bE=U(),TE=A(),xl=S(),Ws=class{type="LiveChatTickerPaidMessageItem";constructor(e){this.author={id:e.authorExternalChannelId,thumbnails:bE.fromResponse(e.authorPhoto),badges:xl.parse(e.authorBadges)};let t=xl.parse(e.authorBadges);this.author.badges=t,this.author.is_moderator=(t==null?void 0:t.some(i=>i.icon_type=="MODERATOR"))||null,this.author.is_verified=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED"))||null,this.author.is_verified_artist=(t==null?void 0:t.some(i=>i.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST"))||null,this.amount=new xE(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=xl.parse(e.showItemEndpoint.showLiveChatItemEndpoint.renderer,"livechat/items"),this.show_item_endpoint=new TE(e.showItemEndpoint),this.id=e.id}};n(Ws,"LiveChatTickerPaidMessageItem");Fp.exports=Ws});var Wp=g((MP,Gp)=>{"use strict";var $p=C(),qE=U(),Hs=class{type="LiveChatTickerSponsorItem";constructor(e){this.id=e.id,this.detail_text=new $p(e.detailText).toString(),this.author={id:e.authorExternalChannelId,name:new $p(e==null?void 0:e.authorName),thumbnails:qE.fromResponse(e.sponsorPhoto)},this.duration_sec=e.durationSec}};n(Hs,"LiveChatTickerSponsorItem");Gp.exports=Hs});var zp=g((VP,Hp)=>{"use strict";var EE=vl(),SE=S(),zs=class extends EE{type="LiveChatViewerEngagementMessage";constructor(e){super(e),delete this.author,delete this.menu_endpoint,this.icon_type=e.icon.iconType,this.action_button=SE.parse(e.actionButton)}};n(zs,"LiveChatViewerEngagementMessage");Hp.exports=zs});var Jp=g((FP,Qp)=>{"use strict";var Kp=C(),IE=U(),CE=S(),Ks=class{type="PollHeader";constructor(e){this.poll_question=new Kp(e.pollQuestion),this.thumbnails=IE.fromResponse(e.thumbnail),this.metadata=new Kp(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=CE.parse(e.contextMenuButton)}};n(Ks,"PollHeader");Qp.exports=Ks});var Zp=g((YP,Xp)=>{"use strict";var RE=S(),Qs=class{type="LiveChatActionPanel";constructor(e){this.id=e.id,this.contents=RE.parse(e.contents),this.target_id=e.targetId}};n(Qs,"LiveChatActionPanel");Xp.exports=Qs});var fp=g(($P,jp)=>{"use strict";var PE=C(),Js=class{type="MarkChatItemAsDeletedAction";constructor(e){this.deleted_state_message=new PE(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Js,"MarkChatItemAsDeletedAction");jp.exports=Js});var tm=g((GP,em)=>{"use strict";var kE=C(),Xs=class{type="MarkChatItemsByAuthorAsDeletedAction";constructor(e){this.deleted_state_message=new kE(e.deletedStateMessage),this.channel_id=e.externalChannelId}};n(Xs,"MarkChatItemsByAuthorAsDeletedAction");em.exports=Xs});var im=g((WP,nm)=>{"use strict";var Zs=class{type="RemoveBannerForLiveChatCommand";constructor(e){this.target_action_id=e.targetActionId}};n(Zs,"RemoveBannerForLiveChatCommand");nm.exports=Zs});var rm=g((HP,sm)=>{"use strict";var LE=S(),js=class{constructor(e){this.target_item_id=e.targetItemId,this.replacement_item=LE.parse(e.replacementItem)}};n(js,"ReplaceChatItemAction");sm.exports=js});var cm=g((zP,om)=>{"use strict";var AE=S(),fs=class{type="ReplayChatItemAction";constructor(e){var t;this.actions=AE.parse((t=e.actions)==null?void 0:t.map(i=>(delete i.clickTrackingParams,i)))||[],this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(fs,"ReplayChatItemAction");om.exports=fs});var lm=g((KP,am)=>{"use strict";var NE=S(),er=class{type="ShowLiveChatActionPanelAction";constructor(e){this.panel_to_show=NE.parse(e.panelToShow)}};n(er,"ShowLiveChatActionPanelAction");am.exports=er});var hm=g((QP,um)=>{"use strict";var OE=S(),tr=class{type="ShowLiveChatTooltipCommand";constructor(e){this.tooltip=OE.parse(e.tooltip)}};n(tr,"ShowLiveChatTooltipCommand");um.exports=tr});var pm=g((JP,dm)=>{"use strict";var UE=C(),nr=class{type="UpdateDateTextAction";constructor(e){this.date_text=new UE(e.dateText).toString()}};n(nr,"UpdateDateTextAction");dm.exports=nr});var gm=g((XP,mm)=>{"use strict";var DE=C(),ir=class{type="UpdateDescriptionAction";constructor(e){this.description=new DE(e.description)}};n(ir,"UpdateDescriptionAction");mm.exports=ir});var ym=g((ZP,_m)=>{"use strict";var BE=S(),sr=class{type="UpdateLiveChatPollAction";constructor(e){this.poll_to_update=BE.parse(e.pollToUpdate)}};n(sr,"UpdateLiveChatPollAction");_m.exports=sr});var vm=g((jP,wm)=>{"use strict";var ME=C(),rr=class{type="UpdateTitleAction";constructor(e){this.title=new ME(e.title)}};n(rr,"UpdateTitleAction");wm.exports=rr});var Tm=g((fP,bm)=>{"use strict";var xm=C(),or=class{type="UpdateToggleButtonTextAction";constructor(e){this.default_text=new xm(e.defaultText).toString(),this.toggled_text=new xm(e.toggledText).toString(),this.button_id=e.buttonId}};n(or,"UpdateToggleButtonTextAction");bm.exports=or});var Sm=g((ek,Em)=>{"use strict";var qm=C(),cr=class{type="UpdateViewershipAction";constructor(e){let t=e.viewCount.videoViewCountRenderer;this.view_count=new qm(t.viewCount),this.extra_short_view_count=new qm(t.extraShortViewCount),this.is_live=t.isLive}};n(cr,"UpdateViewershipAction");Em.exports=cr});var bl=g((tk,Im)=>{"use strict";var ar=class{constructor(e){e.icon&&(this.icon_type=e.icon.iconType),e.style&&(this.style=e.style),this.tooltip=e.tooltip||e.iconTooltip||null}};n(ar,"MetadataBadge");Im.exports=ar});var Rm=g((nk,Cm)=>{"use strict";var VE=bl(),FE=U(),lr=class extends VE{constructor(e){super(e),this.custom_thumbnail=e.customThumbnail?FE.fromResponse(e.customThumbnail):null}};n(lr,"LiveChatAuthorBadge");Cm.exports=lr});var km=g((ik,Pm)=>{"use strict";var Tl=S(),ur=class{type="LiveChatHeader";constructor(e){this.overflow_menu=Tl.parse(e.overflowMenu),this.collapse_button=Tl.parse(e.collapseButton),this.view_selector=Tl.parse(e.viewSelector)}};n(ur,"LiveChatHeader");Pm.exports=ur});var Am=g((sk,Lm)=>{"use strict";var YE=S(),hr=class{type="LiveChatItemList";constructor(e){this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=YE.parse(e.moreCommentsBelowButton)}};n(hr,"LiveChatItemList");Lm.exports=hr});var Om=g((rk,Nm)=>{"use strict";var $E=C(),GE=S(),WE=U(),dr=class{constructor(e){this.author_name=new $E(e.authorName),this.author_photo=WE.fromResponse(e.authorPhoto),this.send_button=GE.parse(e.sendButton),this.target_id=e.targetId}};n(dr,"LiveChatMessageInput");Nm.exports=dr});var Dm=g((ok,Um)=>{"use strict";var HE=S(),zE=C(),KE=U(),pr=class{type="LiveChatParticipant";constructor(e){this.name=new zE(e.authorName),this.photo=KE.fromResponse(e.authorPhoto),this.badges=HE.parse(e.authorBadges)}};n(pr,"LiveChatParticipant");Um.exports=pr});var Mm=g((ck,Bm)=>{"use strict";var QE=S(),JE=C(),mr=class{type="LiveChatParticipantsList";constructor(e){this.title=new JE(e.title),this.participants=QE.parse(e.participants)}};n(mr,"LiveChatParticipantsList");Bm.exports=mr});var Ym=g((ak,Fm)=>{"use strict";var Vm=S(),gr=class{type="Menu";constructor(e){var t,i;this.items=Vm.parse(e.items)||[],this.top_level_buttons=Vm.parse(e.topLevelButtons)||[],this.label=((i=(t=e.accessibility)==null?void 0:t.accessibilityData)==null?void 0:i.label)||null}get contents(){return this.items}};n(gr,"Menu");Fm.exports=gr});var Gm=g((lk,$m)=>{"use strict";var XE=qi(),_r=class extends XE{type="MenuNavigationItem";constructor(e){super(e)}};n(_r,"MenuNavigationItem");$m.exports=_r});var Hm=g((uk,Wm)=>{"use strict";var ZE=qi(),yr=class extends ZE{type="MenuServiceItem";constructor(e){super(e)}};n(yr,"MenuServiceItem");Wm.exports=yr});var Km=g((hk,zm)=>{"use strict";var jE=A(),wr=class{type="MenuServiceItemDownload";constructor(e){this.has_separator=e.hasSeparator,this.endpoint=new jE(e.navigationEndpoint||e.serviceEndpoint)}};n(wr,"MenuServiceItemDownload");zm.exports=wr});var Xm=g((dk,Jm)=>{"use strict";var Qm=S(),vr=class{type="MultiPageMenu";constructor(e){this.header=Qm.parse(e.header),this.sections=Qm.parse(e.sections),this.style=e.style}};n(vr,"MultiPageMenu");Jm.exports=vr});var jm=g((pk,Zm)=>{"use strict";var fE=S(),xr=class{type="MultiPageMenuNotificationSection";constructor(e){this.items=fE.parse(e.items)}get contents(){return this.items}};n(xr,"MultiPageMenuNotificationSection");Zm.exports=xr});var eg=g((mk,fm)=>{"use strict";var eS=S(),tS=C(),br=class{type="SimpleMenuHeader";constructor(e){this.title=new tS(e.title),this.buttons=eS.parse(e.buttons)}};n(br,"SimpleMenuHeader");fm.exports=br});var ng=g((gk,tg)=>{"use strict";var nS=U(),iS=A(),Tr=class{type="MerchandiseItem";constructor(e){this.title=e.title,this.description=e.description,this.thumbnails=nS.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new iS(e.buttonCommand)}};n(Tr,"MerchandiseItem");tg.exports=Tr});var rg=g((_k,sg)=>{"use strict";var ig=S(),qr=class{type="MerchandiseShelf";constructor(e){this.title=e.title,this.menu=ig.parse(e.actionButton),this.items=ig.parse(e.items)}get contents(){return this.items}};n(qr,"MerchandiseShelf");sg.exports=qr});var cg=g((yk,og)=>{"use strict";var sS=C(),Er=class{type="Message";constructor(e){this.text=new sS(e.text).toString()}};n(Er,"Message");og.exports=Er});var ug=g((wk,lg)=>{"use strict";var ag=C(),Sr=class{type="MetadataRow";constructor(e){this.title=new ag(e.title),this.contents=e.contents.map(t=>new ag(t))}};n(Sr,"MetadataRow");lg.exports=Sr});var dg=g((vk,hg)=>{"use strict";var rS=S(),Ir=class{type="MetadataRowContainer";constructor(e){this.rows=rS.parse(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(Ir,"MetadataRowContainer");hg.exports=Ir});var mg=g((xk,pg)=>{"use strict";var oS=C(),Cr=class{type="MetadataRowHeader";constructor(e){this.content=new oS(e.content),this.has_divider_line=e.hasDividerLine}};n(Cr,"MetadataRowHeader");pg.exports=Cr});var _g=g((bk,gg)=>{"use strict";var cS=U(),Rr=class{type="MicroformatData";constructor(e){this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=e.thumbnail&&cS.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Rr,"MicroformatData");gg.exports=Rr});var wg=g((Tk,yg)=>{"use strict";var aS=on(),Pr=class extends aS{type="Mix";constructor(e){super(e)}};n(Pr,"Mix");yg.exports=Pr});var xg=g((qk,vg)=>{"use strict";var ql=S(),lS=ee(),uS=U(),hS=A(),dS=G(),et=C(),kr=class{type="Movie";constructor(e){var i,a,s;let t=((i=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new et(e.title),this.description_snippet=e.descriptionSnippet?new et(e.descriptionSnippet,""):null,this.top_metadata_items=new et(e.topMetadataItems),this.thumbnails=uS.fromResponse(e.thumbnail),this.thumbnail_overlays=ql.parse(e.thumbnailOverlays),this.author=new lS(e.longBylineText,e.ownerBadges,(s=(a=e.channelThumbnailSupportedRenderers)==null?void 0:a.channelThumbnailWithLinkRenderer)==null?void 0:s.thumbnail),this.duration={text:e.lengthText?new et(e.lengthText).text:new et(t).text,seconds:dS.timeToSeconds(e.lengthText?new et(e.lengthText).text:new et(t).text)},this.endpoint=new hS(e.navigationEndpoint),this.badges=ql.parse(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=ql.parse(e.menu)}};n(kr,"Movie");vg.exports=kr});var Tg=g((Ek,bg)=>{"use strict";var pS=U(),Lr=class{type="MovingThumbnail";constructor(e){var t;return(t=e.movingThumbnailDetails)==null?void 0:t.thumbnails.map(i=>new pS(i)).sort((i,a)=>a.width-i.width)}};n(Lr,"MovingThumbnail");bg.exports=Lr});var Sg=g((Sk,Eg)=>{"use strict";var qg=S(),Ar=class{type="MusicCarouselShelf";constructor(e){this.header=qg.parse(e.header),this.contents=qg.parse(e.contents),e.numItemsPerColumn&&(this.num_items_per_column=e.numItemsPerColumn)}};n(Ar,"MusicCarouselShelf");Eg.exports=Ar});var Rg=g((Ik,Cg)=>{"use strict";var Ig=C(),mS=U(),Nr=class{type="MusicCarouselShelfBasicHeader";constructor(e){e.strapline&&(this.strapline=new Ig(e.strapline).toString()),this.title=new Ig(e.title).toString(),e.thumbnail&&(this.thumbnail=mS.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail))}};n(Nr,"MusicCarouselShelfBasicHeader");Cg.exports=Nr});var Lg=g((Ck,kg)=>{"use strict";var Pg=C(),Or=class{type="MusicDescriptionShelf";constructor(e){this.description=new Pg(e.description),this.max_collapsed_lines&&(this.max_collapsed_lines=e.maxCollapsedLines),this.max_expanded_lines&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new Pg(e.footer)}};n(Or,"MusicDescriptionShelf");kg.exports=Or});var Og=g((Rk,Ng)=>{"use strict";var Ur=C(),gS=U(),Ag=S(),Dr=class{type="MusicDetailHeader";constructor(e){this.title=new Ur(e.title),this.description=new Ur(e.description),this.subtitle=new Ur(e.subtitle),this.second_subtitle=new Ur(e.secondSubtitle),this.year=this.subtitle.runs.find(i=>/^[12][0-9]{3}$/.test(i.text)).text,this.song_count=this.second_subtitle.runs[0].text,this.total_duration=this.second_subtitle.runs[2].text,this.thumbnails=gS.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=Ag.parse(e.subtitleBadges);let t=this.subtitle.runs.find(i=>{var a;return(a=i.endpoint.browse)==null?void 0:a.id.startsWith("UC")});t&&(this.author={name:t.text,channel_id:t.endpoint.browse.id,endpoint:t.endpoint}),this.menu=Ag.parse(e.menu)}};n(Dr,"MusicDetailHeader");Ng.exports=Dr});var Dg=g((Pk,Ug)=>{"use strict";var _S=S(),Br=class{type="MusicHeader";constructor(e){this.header=_S.parse(e.header)}};n(Br,"MusicHeader");Ug.exports=Br});var Vg=g((kk,Mg)=>{"use strict";var Bg=C(),yS=S(),Mr=class{type="MusicImmersiveHeader";constructor(e){this.title=new Bg(e.title),this.description=new Bg(e.description),this.thumbnails=yS.parse(e.thumbnail)}};n(Mr,"MusicImmersiveHeader");Mg.exports=Mr});var Yg=g((Lk,Fg)=>{"use strict";var Vr=class{type="MusicInlineBadge";constructor(e){this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Vr,"MusicInlineBadge");Fg.exports=Vr});var Gg=g((Ak,$g)=>{"use strict";var wS=S(),Fr=class{type="MusicItemThumbnailOverlay";constructor(e){this.content=wS.parse(e.content),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Fr,"MusicItemThumbnailOverlay");$g.exports=Fr});var Hg=g((Nk,Wg)=>{"use strict";var vS=C(),xS=A(),Yr=class{type="MusicNavigationButton";constructor(e){this.button_text=new vS(e.buttonText).toString(),this.endpoint=new xS(e.navigationEndpoint)}};n(Yr,"MusicNavigationButton");Wg.exports=Yr});var Kg=g((Ok,zg)=>{"use strict";var bS=A(),$r=class{type="MusicPlayButton";constructor(e){var t;this.endpoint=new bS(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,e.accessibilityPlayData&&(this.play_label=e.accessibilityPlayData.accessibilityData.label),e.accessibilityPlayData&&(this.pause_label=(t=e.accessibilityPauseData)==null?void 0:t.accessibilityData.label),this.icon_color=e.iconColor}};n($r,"MusicPlayButton");zg.exports=$r});var Jg=g((Uk,Qg)=>{"use strict";var TS=S(),an,Gr=class{constructor(e){ie(this,"type","MusicPlaylistShelf");q(this,an,void 0);this.playlist_id=e.playlistId,this.contents=TS.parse(e.contents),this.collapsed_item_count=e.collapsedItemCount,I(this,an,e.continuations)}get continuation(){var e,t;return(t=(e=l(this,an))==null?void 0:e[0])==null?void 0:t.nextContinuationData}};n(Gr,"MusicPlaylistShelf"),an=new WeakMap;Qg.exports=Gr});var Zg=g((Dk,Xg)=>{"use strict";var qS=S(),Wr=class{type="MusicQueue";constructor(e){this.content=qS.parse(e.content)}};n(Wr,"MusicQueue");Xg.exports=Wr});var o_=g((Bk,r_)=>{"use strict";var ln=S(),ES=C(),jg=G(),SS=U(),IS=A(),X,un,_t,zr,fg,Kr,e_,Qr,t_,Jr,n_,Xr,i_,Zr,s_,Hr=class{constructor(e){q(this,zr);q(this,Kr);q(this,Qr);q(this,Jr);q(this,Xr);q(this,Zr);q(this,X,void 0);q(this,un,void 0);q(this,_t,void 0);var t,i,a,s;switch(this.type=null,I(this,X,ln.parse(e.flexColumns)),I(this,un,ln.parse(e.fixedColumns)),I(this,_t,{video_id:((t=e==null?void 0:e.playlistItemData)==null?void 0:t.videoId)||null,playlist_set_video_id:((i=e==null?void 0:e.playlistItemData)==null?void 0:i.playlistSetVideoId)||null}),this.endpoint=e.navigationEndpoint&&new IS(e.navigationEndpoint)||null,(s=(a=this.endpoint)==null?void 0:a.browse)==null?void 0:s.page_type){case"MUSIC_PAGE_TYPE_ALBUM":this.type="album",N(this,Xr,i_).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",N(this,Zr,s_).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.type="artist",N(this,Jr,n_).call(this);break;default:N(this,zr,fg).call(this);break}e.index&&(this.index=new ES(e.index)),this.thumbnails=e.thumbnail?SS.fromResponse(e.thumbnail.musicThumbnailRenderer.thumbnail):[],this.badges=ln.parse(e.badges)||[],this.menu=ln.parse(e.menu),this.overlay=ln.parse(e.overlay)}};n(Hr,"MusicResponsiveListItem"),X=new WeakMap,un=new WeakMap,_t=new WeakMap,zr=new WeakSet,fg=n(function(){var t;((t=l(this,X)[1].title.runs)==null?void 0:t.some(i=>i.text.match(/(.*?) views/)))?(this.type="video",N(this,Qr,t_).call(this)):(this.type="song",N(this,Kr,e_).call(this))},"#parseVideoOrSong"),Kr=new WeakSet,e_=n(function(){var a,s,r,o,u,d,h,m;this.id=l(this,_t).video_id||((a=this.endpoint)==null?void 0:a.watch.video_id),this.title=l(this,X)[0].title.toString();let e=((r=(s=l(this,X)[1].title.runs)==null?void 0:s.find(w=>/^\d+$/.test(w.text.replace(/:/g,""))))==null?void 0:r.text)||((d=(u=(o=l(this,un))==null?void 0:o[0])==null?void 0:u.title)==null?void 0:d.text);e&&(this.duration={text:e,seconds:jg.timeToSeconds(e)});let t=(h=l(this,X)[1].title.runs)==null?void 0:h.find(w=>{var x;return(x=w.endpoint.browse)==null?void 0:x.id.startsWith("MPR")});t&&(this.album={id:t.endpoint.browse.id,name:t.text,endpoint:t.endpoint});let i=(m=l(this,X)[1].title.runs)==null?void 0:m.filter(w=>{var x;return(x=w.endpoint.browse)==null?void 0:x.id.startsWith("UC")});i&&(this.artists=i.map(w=>({name:w.text,channel_id:w.endpoint.browse.id,endpoint:w.endpoint})))},"#parseSong"),Qr=new WeakSet,t_=n(function(){var i,a;this.id=l(this,_t).video_id,this.title=l(this,X)[0].title.toString(),this.views=l(this,X)[1].title.runs.find(s=>s.text.match(/(.*?) views/)).text;let e=(i=l(this,X)[1].title.runs)==null?void 0:i.filter(s=>{var r;return(r=s.endpoint.browse)==null?void 0:r.id.startsWith("UC")});e&&(this.authors=e.map(s=>({name:s.text,channel_id:s.endpoint.browse.id,endpoint:s.endpoint})));let t=(a=l(this,X)[1].title.runs.find(s=>/^\d+$/.test(s.text.replace(/:/g,""))))==null?void 0:a.text;t&&(this.duration={text:t,seconds:jg.timeToSeconds(t)})},"#parseVideo"),Jr=new WeakSet,n_=n(function(){var e;this.id=this.endpoint.browse.id,this.name=l(this,X)[0].title.toString(),this.subscribers=((e=l(this,X)[1].title.runs[2])==null?void 0:e.text)||""},"#parseArtist"),Xr=new WeakSet,i_=n(function(){this.id=this.endpoint.browse.id,this.title=l(this,X)[0].title.toString();let e=l(this,X)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint}),this.year=l(this,X)[1].title.runs.find(t=>/^[12][0-9]{3}$/.test(t.text)).text},"#parseAlbum"),Zr=new WeakSet,s_=n(function(){this.id=this.endpoint.browse.id,this.title=l(this,X)[0].title.toString(),this.item_count=parseInt(l(this,X)[1].title.runs.find(t=>t.text.match(/\d+ (song|songs)/)).text.match(/\d+/g));let e=l(this,X)[1].title.runs.find(t=>{var i;return(i=t.endpoint.browse)==null?void 0:i.id.startsWith("UC")});e&&(this.author={name:e.text,channel_id:e.endpoint.browse.id,endpoint:e.endpoint})},"#parsePlaylist");r_.exports=Hr});var a_=g((Mk,c_)=>{"use strict";var CS=C(),jr=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new CS(e.text),this.display_priority=e.displayPriority}};n(jr,"MusicResponsiveListItemFixedColumn");c_.exports=jr});var u_=g((Vk,l_)=>{"use strict";var RS=C(),fr=class{type="musicResponsiveListItemFlexColumnRenderer";constructor(e){this.title=new RS(e.text),this.display_priority=e.displayPriority}};n(fr,"MusicResponsiveListItemFlexColumn");l_.exports=fr});var p_=g((Fk,d_)=>{"use strict";var PS=S(),h_=C(),kS=A(),eo=class{type="MusicShelf";constructor(e){var t;this.title=new h_(e.title).toString(),this.contents=PS.parse(e.contents),e.bottomEndpoint&&(this.endpoint=new kS(e.bottomEndpoint)),e.continuations&&(this.continuation=(t=e.continuations)==null?void 0:t[0].nextContinuationData.continuation),e.bottomText&&(this.bottom_text=new h_(e.bottomText))}};n(eo,"MusicShelf");d_.exports=eo});var g_=g((Yk,m_)=>{"use strict";var LS=U(),to=class{type="MusicThumbnail";constructor(e){return LS.fromResponse(e.thumbnail)}};n(to,"MusicThumbnail");m_.exports=to});var w_=g(($k,y_)=>{"use strict";var El=S(),__=C(),AS=U(),NS=A(),no=class{type="MusicTwoRowItem";constructor(e){var t,i,a;switch(this.title=new __(e.title),this.endpoint=new NS(e.navigationEndpoint),this.id=((t=this.endpoint.browse)==null?void 0:t.id)||this.endpoint.watch.video_id,this.subtitle=new __(e.subtitle),this.badges=El.parse(e.subtitleBadges),(i=this.endpoint.browse)==null?void 0:i.page_type){case"MUSIC_PAGE_TYPE_ARTIST":this.type="artist",this.subscribers=this.subtitle.toString();break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.type="playlist",this.item_count=parseInt((a=this.subtitle.runs.find(r=>r.text.match(/\d+ (songs|song)/)))==null?void 0:a.text.match(/\d+/g))||null;break;case"MUSIC_PAGE_TYPE_ALBUM":this.type="album";let s=this.subtitle.runs.filter(r=>{var o;return(o=r.endpoint.browse)==null?void 0:o.id.startsWith("UC")});s&&(this.artists=s.map(r=>({name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint}))),this.year=this.subtitle.runs.slice(-1)[0].text,isNaN(this.year)&&delete this.year;break;default:if(this.subtitle.runs[0].text!=="Song"?this.type="video":this.type="song",this.type=="video"){this.views=this.subtitle.runs.find(o=>o.text.match(/(.*?) views/)).text;let r=this.subtitle.runs.find(o=>{var u;return(u=o.endpoint.browse)==null?void 0:u.id.startsWith("UC")});r&&(this.author={name:r.text,channel_id:r.endpoint.browse.id,endpoint:r.endpoint})}else{let r=this.subtitle.runs.filter(o=>{var u;return(u=o.endpoint.browse)==null?void 0:u.id.startsWith("UC")});r&&(this.artists=r.map(o=>({name:o.text,channel_id:o.endpoint.browse.id,endpoint:o.endpoint})))}break}this.thumbnail=AS.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=El.parse(e.thumbnailOverlay),this.menu=El.parse(e.menu)}};n(no,"MusicTwoRowItem");y_.exports=no});var q_=g((Gk,T_)=>{"use strict";var OS=S(),v_=C(),x_=U(),b_=A(),io=class{type="Notification";constructor(e){this.thumbnails=x_.fromResponse(e.thumbnail),this.video_thumbnails=x_.fromResponse(e.videoThumbnail),this.short_message=new v_(e.shortMessage),this.sent_time=new v_(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new b_(e.navigationEndpoint),this.record_click_endpoint=new b_(e.recordClickEndpoint),this.menu=OS.parse(e.contextualMenu),this.read=e.read}};n(io,"Notification");T_.exports=io});var S_=g((Wk,E_)=>{"use strict";var US=S(),DS=U(),BS=A(),so=class{type="PlayerAnnotationsExpanded";constructor(e){this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:DS.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new BS(e.featuredChannel.navigationEndpoint),subscribe_button:US.parse(e.featuredChannel.subscribeButton)},this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(so,"PlayerAnnotationsExpanded");E_.exports=so});var R_=g((Hk,C_)=>{"use strict";var I_=C(),ro=class{type="PlayerCaptionsTracklist";constructor(e){this.caption_tracks=e.captionTracks.map(t=>({base_url:t.baseUrl,name:new I_(t.name),vss_id:t.vssId,language_code:t.languageCode,kind:t.kind,is_translatable:t.isTranslatable})),this.audio_tracks=e.audioTracks.map(t=>({caption_track_indices:t.captionTrackIndices})),this.translation_languages=e.translationLanguages.map(t=>({language_code:t.languageCode,language_name:new I_(t.languageName)}))}};n(ro,"PlayerCaptionsTracklist");C_.exports=ro});var L_=g((zk,k_)=>{"use strict";var MS=S(),P_=C(),VS=U(),oo=class{type="PlayerErrorMessage";constructor(e){this.subreason=new P_(e.subreason),this.reason=new P_(e.reason),this.proceed_button=MS.parse(e.proceedButton),this.thumbnails=VS.fromResponse(e.thumbnail),this.icon_type=e.icon.iconType}};n(oo,"PlayerErrorMessage");k_.exports=oo});var N_=g((Kk,A_)=>{"use strict";var co=class{type="PlayerLiveStoryboardSpec";constructor(){}};n(co,"PlayerLiveStoryboardSpec");A_.exports=co});var D_=g((Qk,U_)=>{"use strict";var O_=C(),FS=U(),ao=class{type="PlayerMicroformat";constructor(e){this.title=new O_(e.title),this.description=new O_(e.description),this.thumbnails=FS.fromResponse(e.thumbnail),this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height},this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=e.isFamilySafe,this.is_unlisted=e.isUnlisted,this.has_ypc_metadata=e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries}};n(ao,"PlayerMicroformat");U_.exports=ao});var M_=g((Jk,B_)=>{"use strict";var hn=S(),lo=class{type="PlayerOverlay";constructor(e){this.end_screen=hn.parse(e.endScreen),this.autoplay=hn.parse(e.autoplay),this.share_button=hn.parse(e.shareButton),this.add_to_menu=hn.parse(e.addToMenu),this.fullscreen_engagement=hn.parse(e.fullscreenEngagement)}};n(lo,"PlayerOverlay");B_.exports=lo});var F_=g((Xk,V_)=>{"use strict";var uo=S(),ho=C(),YS=ee(),$S=U(),po=class{type="PlayerOverlayAutoplay";constructor(e){this.title=new ho(e.title),this.video_id=e.videoId,this.video_title=new ho(e.videoTitle),this.short_view_count=new ho(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new ho(e.publishedTimeText),this.background=$S.fromResponse(e.background),this.thumbnail_overlays=uo.parse(e.thumbnailOverlays),this.author=new YS(e.byline),this.cancel_button=uo.parse(e.cancelButton),this.next_button=uo.parse(e.nextButton),this.close_button=uo.parse(e.closeButton)}};n(po,"PlayerOverlayAutoplay");V_.exports=po});var $_=g((Zk,Y_)=>{"use strict";var mo=class{type="PlayerStoryboardSpec";constructor(e){let t=e.spec.split("|"),i=new URL(t.shift());this.boards=t.map((a,s)=>{let[r,o,u,d,h,m,w,x]=a.split("#");i.searchParams.set("sigh",x),u=parseInt(u,10),d=parseInt(d,10),h=parseInt(h,10);let y=Math.ceil(u/(d*h));return{template_url:i.toString().replace("$L",s).replace("$N",w),thumbnail_width:parseInt(r,10),thumbnail_height:parseInt(o,10),thumbnail_count:u,interval:parseInt(m,10),columns:d,rows:h,storyboard_count:y}})}};n(mo,"PlayerStoryboardSpec");Y_.exports=mo});var W_=g((jk,G_)=>{"use strict";var yt=C(),GS=pt(),Sl=S(),go=class{type="PlaylistHeader";constructor(e){this.id=e.playlistId,this.title=new yt(e.title),this.stats=e.stats.map(t=>new yt(t)),this.brief_stats=e.briefStats.map(t=>new yt(t)),this.author=new GS({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null),this.description=new yt(e.descriptionText),this.num_videos=new yt(e.numVideosText),this.view_count=new yt(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=Sl.parse(e.saveButton),this.shuffle_play_button=Sl.parse(e.shufflePlayButton),this.menu=Sl.parse(e.moreActionsMenu)}};n(go,"PlaylistHeader");G_.exports=go});var z_=g((fk,H_)=>{"use strict";var Il=C(),WS=U(),HS=A(),_o=class{type="PlaylistInfoCardContent";constructor(e){this.title=new Il(e.playlistTitle),this.thumbnails=WS.fromResponse(e.thumbnail),this.video_count=new Il(e.playlistVideoCount),this.channel_name=new Il(e.channelName),this.endpoint=new HS(e.action)}};n(_o,"PlaylistInfoCardContent");H_.exports=_o});var Q_=g((eL,K_)=>{"use strict";var yo=class{type="PlaylistMetadata";constructor(e){this.title=e.title,this.description=e.description||null}};n(yo,"PlaylistMetadata");K_.exports=yo});var X_=g((tL,J_)=>{"use strict";var zS=S(),KS=C(),wo=class{type="PlaylistPanel";constructor(e){var t,i;this.title=e.title,this.title_text=new KS(e.titleText),this.contents=zS.parse(e.contents),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=(i=(t=e.continuations[0])==null?void 0:t.nextRadioContinuationData)==null?void 0:i.continuation,this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(wo,"PlaylistPanel");J_.exports=wo});var f_=g((nL,j_)=>{"use strict";var Z_=S(),tt=C(),QS=U(),JS=A(),XS=G(),vo=class{type="PlaylistPanelVideo";constructor(e){this.title=new tt(e.title),this.thumbnail=QS.fromResponse(e.thumbnail),this.endpoint=new JS(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new tt(e.lengthText).toString(),seconds:XS.timeToSeconds(new tt(e.lengthText).toString())};let t=new tt(e.longBylineText).runs.find(a=>{var s;return(s=a.endpoint.browse)==null?void 0:s.id.startsWith("MPR")}),i=new tt(e.longBylineText).runs.filter(a=>{var s;return(s=a.endpoint.browse)==null?void 0:s.id.startsWith("UC")});this.author=new tt(e.shortBylineText).toString(),t&&(this.album={id:t.endpoint.browse.id,name:t.text,year:new tt(e.longBylineText).runs.slice(-1)[0].text,endpoint:t.endpoint}),this.artists=i.map(a=>({name:a.text,channel_id:a.endpoint.browse.id,endpoint:a.endpoint})),this.badges=Z_.parse(e.badges),this.menu=Z_.parse(e.menu),this.set_video_id=e.playlistSetVideoId}};n(vo,"PlaylistPanelVideo");j_.exports=vo});var ty=g((iL,ey)=>{"use strict";var ZS=S(),xo=class{type="PlaylistSidebar";constructor(e){this.items=ZS.parse(e.items)}get contents(){return this.items}};n(xo,"PlaylistSidebar");ey.exports=xo});var sy=g((sL,iy)=>{"use strict";var ny=S(),jS=A(),Cl=C(),bo=class{type="PlaylistSidebarPrimaryInfo";constructor(e){this.stats=e.stats.map(t=>new Cl(t)),this.thumbnail_renderer=ny.parse(e.thumbnailRenderer),this.title=new Cl(e.title),this.menu=e.menu&&ny.parse(e.menu),this.endpoint=new jS(e.navigationEndpoint),this.description=new Cl(e.description)}};n(bo,"PlaylistSidebarPrimaryInfo");iy.exports=bo});var cy=g((rL,oy)=>{"use strict";var ry=S(),To=class{type="PlaylistSidebarSecondaryInfo";constructor(e){this.owner=ry.parse(e.videoOwner)||null,this.button=ry.parse(e.button)||null}};n(To,"PlaylistSidebarSecondaryInfo");oy.exports=To});var uy=g((oL,ly)=>{"use strict";var Rl=C(),ay=S(),fS=U(),eI=pt(),tI=A(),qo=class{type="PlaylistVideo";constructor(e){this.id=e.videoId,this.index=new Rl(e.index),this.title=new Rl(e.title),this.author=new eI(e.shortBylineText),this.thumbnails=fS.fromResponse(e.thumbnail),this.thumbnail_overlays=ay.parse(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new tI(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=ay.parse(e.menu),this.duration={text:new Rl(e.lengthText).text,seconds:parseInt(e.lengthSeconds)}}};n(qo,"PlaylistVideo");ly.exports=qo});var dy=g((cL,hy)=>{"use strict";var nI=S(),Eo=class{type="PlaylistVideoList";constructor(e){this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=nI.parse(e.contents)}};n(Eo,"PlaylistVideoList");hy.exports=Eo});var my=g((aL,py)=>{"use strict";var iI=U(),So=class{type="PlaylistVideoThumbnail";constructor(e){this.thumbnail=iI.fromResponse(e.thumbnail)}};n(So,"PlaylistVideoThumbnail");py.exports=So});var yy=g((lL,_y)=>{"use strict";var Io=C(),sI=U(),gy=A(),Co=class{type="Poll";constructor(e){this.choices=e.choices.map(t=>({text:new Io(t.text).toString(),select_endpoint:t.selectServiceEndpoint?new gy(t.selectServiceEndpoint):null,deselect_endpoint:t.deselectServiceEndpoint?new gy(t.deselectServiceEndpoint):null,vote_ratio_if_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_selected:new Io(t.votePercentageIfSelected),vote_ratio_if_not_selected:(t==null?void 0:t.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new Io(t.votePercentageIfSelected),image:t.image?sI.fromResponse(t.image):null})),e.type&&(this.poll_type=e.type),e.totalVotes&&(this.total_votes=new Io(e.totalVotes)),e.liveChatPollId&&(this.live_chat_poll_id=e.liveChatPollId)}};n(Co,"Poll");_y.exports=Co});var vy=g((uL,wy)=>{"use strict";var rI=fa(),Ro=class extends rI{type="Post";constructor(e){super(e)}};n(Ro,"Post");wy.exports=Ro});var by=g((hL,xy)=>{"use strict";var oI=S(),Po=class{type="ProfileColumn";constructor(e){this.items=oI.parse(e.items)}get contents(){return this.items}};n(Po,"ProfileColumn");xy.exports=Po});var qy=g((dL,Ty)=>{"use strict";var cI=S(),ko=class{type="ProfileColumnStats";constructor(e){this.items=cI.parse(e.items)}get contents(){return this.items}};n(ko,"ProfileColumnStats");Ty.exports=ko});var Iy=g((pL,Sy)=>{"use strict";var Ey=C(),Lo=class{type="ProfileColumnStatsEntry";constructor(e){this.label=new Ey(e.label),this.value=new Ey(e.value)}};n(Lo,"ProfileColumnStatsEntry");Sy.exports=Lo});var Ry=g((mL,Cy)=>{"use strict";var aI=C(),lI=U(),Ao=class{type="ProfileColumnUserInfo";constructor(e){this.title=new aI(e.title),this.thumbnails=lI.fromResponse(e.thumbnail)}};n(Ao,"ProfileColumnUserInfo");Cy.exports=Ao});var Ly=g((gL,ky)=>{"use strict";var uI=A(),Py=C(),hI=U(),No=class{type="ReelItem";constructor(e){this.id=e.videoId,this.title=new Py(e.headline,""),this.thumbnails=hI.fromResponse(e.thumbnail),this.views=new Py(e.viewCountText,""),this.endpoint=new uI(e.navigationEndpoint)}};n(No,"ReelItem");ky.exports=No});var Ny=g((_L,Ay)=>{"use strict";var dI=S(),pI=A(),mI=C(),Oo=class{type="ReelShelf";constructor(e){this.title=new mI(e.title),this.items=dI.parse(e.items),this.endpoint=e.endpoint?new pI(e.endpoint):null}get contents(){return this.items}};n(Oo,"ReelShelf");Ay.exports=Oo});var Uy=g((yL,Oy)=>{"use strict";var gI=S(),Uo=class{type="RelatedChipCloud";constructor(e){this.content=gI.parse(e.content)}};n(Uo,"RelatedChipCloud");Oy.exports=Uo});var My=g((wL,By)=>{"use strict";var Dy=S(),Do=class{type="RichGrid";constructor(e){this.header=Dy.parse(e.header),this.contents=Dy.parse(e.contents)}};n(Do,"RichGrid");By.exports=Do});var Fy=g((vL,Vy)=>{"use strict";var _I=S(),Bo=class{type="RichItem";constructor(e){return _I.parse(e.content)}};n(Bo,"RichItem");Vy.exports=Bo});var $y=g((xL,Yy)=>{"use strict";var yI=C(),Mo=class{constructor(e){this.title=new yI(e.title),this.icon_type=e.icon.iconType}};n(Mo,"RichListHeader");Yy.exports=Mo});var Wy=g((bL,Gy)=>{"use strict";var wI=S(),Vo=class{type="RichSection";constructor(e){this.contents=wI.parse(e.content)}};n(Vo,"RichSection");Gy.exports=Vo});var zy=g((TL,Hy)=>{"use strict";var vI=S(),xI=A(),bI=C(),Fo=class{type="RichShelf";constructor(e){this.title=new bI(e.title),this.contents=vI.parse(e.contents),this.endpoint=e.endpoint?new xI(e.endpoint):null}};n(Fo,"RichShelf");Hy.exports=Fo});var Jy=g((qL,Qy)=>{"use strict";var Ky=S(),TI=C(),qI=A(),Yo=class{type="SearchBox";constructor(e){this.endpoint=new qI(e.endpoint),this.search_button=Ky.parse(e.searchButton),this.clear_button=Ky.parse(e.clearButton),this.placeholder_text=new TI(e.placeholderText)}};n(Yo,"SearchBox");Qy.exports=Yo});var Zy=g((EL,Xy)=>{"use strict";var EI=A(),SI=U(),II=C(),$o=class{type="SearchRefinementCard";constructor(e){this.thumbnails=SI.fromResponse(e.thumbnail),this.endpoint=new EI(e.searchEndpoint),this.query=new II(e.query).toString()}};n($o,"SearchRefinementCard");Xy.exports=$o});var fy=g((SL,jy)=>{"use strict";var CI=S(),Go=class{type="SearchSuggestionsSection";constructor(e){this.contents=CI.parse(e.contents)}};n(Go,"SearchSuggestionsSection");jy.exports=Go});var tw=g((IL,ew)=>{"use strict";var RI=S(),Wo=class{type="SecondarySearchContainer";constructor(e){this.contents=RI.parse(e.contents)}};n(Wo,"SecondarySearchContainer");ew.exports=Wo});var sw=g((CL,iw)=>{"use strict";var nw=S(),Ho=class{type="SectionList";constructor(e){e.targetId&&(this.target_id=e.targetId),this.contents=nw.parse(e.contents),e.continuations&&(e.continuations[0].nextContinuationData?this.continuation=e.continuations[0].nextContinuationData.continuation:e.continuations[0].reloadContinuationData&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),e.header&&(this.header=nw.parse(e.header))}};n(Ho,"SectionList");iw.exports=Ho});var cw=g((RL,ow)=>{"use strict";var PI=C(),rw=S(),kI=A(),zo=class{type="Shelf";constructor(e){var t,i;this.title=new PI(e.title),e.endpoint&&(this.endpoint=new kI(e.endpoint)),this.content=rw.parse(e.content)||[],(t=e.icon)!=null&&t.iconType&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),e.menu&&(this.menu=rw.parse(e.menu))}};n(zo,"Shelf");ow.exports=zo});var uw=g((PL,lw)=>{"use strict";var LI=C(),aw=A(),Ko=class{type="ShowingResultsFor";constructor(e){this.corrected_query=new LI(e.correctedQuery),this.endpoint=new aw(e.correctedQueryEndpoint),this.original_query_endpoint=new aw(e.originalQueryEndpoint)}};n(Ko,"ShowingResultsFor");lw.exports=Ko});var dw=g((kL,hw)=>{"use strict";var AI=C(),Qo=class{type="SimpleCardTeaser";constructor(e){this.message=new AI(e.message),this.prominent=e.prominent}};n(Qo,"SimpleCardTeaser");hw.exports=Qo});var mw=g((LL,pw)=>{"use strict";var Pl=C(),NI=A(),Jo=class{type="SingleActionEmergencySupport";constructor(e){this.action_text=new Pl(e.actionText),this.nav_text=new Pl(e.navigationText),this.details=new Pl(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new NI(e.navigationEndpoint)}};n(Jo,"SingleActionEmergencySupport");pw.exports=Jo});var _w=g((AL,gw)=>{"use strict";var OI=S(),Xo=class{type="SingleColumnBrowseResults";constructor(e){this.tabs=OI.parse(e.tabs)}};n(Xo,"SingleColumnBrowseResults");gw.exports=Xo});var ww=g((NL,yw)=>{"use strict";var UI=S(),Zo=class{type="SingleColumnMusicWatchNextResults";constructor(e){return UI.parse(e)}};n(Zo,"SingleColumnMusicWatchNextResults");yw.exports=Zo});var xw=g((OL,vw)=>{"use strict";var DI=U(),jo=class{type="SingleHeroImage";constructor(e){this.thumbnails=new DI(e.thumbnail).thumbnails,this.style=e.style}};n(jo,"SingleHeroImage");vw.exports=jo});var Tw=g((UL,bw)=>{"use strict";var{observe:BI}=G(),fo=class{type="SortFilterSubMenu";constructor(e){this.sub_menu_items=BI(e.subMenuItems.map(t=>{var i;return{title:t.title,selected:t.selected,continuation:(i=t.continuation)==null?void 0:i.reloadContinuationData.continuation,subtitle:t.subtitle}})),this.label=e.accessibility.accessibilityData.label}};n(fo,"SortFilterSubMenu");bw.exports=fo});var Ew=g((DL,qw)=>{"use strict";var MI=C(),VI=A(),ec=class{type="SubFeedOption";constructor(e){this.name=new MI(e.name),this.is_selected=e.isSelected,this.endpoint=new VI(e.navigationEndpoint)}};n(ec,"SubFeedOption");qw.exports=ec});var Iw=g((BL,Sw)=>{"use strict";var FI=S(),YI=C(),tc=class{type="SubFeedSelector";constructor(e){this.title=new YI(e.title),this.options=FI.parse(e.options)}};n(tc,"SubFeedSelector");Sw.exports=tc});var Rw=g((ML,Cw)=>{"use strict";var $I=S(),kl=C(),GI=A(),nc=class{type="SubscribeButton";constructor(e){var t,i;this.title=new kl(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new kl(e.subscribedButtonText),this.unsubscribed_text=new kl(e.unsubscribedButtonText),this.notification_preference_button=$I.parse(e.notificationPreferenceButton),this.endpoint=new GI(((t=e.serviceEndpoints)==null?void 0:t[0])||((i=e.onSubscribeEndpoints)==null?void 0:i[0]))}};n(nc,"SubscribeButton");Cw.exports=nc});var kw=g((VL,Pw)=>{"use strict";var WI=S(),ic=class{type="SubscriptionNotificationToggleButton";constructor(e){this.states=e.states.map(t=>({id:t.stateId,next_id:t.nextStateId,state:WI.parse(t.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(ic,"SubscriptionNotificationToggleButton");Pw.exports=ic});var Aw=g((FL,Lw)=>{"use strict";var HI=S(),zI=A(),sc=class{type="Tab";constructor(e){this.title=e.title||"N/A",this.selected=e.selected||!1,this.endpoint=new zI(e.endpoint),this.content=HI.parse(e.content)}};n(sc,"Tab");Lw.exports=sc});var Ow=g((YL,Nw)=>{"use strict";var KI=S(),rc=class{type="Tabbed";constructor(e){return KI.parse(e)}};n(rc,"Tabbed");Nw.exports=rc});var Dw=g(($L,Uw)=>{"use strict";var QI=S(),oc=class{type="TabbedSearchResults";constructor(e){this.tabs=QI.parse(e.tabs)}};n(oc,"TabbedSearchResults");Uw.exports=oc});var Mw=g((GL,Bw)=>{"use strict";var JI=C(),cc=class{type="TextHeader";constructor(e){this.title=new JI(e.title),this.style=e.style}};n(cc,"TextHeader");Bw.exports=cc});var Fw=g((WL,Vw)=>{"use strict";var ac=class{type="ThumbnailOverlayBottomPanel";constructor(e){this.type=e.icon.iconType}};n(ac,"ThumbnailOverlayBottomPanel");Vw.exports=ac});var $w=g((HL,Yw)=>{"use strict";var XI=C(),lc=class{type="ThumbnailOverlayEndorsement";constructor(e){this.text=new XI(e.text).toString()}};n(lc,"ThumbnailOverlayEndorsement");Yw.exports=lc});var Ww=g((zL,Gw)=>{"use strict";var ZI=C(),uc=class{type="ThumbnailOverlayHoverText";constructor(e){this.text=new ZI(e.text),this.type=e.icon.iconType}};n(uc,"ThumbnailOverlayHoverText");Gw.exports=uc});var zw=g((KL,Hw)=>{"use strict";var jI=C(),hc=class{type="ThumbnailOverlayInlineUnplayable";constructor(e){this.text=new jI(e.text).toString(),this.icon_type=e.icon.iconType}};n(hc,"ThumbnailOverlayInlineUnplayable");Hw.exports=hc});var Qw=g((QL,Kw)=>{"use strict";var fI=C(),dc=class{type="ThumbnailOverlayLoadingPreview";constructor(e){this.text=new fI(e.text)}};n(dc,"ThumbnailOverlayLoadingPreview");Kw.exports=dc});var Xw=g((JL,Jw)=>{"use strict";var eC=C(),pc=class{type="ThumbnailOverlayNowPlaying";constructor(e){this.text=new eC(e.text).text}};n(pc,"ThumbnailOverlayNowPlaying");Jw.exports=pc});var jw=g((XL,Zw)=>{"use strict";var mc=class{type="ThumbnailOverlayPinking";constructor(e){this.hack=e.hack}};n(mc,"ThumbnailOverlayPinking");Zw.exports=mc});var ev=g((ZL,fw)=>{"use strict";var tC=C(),gc=class{type="ThumbnailOverlayPlaybackStatus";constructor(e){this.text=e.texts.map(t=>new tC(t))[0].toString()}};n(gc,"ThumbnailOverlayPlaybackStatus");fw.exports=gc});var nv=g((jL,tv)=>{"use strict";var _c=class{type="ThumbnailOverlayResumePlayback";constructor(e){this.percent_duration_watched=e.percentDurationWatched}};n(_c,"ThumbnailOverlayResumePlayback");tv.exports=_c});var sv=g((fL,iv)=>{"use strict";var nC=C(),yc=class{type="ThumbnailOverlaySidePanel";constructor(e){this.text=new nC(e.text),this.type=e.icon.iconType}};n(yc,"ThumbnailOverlaySidePanel");iv.exports=yc});var ov=g((eA,rv)=>{"use strict";var iC=C(),wc=class{type="ThumbnailOverlayTimeStatus";constructor(e){this.text=new iC(e.text).text}};n(wc,"ThumbnailOverlayTimeStatus");rv.exports=wc});var lv=g((tA,av)=>{"use strict";var cv=A(),vc=class{type="ThumbnailOverlayToggleButton";constructor(e){this.is_toggled=e.isToggled||null,this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new cv(e.toggledServiceEndpoint),this.untoggled_endpoint=new cv(e.untoggledServiceEndpoint)}};n(vc,"ThumbnailOverlayToggleButton");av.exports=vc});var hv=g((nA,uv)=>{"use strict";var Ll=C(),Al=A(),xc=class{type="ToggleButton";constructor(e){var i,a,s,r,o,u,d,h;this.text=new Ll(e.defaultText),this.toggled_text=new Ll(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=e.defaultIcon.iconType;let t=((a=(i=e==null?void 0:e.defaultText)==null?void 0:i.accessibility)==null?void 0:a.accessibilityData.label)||((s=e==null?void 0:e.accessibilityData)==null?void 0:s.accessibilityData.label)||((r=e==null?void 0:e.accessibility)==null?void 0:r.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(t.replace(/\D/g,"")),this.short_like_count=new Ll(e.defaultText).toString()),this.endpoint=((u=(o=e.defaultServiceEndpoint)==null?void 0:o.commandExecutorCommand)==null?void 0:u.commands)&&new Al(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop())||new Al(e.defaultServiceEndpoint),this.toggled_endpoint=new Al(e.toggledServiceEndpoint),this.button_id=((h=(d=e.toggleButtonSupportedData)==null?void 0:d.toggleButtonIdData)==null?void 0:h.id)||null,this.target_id=e.targetId||null}};n(xc,"ToggleButton");uv.exports=xc});var mv=g((iA,pv)=>{"use strict";var dv=C(),sC=A(),bc=class{type="ToggleMenuServiceItem";constructor(e){this.text=new dv(e.defaultText),this.toggled_text=new dv(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.endpoint=new sC(e.toggledServiceEndpoint)}};n(bc,"ToggleMenuServiceItem");pv.exports=bc});var _v=g((sA,gv)=>{"use strict";var rC=C(),Nl=A(),Tc=class{type="Tooltip";constructor(e){this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(t=>new Nl(t)),accept:new Nl(e.promoConfig.acceptCommand),dismiss:new Nl(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new rC(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(Tc,"Tooltip");gv.exports=Tc});var Ol=g((rA,wv)=>{"use strict";var yv=S(),qc=class{type="TwoColumnBrowseResults";constructor(e){this.tabs=yv.parse(e.tabs),this.secondary_contents=yv.parse(e.secondaryContents)}};n(qc,"TwoColumnBrowseResults");wv.exports=qc});var bv=g((oA,xv)=>{"use strict";var vv=S(),Ec=class{type="TwoColumnSearchResults";constructor(e){this.primary_contents=vv.parse(e.primaryContents),this.secondary_contents=vv.parse(e.secondaryContents)}};n(Ec,"TwoColumnSearchResults");xv.exports=Ec});var qv=g((cA,Tv)=>{"use strict";var Ul=S(),Sc=class{type="TwoColumnWatchNextResults";constructor(e){var t,i;this.results=Ul.parse((t=e.results)==null?void 0:t.results.contents),this.secondary_results=Ul.parse((i=e.secondaryResults)==null?void 0:i.secondaryResults.results),this.conversation_bar=Ul.parse(e==null?void 0:e.conversationBar)}};n(Sc,"TwoColumnWatchNextResults");Tv.exports=Sc});var Sv=g((aA,Ev)=>{"use strict";var Dl=S(),Ic=class{type="UniversalWatchCard";constructor(e){this.header=Dl.parse(e.header),this.call_to_action=Dl.parse(e.callToAction),this.sections=Dl.parse(e.sections)}};n(Ic,"UniversalWatchCard");Ev.exports=Ic});var Cv=g((lA,Iv)=>{"use strict";var oC=S(),cC=C(),Cc=class{type="VerticalList";constructor(e){this.items=oC.parse(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new cC(e.collapsedStateButtonText)}get contents(){return this.items}};n(Cc,"VerticalList");Iv.exports=Cc});var Pv=g((uA,Rv)=>{"use strict";var aC=S(),lC=C(),uC=A(),Rc=class{type="VerticalWatchCardList";constructor(e){this.items=aC.parse(e.items),this.contents=this.items,this.view_all_text=new lC(e.viewAllText),this.view_all_endpoint=new uC(e.viewAllEndpoint)}};n(Rc,"VerticalWatchCardList");Rv.exports=Rc});var Lv=g((hA,kv)=>{"use strict";var Bl=S(),we=C(),hC=ee(),dC=U(),pC=A(),mC=G(),Pc=class{type="Video";constructor(e){var a,s,r,o;let t=((a=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))==null?void 0:a.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new we(e.title),this.description_snippet=e.descriptionSnippet?new we(e.descriptionSnippet,""):null,this.snippets=((s=e.detailedMetadataSnippets)==null?void 0:s.map(u=>({text:new we(u.snippetText),hover_text:new we(u.snippetHoverText)})))||[],this.thumbnails=dC.fromResponse(e.thumbnail),this.thumbnail_overlays=Bl.parse(e.thumbnailOverlays),this.rich_thumbnail=e.richThumbnail&&Bl.parse(e.richThumbnail),this.author=new hC(e.ownerText,e.ownerBadges,(o=(r=e.channelThumbnailSupportedRenderers)==null?void 0:r.channelThumbnailWithLinkRenderer)==null?void 0:o.thumbnail),this.endpoint=new pC(e.navigationEndpoint),this.published=new we(e.publishedTimeText),this.view_count_text=new we(e.viewCountText),this.short_view_count_text=new we(e.shortViewCountText);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:e.lengthText?new we(e.lengthText).text:new we(t).text,seconds:mC.timeToSeconds(e.lengthText?new we(e.lengthText).text:new we(t).text)},this.show_action_menu=e.showActionMenu,this.is_watched=e.isWatched||!1,this.menu=Bl.parse(e.menu)}get description(){var e;return this.snippets.length>0?this.snippets.map(t=>t.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){return this.badges.some(e=>e.style==="BADGE_STYLE_TYPE_LIVE_NOW")}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Pc,"Video");kv.exports=Pc});var Nv=g((dA,Av)=>{"use strict";var kc=C(),gC=U(),_C=A(),Lc=class{type="VideoInfoCardContent";constructor(e){this.title=new kc(e.videoTitle),this.channel_name=new kc(e.channelName),this.view_count=new kc(e.viewCountText),this.video_thumbnails=gC.fromResponse(e.videoThumbnail),this.duration=new kc(e.lengthString),this.endpoint=new _C(e.action)}};n(Lc,"VideoInfoCardContent");Av.exports=Lc});var Uv=g((pA,Ov)=>{"use strict";var yC=C(),wC=ee(),Ac=class{type="VideoOwner";constructor(e){this.subscription_button=e.subscriptionButton||null,this.subscriber_count=new yC(e.subscriberCountText),this.author=new wC({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};n(Ac,"VideoOwner");Ov.exports=Ac});var Bv=g((mA,Dv)=>{"use strict";var vC=S(),dn=C(),Nc=class{type="VideoPrimaryInfo";constructor(e){this.title=new dn(e.title),this.super_title_link=new dn(e.superTitleLink),this.view_count=new dn(e.viewCount.videoViewCountRenderer.viewCount),this.short_view_count=new dn(e.viewCount.videoViewCountRenderer.shortViewCount),this.published=new dn(e.dateText),this.menu=vC.parse(e.videoActions)}};n(Nc,"VideoPrimaryInfo");Dv.exports=Nc});var Vv=g((gA,Mv)=>{"use strict";var Ml=S(),xC=C(),Oc=class{type="VideoSecondaryInfo";constructor(e){this.owner=Ml.parse(e.owner),this.description=new xC(e.description),this.subscribe_button=Ml.parse(e.subscribeButton),this.metadata=Ml.parse(e.metadataRowContainer),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(Oc,"VideoSecondaryInfo");Mv.exports=Oc});var Yv=g((_A,Fv)=>{"use strict";var Vl=C(),{timeToSeconds:bC}=G(),Uc=class{type="WatchCardCompactVideo";constructor(e){this.title=new Vl(e.title),this.subtitle=new Vl(e.subtitle),this.duration={text:new Vl(e.lengthText).toString(),seconds:bC(e.lengthText.simpleText)},this.style=e.style}};n(Uc,"WatchCardCompactVideo");Fv.exports=Uc});var Wv=g((yA,Gv)=>{"use strict";var $v=S(),TC=A(),Dc=class{type="WatchCardHeroVideo";constructor(e){this.endpoint=new TC(e.navigationEndpoint),this.call_to_action_button=$v.parse(e.callToActionButton),this.hero_image=$v.parse(e.heroImage),this.label=e.accessibility.accessibilityData.label}};n(Dc,"WatchCardHeroVideo");Gv.exports=Dc});var Kv=g((wA,zv)=>{"use strict";var qC=ee(),EC=A(),Hv=C(),Bc=class{type="WatchCardRichHeader";constructor(e){this.title=new Hv(e.title),this.title_endpoint=new EC(e.titleNavigationEndpoint),this.subtitle=new Hv(e.subtitle),this.author=new qC(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title,this.style=e.style}};n(Bc,"WatchCardRichHeader");zv.exports=Bc});var Jv=g((vA,Qv)=>{"use strict";var SC=S(),Mc=class{type="WatchCardSectionSequence";constructor(e){this.lists=SC.parse(e.lists)}};n(Mc,"WatchCardSectionSequence");Qv.exports=Mc});var Zv=g((xA,Xv)=>{"use strict";var IC=S(),CC=C(),Vc=class{constructor(e){this.results=IC.parse(e.results),this.title=new CC(e.title).toString()}};n(Vc,"WatchNextEndScreen");Xv.exports=Vc});var fv=g((bA,jv)=>{"use strict";var RC=Ol(),Fc=class extends RC{type="WatchNextTabbedResults";constructor(e){super(e)}};n(Fc,"WatchNextTabbedResults");jv.exports=Fc});var tx=g((TA,ex)=>{var PC={AppendContinuationItemsAction:()=>Eu(),OpenPopupAction:()=>Iu(),AnalyticsMainAppKeyMetrics:()=>Pu(),AnalyticsVideo:()=>Qa(),AnalyticsVodCarouselCard:()=>Au(),Author:()=>ee(),BackstageImage:()=>Yu(),BackstagePost:()=>fa(),BackstagePostThread:()=>Wu(),BrowseFeedActions:()=>zu(),Button:()=>qi(),C4TabbedHeader:()=>Ju(),CallToActionButton:()=>Zu(),Card:()=>eh(),CardCollection:()=>nh(),Channel:()=>sh(),ChannelAboutFullMetadata:()=>oh(),ChannelFeaturedContent:()=>ah(),ChannelHeaderLinks:()=>uh(),ChannelMetadata:()=>dh(),ChannelMobileHeader:()=>mh(),ChannelThumbnailWithLink:()=>_h(),ChannelVideoPlayer:()=>wh(),ChildVideo:()=>xh(),ChipCloud:()=>Th(),ChipCloudChip:()=>Eh(),CollageHeroImage:()=>Ih(),AuthorCommentBadge:()=>Rh(),Comment:()=>kh(),CommentActionButtons:()=>Ah(),CommentReplies:()=>Oh(),CommentReplyDialog:()=>Mh(),CommentsEntryPointHeader:()=>Fh(),CommentsHeader:()=>Gh(),CommentSimplebox:()=>zh(),CommentThread:()=>Jh(),CompactLink:()=>Zh(),CompactMix:()=>td(),CompactPlaylist:()=>id(),CompactVideo:()=>rd(),ContinuationItem:()=>cd(),CtaGoToCreatorStudio:()=>ld(),DataModelSection:()=>Ka(),DidYouMean:()=>hd(),DownloadButton:()=>pd(),Element:()=>gd(),EmergencyOnebox:()=>wd(),EmojiRun:()=>Xa(),Endscreen:()=>xd(),EndscreenElement:()=>Ed(),EndScreenPlaylist:()=>Id(),EndScreenVideo:()=>Pd(),ExpandableTab:()=>Ld(),ExpandedShelfContents:()=>Nd(),FeedFilterChipBar:()=>Ud(),FeedTabbedHeader:()=>Bd(),Format:()=>Ha(),Grid:()=>Vd(),GridChannel:()=>$d(),GridPlaylist:()=>zd(),GridVideo:()=>Qd(),HistorySuggestion:()=>jd(),HorizontalCardList:()=>ep(),HorizontalList:()=>np(),ItemSection:()=>rp(),ItemSectionHeader:()=>cp(),LikeButton:()=>lp(),LiveChat:()=>hp(),AddBannerToLiveChatCommand:()=>pp(),AddChatItemAction:()=>gp(),AddLiveChatTickerItemAction:()=>yp(),LiveChatBanner:()=>xp(),LiveChatBannerHeader:()=>Tp(),LiveChatBannerPoll:()=>Sp(),LiveChatMembershipItem:()=>Rp(),LiveChatPaidMessage:()=>Lp(),LiveChatPaidSticker:()=>Up(),LiveChatPlaceholderItem:()=>Bp(),LiveChatTextMessage:()=>vl(),LiveChatTickerPaidMessageItem:()=>Yp(),LiveChatTickerSponsorItem:()=>Wp(),LiveChatViewerEngagementMessage:()=>zp(),PollHeader:()=>Jp(),LiveChatActionPanel:()=>Zp(),MarkChatItemAsDeletedAction:()=>fp(),MarkChatItemsByAuthorAsDeletedAction:()=>tm(),RemoveBannerForLiveChatCommand:()=>im(),ReplaceChatItemAction:()=>rm(),ReplayChatItemAction:()=>cm(),ShowLiveChatActionPanelAction:()=>lm(),ShowLiveChatTooltipCommand:()=>hm(),UpdateDateTextAction:()=>pm(),UpdateDescriptionAction:()=>gm(),UpdateLiveChatPollAction:()=>ym(),UpdateTitleAction:()=>vm(),UpdateToggleButtonTextAction:()=>Tm(),UpdateViewershipAction:()=>Sm(),LiveChatAuthorBadge:()=>Rm(),LiveChatHeader:()=>km(),LiveChatItemList:()=>Am(),LiveChatMessageInput:()=>Om(),LiveChatParticipant:()=>Dm(),LiveChatParticipantsList:()=>Mm(),Menu:()=>Ym(),MenuNavigationItem:()=>Gm(),MenuServiceItem:()=>Hm(),MenuServiceItemDownload:()=>Km(),MultiPageMenu:()=>Xm(),MultiPageMenuNotificationSection:()=>jm(),SimpleMenuHeader:()=>eg(),MerchandiseItem:()=>ng(),MerchandiseShelf:()=>rg(),Message:()=>cg(),MetadataBadge:()=>bl(),MetadataRow:()=>ug(),MetadataRowContainer:()=>dg(),MetadataRowHeader:()=>mg(),MicroformatData:()=>_g(),Mix:()=>wg(),Movie:()=>xg(),MovingThumbnail:()=>Tg(),MusicCarouselShelf:()=>Sg(),MusicCarouselShelfBasicHeader:()=>Rg(),MusicDescriptionShelf:()=>Lg(),MusicDetailHeader:()=>Og(),MusicHeader:()=>Dg(),MusicImmersiveHeader:()=>Vg(),MusicInlineBadge:()=>Yg(),MusicItemThumbnailOverlay:()=>Gg(),MusicNavigationButton:()=>Hg(),MusicPlayButton:()=>Kg(),MusicPlaylistShelf:()=>Jg(),MusicQueue:()=>Zg(),MusicResponsiveListItem:()=>o_(),MusicResponsiveListItemFixedColumn:()=>a_(),MusicResponsiveListItemFlexColumn:()=>u_(),MusicShelf:()=>p_(),MusicThumbnail:()=>g_(),MusicTwoRowItem:()=>w_(),NavigatableText:()=>gi(),NavigationEndpoint:()=>A(),Notification:()=>q_(),PlayerAnnotationsExpanded:()=>S_(),PlayerCaptionsTracklist:()=>R_(),PlayerErrorMessage:()=>L_(),PlayerLiveStoryboardSpec:()=>N_(),PlayerMicroformat:()=>D_(),PlayerOverlay:()=>M_(),PlayerOverlayAutoplay:()=>F_(),PlayerStoryboardSpec:()=>$_(),Playlist:()=>on(),PlaylistAuthor:()=>pt(),PlaylistHeader:()=>W_(),PlaylistInfoCardContent:()=>z_(),PlaylistMetadata:()=>Q_(),PlaylistPanel:()=>X_(),PlaylistPanelVideo:()=>f_(),PlaylistSidebar:()=>ty(),PlaylistSidebarPrimaryInfo:()=>sy(),PlaylistSidebarSecondaryInfo:()=>cy(),PlaylistVideo:()=>uy(),PlaylistVideoList:()=>dy(),PlaylistVideoThumbnail:()=>my(),Poll:()=>yy(),Post:()=>vy(),ProfileColumn:()=>by(),ProfileColumnStats:()=>qy(),ProfileColumnStatsEntry:()=>Iy(),ProfileColumnUserInfo:()=>Ry(),ReelItem:()=>Ly(),ReelShelf:()=>Ny(),RelatedChipCloud:()=>Uy(),RichGrid:()=>My(),RichItem:()=>Fy(),RichListHeader:()=>$y(),RichSection:()=>Wy(),RichShelf:()=>zy(),SearchBox:()=>Jy(),SearchRefinementCard:()=>Zy(),SearchSuggestion:()=>wl(),SearchSuggestionsSection:()=>fy(),SecondarySearchContainer:()=>tw(),SectionList:()=>sw(),Shelf:()=>cw(),ShowingResultsFor:()=>uw(),SimpleCardTeaser:()=>dw(),SingleActionEmergencySupport:()=>mw(),SingleColumnBrowseResults:()=>_w(),SingleColumnMusicWatchNextResults:()=>ww(),SingleHeroImage:()=>xw(),SortFilterSubMenu:()=>Tw(),SubFeedOption:()=>Ew(),SubFeedSelector:()=>Iw(),SubscribeButton:()=>Rw(),SubscriptionNotificationToggleButton:()=>kw(),Tab:()=>Aw(),Tabbed:()=>Ow(),TabbedSearchResults:()=>Dw(),Text:()=>C(),TextHeader:()=>Mw(),TextRun:()=>Ja(),Thumbnail:()=>U(),ThumbnailOverlayBottomPanel:()=>Fw(),ThumbnailOverlayEndorsement:()=>$w(),ThumbnailOverlayHoverText:()=>Ww(),ThumbnailOverlayInlineUnplayable:()=>zw(),ThumbnailOverlayLoadingPreview:()=>Qw(),ThumbnailOverlayNowPlaying:()=>Xw(),ThumbnailOverlayPinking:()=>jw(),ThumbnailOverlayPlaybackStatus:()=>ev(),ThumbnailOverlayResumePlayback:()=>nv(),ThumbnailOverlaySidePanel:()=>sv(),ThumbnailOverlayTimeStatus:()=>ov(),ThumbnailOverlayToggleButton:()=>lv(),ToggleButton:()=>hv(),ToggleMenuServiceItem:()=>mv(),Tooltip:()=>_v(),TwoColumnBrowseResults:()=>Ol(),TwoColumnSearchResults:()=>bv(),TwoColumnWatchNextResults:()=>qv(),UniversalWatchCard:()=>Sv(),VerticalList:()=>Cv(),VerticalWatchCardList:()=>Pv(),Video:()=>Lv(),VideoDetails:()=>za(),VideoInfoCardContent:()=>Nv(),VideoOwner:()=>Uv(),VideoPrimaryInfo:()=>Bv(),VideoSecondaryInfo:()=>Vv(),WatchCardCompactVideo:()=>Yv(),WatchCardHeroVideo:()=>Wv(),WatchCardRichHeader:()=>Kv(),WatchCardSectionSequence:()=>Jv(),WatchNextEndScreen:()=>Zv(),WatchNextTabbedResults:()=>fv()};ex.exports=n(function(e){let t=PC[e];if(!t){let i=new Error("Module not found: "+e);throw i.code="MODULE_NOT_FOUND",i}return t()},"req")});var S=g((qA,sx)=>{"use strict";var{InnertubeError:nx,observe:Fl}=G(),kC=Ha(),LC=za(),ix=tx(),Yc=class{type="appendContinuationItemsAction";constructor(e){this.contents=j.parse(e.continuationItems)}};n(Yc,"AppendContinuationItemsAction");var $c=class{type="reloadContinuationItemsCommand";constructor(e){this.target_id=e.targetId,this.contents=j.parse(e.continuationItems)}};n($c,"ReloadContinuationItemsCommand");var Gc=class{type="sectionListContinuation";constructor(e){this.contents=j.parse(e.contents),this.continuation=e.continuations[0].nextContinuationData.continuation}};n(Gc,"SectionListContinuation");var pn=class{type="timedContinuationData";constructor(e){this.timeout_ms=e.timeoutMs||e.timeUntilLastMessageMsec,this.token=e.continuation}};n(pn,"TimedContinuation");var Wc=class{type="liveChatContinuation";constructor(e){var t,i,a,s,r;this.actions=j.parse((t=e.actions)==null?void 0:t.map(o=>(delete o.clickTrackingParams,o)))||[],this.action_panel=j.parse(e.actionPanel),this.item_list=j.parse(e.itemList),this.header=j.parse(e.header),this.participants_list=j.parse(e.participantsList),this.popout_message=j.parse(e.popoutMessage),this.emojis=((i=e.emojis)==null?void 0:i.map(o=>({emoji_id:o.emojiId,shortcuts:o.shortcuts,search_terms:o.searchTerms,image:o.image,is_custom_emoji:o.isCustomEmoji})))||null,this.continuation=new pn(((a=e.continuations)==null?void 0:a[0].timedContinuationData)||((s=e.continuations)==null?void 0:s[0].invalidationContinuationData)||((r=e.continuations)==null?void 0:r[0].liveChatReplayContinuationData)),this.viewer_name=e.viewerName}};n(Wc,"LiveChatContinuation");var oe,Fe,wt,Ye,vt,mn,Yl,F=class{static parseResponse(e){var w,x;N(this,Ye,vt).call(this);let t=F.parse(e.contents),i=l(F,oe);N(this,Fe,wt).call(this),N(this,Ye,vt).call(this);let a=e.onResponseReceivedActions?F.parseRR(e.onResponseReceivedActions):null,s=l(F,oe);N(this,Fe,wt).call(this),N(this,Ye,vt).call(this);let r=e.onResponseReceivedEndpoints?F.parseRR(e.onResponseReceivedEndpoints):null,o=l(F,oe);N(this,Fe,wt).call(this),N(this,Ye,vt).call(this);let u=e.onResponseReceivedCommands?F.parseRR(e.onResponseReceivedCommands):null,d=l(F,oe);N(this,Fe,wt).call(this),N(this,Ye,vt).call(this);let h=e.actions?F.parseActions(e.actions):null,m=l(F,oe);return N(this,Fe,wt).call(this),{actions:h,actions_memo:m,contents:t,contents_memo:i,on_response_received_actions:a,on_response_received_actions_memo:s,on_response_received_endpoints:r,on_response_received_endpoints_memo:o,on_response_received_commands:u,on_response_received_commands_memo:d,continuation:e.continuation?F.parseC(e.continuation):null,continuation_contents:e.continuationContents?F.parseLC(e.continuationContents):null,metadata:F.parse(e.metadata),header:F.parse(e.header),microformat:e.microformat&&F.parse(e.microformat),sidebar:F.parse(e.sidebar),overlay:F.parse(e.overlay),refinements:e.refinements||null,estimated_results:e.estimatedResults||null,player_overlays:F.parse(e.playerOverlays),playability_status:e.playabilityStatus&&{status:e.playabilityStatus.status,error_screen:F.parse(e.playabilityStatus.errorScreen),embeddable:e.playabilityStatus.playableInEmbed||null,reason:e.reason||""},streaming_data:e.streamingData&&{expires:new Date(Date.now()+parseInt(e.streamingData.expiresInSeconds)*1e3),formats:F.parseFormats(e.streamingData.formats),adaptive_formats:F.parseFormats(e.streamingData.adaptiveFormats),dash_manifest_url:((w=e.streamingData)==null?void 0:w.dashManifestUrl)||null,dls_manifest_url:((x=e.streamingData)==null?void 0:x.dashManifestUrl)||null},captions:F.parse(e.captions),video_details:e.videoDetails&&new LC(e.videoDetails),annotations:F.parse(e.annotations),storyboards:F.parse(e.storyboards),endscreen:F.parse(e.endscreen),cards:F.parse(e.cards)}}static parseC(e){if(e.timedContinuationData)return new pn(e.timedContinuationData)}static parseLC(e){if(e.sectionListContinuation)return new Gc(e.sectionListContinuation);if(e.liveChatContinuation)return new Wc(e.liveChatContinuation)}static parseRR(e){return Fl(e.map(t=>{if(t.reloadContinuationItemsCommand)return new $c(t.reloadContinuationItemsCommand);if(t.appendContinuationItemsAction)return new Yc(t.appendContinuationItemsAction)}).filter(t=>t))}static parseActions(e){return Array.isArray(e)?F.parse(e.map(t=>(delete t.clickTrackingParams,t))):F.parse(e)||null}static parseFormats(e){return Fl((e==null?void 0:e.map(t=>new kC(t)))||[])}static parse(e){if(!e)return null;if(Array.isArray(e)){let a=[];for(let s of e){let r=Object.keys(s),o=this.sanitizeClassName(r[0]);if(!this.shouldIgnore(o))try{let u=ix(o),d=new u(s[r[0]]);a.push(d),N(this,mn,Yl).call(this,o,d)}catch(u){this.formatError({classname:o,classdata:s[r[0]],err:u})}}return Fl(a)}let t=Object.keys(e),i=this.sanitizeClassName(t[0]);if(!this.shouldIgnore(i))try{let a=ix(i),s=new a(e[t[0]]);return N(this,mn,Yl).call(this,i,s),s}catch(a){return this.formatError({classname:i,classdata:e[t[0]],err:a}),null}}static formatError({classname:e,classdata:t,err:i}){if(i.code=="MODULE_NOT_FOUND")return console.warn(new nx(`${e} not found!
This is a bug, please report it at ${Bn().bugs.url}`,t));console.warn(new nx(`Something went wrong at ${e}!
This is a bug, please report it at ${Bn().bugs.url}`,{stack:i.stack}))}static sanitizeClassName(e){return(e.charAt(0).toUpperCase()+e.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}static shouldIgnore(e){return["DisplayAd","SearchPyv","MealbarPromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","StatementBanner"].includes(e)}},j=F;n(j,"Parser"),oe=new WeakMap,Fe=new WeakSet,wt=n(function(){I(F,oe,null)},"#clearMemo"),Ye=new WeakSet,vt=n(function(){I(F,oe,new Map)},"#createMemo"),mn=new WeakSet,Yl=n(function(e,t){if(!!l(F,oe)){if(!l(F,oe).has(e))return l(F,oe).set(e,[t]);l(F,oe).get(e).push(t)}},"#addToMemo"),q(j,Fe),q(j,Ye),q(j,mn),q(j,oe,new Map);sx.exports=j});var cx=g((EA,ox)=>{"use strict";var AC=require("uuid"),Re=ut(),f=G(),NC=pe(),OC=S(),te,K,zc,rx,Hc=class{constructor(e){q(this,zc);q(this,te,void 0);q(this,K,void 0);I(this,te,e),I(this,K,e.request)}async browse(e,t={}){if(N(this,zc,rx).call(this,e)&&!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={};return t.params&&(i.params=t.params),t.is_ctoken?i.continuation=e:i.browseId=e,t.client&&(i.client=t.client),await l(this,K).post("/browse",i)}async engage(e,t={}){if(!l(this,te).logged_in&&!t.hasOwnProperty("text"))throw new f.InnertubeError("You are not signed in");let i={};switch(e){case"like/like":case"like/dislike":case"like/removelike":i.target={},i.target.videoId=t.video_id,t.params&&(i.params=t.params);break;case"subscription/subscribe":case"subscription/unsubscribe":i.channelIds=[t.channel_id],i.params=e==="subscription/subscribe"?"EgIIAhgA":"CgIIAhgA";break;case"comment/create_comment":i.commentText=t.text,i.createCommentParams=Re.encodeCommentParams(t.video_id);break;case"comment/create_comment_reply":i.createReplyParams=Re.encodeCommentReplyParams(t.comment_id,t.video_id),i.commentText=t.text;break;case"comment/perform_comment_action":let s=(()=>{switch(t.comment_action){case"like":return Re.encodeCommentActionParams(5,t);case"dislike":return Re.encodeCommentActionParams(4,t);case"translate":return Re.encodeCommentActionParams(22,t);default:break}})();i.actions=[s];break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async account(e,t={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={client:t.client};switch(e){case"account/set_setting":i.newValue={boolValue:t.new_value},i.settingItemId=t.setting_item_id;break;case"account/accounts_list":break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async search(e={}){let t={client:e.client};return e.query&&(t.query=e.query),e.ctoken&&(t.continuation=e.ctoken),e.params&&(t.params=e.params),e.filters&&(e.client=="YTMUSIC"?t.params=Re.encodeMusicSearchFilters(e.filters):t.params=Re.encodeSearchFilters(e.filters)),await l(this,K).post("/search",t)}async searchSound(e={}){let t={query:e.query,client:"ANDROID"};return await l(this,K).post("/sfv/search",t)}async channel(e,t={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={client:t.client||"ANDROID"};switch(e){case"channel/edit_name":i.givenName=t.new_name;break;case"channel/edit_description":i.description=t.new_description;break;case"channel/get_profile_editor":break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async playlist(e,t={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={};switch(e){case"playlist/create":i.title=t.title,i.videoIds=t.ids;break;case"playlist/delete":i.playlistId=t.playlist_id;break;case"browse/edit_playlist":i.playlistId=t.playlist_id,i.actions=t.ids.map(s=>{switch(t.action){case"ACTION_ADD_VIDEO":return{action:t.action,addedVideoId:s};case"ACTION_REMOVE_VIDEO":return{action:t.action,setVideoId:s};default:break}});break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async notifications(e,t={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={};switch(e){case"modify_channel_preference":let s={PERSONALIZED:1,ALL:2,NONE:3};i.params=Re.encodeNotificationPref(t.channel_id,s[t.pref.toUpperCase()]);break;case"get_notification_menu":i.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX",t.ctoken&&(i.ctoken=t.ctoken);break;case"record_interactions":i.serializedRecordNotificationInteractionsRequest=t.params;break;case"get_unseen_count":break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/notification/${e}`,i)}async livechat(e,t={}){let i={client:t.client};switch(e){case"live_chat/get_live_chat":case"live_chat/get_live_chat_replay":i.continuation=t.ctoken;break;case"live_chat/send_message":i.params=Re.encodeMessageParams(t.channel_id,t.video_id),i.clientMessageId=AC.v4(),i.richMessage={textSegments:[{text:t.text}]};break;case"live_chat/get_item_context_menu":break;case"live_chat/moderate":i.params=t.params;break;case"updated_metadata":i.videoId=t.video_id,t.ctoken&&(i.continuation=t.ctoken);break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async thumbnails(e={}){let t={client:"ANDROID",videoId:e.video_id};return await l(this,K).post("/thumbnails",t)}async geo(e,t={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={input:t.input,client:"ANDROID"};return await l(this,K).post(`/geo/${e}`,i)}async flag(e,t){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let i={};switch(e){case"flag/flag":i.action=t.action;break;case"flag/get_form":i.params=t.params;break;default:throw new f.InnertubeError("Action not implemented",e)}return await l(this,K).post(`/${e}`,i)}async music(e,t){let i={input:t.input||"",client:"YTMUSIC"};return await l(this,K).post(`/music/${e}`,i)}async next(e={}){let t={client:e.client};return e.ctoken&&(t.continuation=e.ctoken),e.video_id&&(t.videoId=e.video_id),await l(this,K).post("/next",t)}async getVideoInfo(e,t,i){let a={playbackContext:{contentPlaybackContext:{vis:0,splay:!1,referer:"https://www.youtube.com",currentUrl:`/watch?v=${e}`,autonavState:"STATE_OFF",signatureTimestamp:l(this,te).sts,autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"}},attestationRequest:{omitBotguardData:!0},videoId:e};return i&&(a.client=i),t&&(a.cpn=t),(await l(this,K).post("/player",a)).data}async getSearchSuggestions(e,t){if(!["YOUTUBE","YTMUSIC"].includes(e))throw new f.InnertubeError("Invalid client",e);return await{YOUTUBE:()=>l(this,K).call(this,{url:"search",baseURL:NC.URLS.YT_SUGGESTIONS,params:{q:t,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:l(this,te).context.client.gl,hl:l(this,te).context.client.hl}}),YTMUSIC:()=>this.music("get_search_suggestions",{input:t})}[e]()}async getUserMentionSuggestions(e={}){if(!l(this,te).logged_in)throw new f.InnertubeError("You are not signed in");let t={input:e.input,client:"ANDROID"};return await l(this,K).post("get_user_mention_suggestions",t)}async execute(e,t){let i={...t};Reflect.has(i,"parse")&&delete i.parse,Reflect.has(i,"request")&&delete i.request,Reflect.has(i,"clientActions")&&delete i.clientActions,Reflect.has(i,"action")&&(i.actions=[i.action],delete i.action),Reflect.has(i,"token")&&(i.continuation=i.token,delete i.token);let a=await l(this,K).post(e,i);return t.parse?OC.parseResponse(a.data):a}};n(Hc,"Actions"),te=new WeakMap,K=new WeakMap,zc=new WeakSet,rx=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"#needsLogin");ox.exports=Hc});var lx=g($l=>{"use strict";var{SIG_REGEX:ax}=pe(),xt=$l.SignatureOperation={REVERSE:0,SPLICE:1,SWAP:2},Ie=class{constructor(e){this.action_sequence=e}static fromSourceCode(e){let t,i=[],a=Ie.getFunctions(e);for(;(t=ax.ACTIONS.exec(e))!==null;){let s=t.groups;if(!!s)switch(s.name){case a[0]:i.push([xt.REVERSE,0]);break;case a[1]:i.push([xt.SPLICE,parseInt(s.param)]);break;case a[2]:i.push([xt.SWAP,parseInt(s.param)]);break;default:}}return new Ie(i)}decipher(e){var a;let i=(a=new URLSearchParams(e).get("s"))==null?void 0:a.split("");if(!i)throw new TypeError("Invalid signature");for(let s of this.action_sequence)switch(s[0]){case xt.REVERSE:i.reverse();break;case xt.SPLICE:i.splice(0,s[1]);break;case xt.SWAP:{let r=s[1],o=i[0];i[0]=i[r%i.length],i[r%i.length]=o}break;default:break}return i.join("")}toJSON(){return[...this.action_sequence]}toArrayBuffer(){let e=new ArrayBuffer(8+this.action_sequence.length*3),t=new DataView(e),i=0;t.setUint32(i,Ie.LIBRARY_VERSION,!0),i+=4,t.setUint32(i,this.action_sequence.length,!0),i+=4;for(let a=0;a<this.action_sequence.length;a++)t.setUint8(i,this.action_sequence[a][0]),i+=1,t.setUint16(i,this.action_sequence[a][1],!0),i+=2;return e}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==Ie.LIBRARY_VERSION)throw new TypeError("Invalid library version");let s=t.getUint32(i,!0);i+=4;let r=new Array(s);for(let o=0;o<s;o++)r[o]=[t.getUint8(i),t.getUint16(i+1,!0)],i+=3;return new Ie(r)}static getFunctions(e){let t,i=[];for(;(t=ax.FUNCTIONS.exec(e))!==null;)t[0].includes("reverse")?i[0]=t[1]:t[0].includes("splice")?i[1]=t[1]:i[2]=t[1];return i}static get LIBRARY_VERSION(){return 1}};n(Ie,"Signature");$l.default=Ie});var ux=g((Gl,Wl)=>{"use strict";(function(c){var e=String.fromCharCode,t={}.toString,i=c.SharedArrayBuffer,a=i?t.call(i):"",s=c.Uint8Array,r=s?t.call(ArrayBuffer.prototype):"",o=c.Buffer,u=new Uint16Array(32);try{!o&&c.require&&(o=c.require("Buffer"));var d=o.prototype,h=o?t.call(d):""}catch{}var m=o.allocUnsafe,w=!!s&&!o,x=!o||!!s&&s.prototype.isPrototypeOf(d),y=c.TextEncoder,_=c.TextDecoder;if(w||o){var T=n(function(O){return O.TextDecoder=_||L,O.TextEncoder=y||E,O!==c&&(O.decode=_?R(new _,"decode"):P,O.encode=y?R(new y,"encode"):k),O},"y"),R=n(function(O,D,B){return B=O[D],function(){return B.apply(O,arguments)}},"G"),k=n(function(O){O=O===void 0?"":""+O;var D=O.length|0,B=w?new s((D<<1)+8|0):m?m((D<<1)+8|0):new o((D<<1)+8|0),V,M=0,De=!1;for(V=0;V<D;V=V+1|0,M=M+1|0){var H=O.charCodeAt(V)|0;if(127>=H)B[M]=H;else{if(2047>=H)B[M]=192|H>>6;else{e:{if(55296<=H)if(56320>H){var z=O.charCodeAt(V=V+1|0)|0;if(56320<=z&&57343>=z){if(H=(H<<10)+z-56613888|0,65535<H){B[M]=240|H>>18,B[M=M+1|0]=128|H>>12&63,B[M=M+1|0]=128|H>>6&63,B[M=M+1|0]=128|H&63;continue}break e}H=65533}else 57343>=H&&(H=65533);!De&&V<<1<M&&V<<1<(M-7|0)&&(De=!0,z=w?new s(3*D):m?m(3*D):new o(3*D),z.set(B),B=z)}B[M]=224|H>>12,B[M=M+1|0]=128|H>>6&63}B[M=M+1|0]=128|H&63}}return B.subarray(0,M)},"I"),E=n(function(){},"F"),P=n(function(O){var D=O&&O.buffer||O,B=t.call(D);if(B!==r&&B!==h&&B!==a&&B!=="[object ArrayBuffer]"&&O!==void 0)throw TypeError("Failed to execute 'decode' on 'TextDecoder': The provided value is not of type '(ArrayBuffer or ArrayBufferView)'");O=x?new s(D):D||[],B=D="";for(var V=0,M=O.length|0,De=M-32|0,H,z,ne=0,Ze=0,ye,de=0,qe=-1;V<M;){for(H=V<=De?32:M-V|0;de<H;V=V+1|0,de=de+1|0){switch(z=O[V]&255,z>>4){case 15:if(ye=O[V=V+1|0]&255,ye>>6!==2||247<z){V=V-1|0;break}ne=(z&7)<<6|ye&63,Ze=5,z=256;case 14:ye=O[V=V+1|0]&255,ne<<=6,ne|=(z&15)<<6|ye&63,Ze=ye>>6===2?Ze+4|0:24,z=z+256&768;case 13:case 12:ye=O[V=V+1|0]&255,ne<<=6,ne|=(z&31)<<6|ye&63,Ze=Ze+7|0,V<M&&ye>>6===2&&ne>>Ze&&1114112>ne?(z=ne,ne=ne-65536|0,0<=ne&&(qe=(ne>>10)+55296|0,z=(ne&1023)+56320|0,31>de?(u[de]=qe,de=de+1|0,qe=-1):(ye=qe,qe=z,z=ye))):(z>>=8,V=V-z-1|0,z=65533),ne=Ze=0,H=V<=De?32:M-V|0;default:u[de]=z;continue;case 11:case 10:case 9:case 8:}u[de]=65533}if(B+=e(u[0],u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8],u[9],u[10],u[11],u[12],u[13],u[14],u[15],u[16],u[17],u[18],u[19],u[20],u[21],u[22],u[23],u[24],u[25],u[26],u[27],u[28],u[29],u[30],u[31]),32>de&&(B=B.slice(0,de-32|0)),V<M){if(u[0]=qe,de=~qe>>>31,qe=-1,B.length<D.length)continue}else qe!==-1&&(B+=e(qe));D+=B,B=""}return D},"H"),L=n(function(){},"E");L.prototype.decode=P,i=E.prototype,i.encode=k,typeof Gl=="object"&&typeof Wl<"u"?T(Wl.exports):typeof define==typeof T&&typeof define=="function"&&define.amd?define(function(){return T({})}):T(c)}})(typeof global>"u"?typeof self>"u"?Gl||{}:self:global)});var dx=g(gn=>{"use strict";var{TextEncoder:hx,TextDecoder:UC}=ux(),{NTOKEN_REGEX:Hl,BASE64_DIALECT:Kc}=pe(),$=gn.NTokenTransformOperation={NO_OP:0,PUSH:1,REVERSE_1:2,REVERSE_2:3,SPLICE:4,SWAP0_1:5,SWAP0_2:6,ROTATE_1:7,ROTATE_2:8,BASE64_DIA:9,TRANSLATE_1:10,TRANSLATE_2:11},Q=gn.NTokenTransformOpType={FUNC:0,N_ARR:1,LITERAL:2,REF:3},DC={"d.push(e)":$.PUSH,"d.reverse()":$.REVERSE_1,"function(d){for(var":$.REVERSE_2,"d.length;d.splice(e,1)":$.SPLICE,"d[0])[0])":$.SWAP0_1,"f=d[0];d[0]":$.SWAP0_2,"reverse().forEach":$.ROTATE_1,"unshift(d.pop())":$.ROTATE_2,"function(){for(var":$.BASE64_DIA,"function(d,e){for(var f":$.TRANSLATE_1,"function(d,e,f){var":$.TRANSLATE_2},W=class{static translate1(e,t,i){let a=i?Kc.REVERSE:Kc.NORMAL,s=t.split("");e.forEach((r,o,u)=>{s.push(u[o]=a[(a.indexOf(r)-a.indexOf(s[o])+64)%a.length])})}static translate2(e,t,i){let a=i.length,s=t.split("");e.forEach((r,o,u)=>{s.push(u[o]=i[(i.indexOf(r)-i.indexOf(s[o])+o+a--)%i.length])})}static getBase64Dia(e){return e?Kc.REVERSE:Kc.NORMAL}static swap0(e,t){let i=e[0];t=(t%e.length+e.length)%e.length,e[0]=e[t],e[t]=i}static rotate(e,t){t=(t%e.length+e.length)%e.length,e.splice(-t).reverse().forEach(i=>e.unshift(i))}static splice(e,t){t=(t%e.length+e.length)%e.length,e.splice(t,1)}static reverse(e){e.reverse()}static push(e,t){Array.isArray(e==null?void 0:e[0])?e.push([Q.LITERAL,t]):e.push(t)}};n(W,"NTokenTransforms");gn.NTokenTransforms=W;var BC=[{[$.PUSH]:W.push,[$.SPLICE]:W.splice,[$.SWAP0_1]:W.swap0,[$.SWAP0_2]:W.swap0,[$.ROTATE_1]:W.rotate,[$.ROTATE_2]:W.rotate,[$.REVERSE_1]:W.reverse,[$.REVERSE_2]:W.reverse,[$.BASE64_DIA]:()=>W.getBase64Dia(!1),[$.TRANSLATE_1]:(...c)=>W.translate1.apply(null,[...c,!1]),[$.TRANSLATE_2]:W.translate2},{[$.PUSH]:W.push,[$.SPLICE]:W.splice,[$.SWAP0_1]:W.swap0,[$.SWAP0_2]:W.swap0,[$.ROTATE_1]:W.rotate,[$.ROTATE_2]:W.rotate,[$.REVERSE_1]:W.reverse,[$.REVERSE_2]:W.reverse,[$.BASE64_DIA]:()=>W.getBase64Dia(!0),[$.TRANSLATE_1]:(...c)=>W.translate1.apply(null,[...c,!0]),[$.TRANSLATE_2]:W.translate2}],ve=class{constructor(e){this.transformer=e}static fromSourceCode(e){let i=ve.getTransformationData(e).map(r=>{var o;if(r!=null&&typeof r!="number"){let u=r.includes("case 65:"),d=DC[(o=ve.getFunc(r))==null?void 0:o[0]];d?r=[Q.FUNC,d,0+u]:r=="b"?r=[Q.N_ARR]:r=[Q.LITERAL,r]}else r!=null&&(r=[Q.LITERAL,r]);return r});[...e.matchAll(Hl.PLACEHOLDERS)].map(r=>parseInt(r[1])).forEach(r=>i[r]=[Q.REF]);let s=[...e.replace(/\n/g,"").match(/try\{(.*?)\}catch/s)[1].matchAll(Hl.CALLS)].map(r=>[parseInt(r[1]),r[2].split(",").map(o=>{var u;return parseInt((u=o.match(/c\[(.*?)\]/))==null?void 0:u[1])})]);return new ve([i,s])}evaluate(e,t,i){switch(e[0]){case Q.FUNC:return BC[e[2]][e[1]];case Q.N_ARR:return t;case Q.LITERAL:return e[1];case Q.REF:return i[0]}}transform(e){let t=e.split(""),i=this.getTransformerClone();try{i[1].forEach(([a,s])=>{let r=s[2]&&this.evaluate(i[0][s[2]],t,i)();this.evaluate(i[0][a],t,i)(s[0]!==void 0&&this.evaluate(i[0][s[0]],t,i),s[1]!==void 0&&this.evaluate(i[0][s[1]],t,i),r)})}catch(a){return console.error(new Error(`Could not transform n-token, download may be throttled.
Original Token:${e}Error:
${a}`)),e}return t.join("")}getTransformerClone(){return[[...this.transformer[0]],[...this.transformer[1]]]}toJSON(){return this.getTransformerClone()}toArrayBuffer(){let e=12;for(let s of this.transformer[0])switch(s[0]){case Q.FUNC:e+=2;break;case Q.N_ARR:case Q.REF:e+=1;break;case Q.LITERAL:typeof s[1]=="string"&&(e+=1+4+new hx().encode(s[1]).byteLength),e+=4+1;break}for(let s of this.transformer[1])e+=2+s[1].length;let t=new ArrayBuffer(e),i=new DataView(t),a=0;i.setUint32(a,ve.LIBRARY_VERSION,!0),a+=4,i.setUint32(a,this.transformer[0].length,!0),a+=4,i.setUint32(a,this.transformer[1].length,!0),a+=4;for(let s of this.transformer[0])switch(s[0]){case Q.FUNC:{let r=s[0]<<6|s[2];i.setUint8(a,r),a+=1,i.setUint8(a,s[1]),a+=1}break;case Q.N_ARR:case Q.REF:{let r=s[0]<<6;i.setUint8(a,r),a+=1}break;case Q.LITERAL:{let r=typeof s[1]=="string"?1:0,o=s[0]<<6|r;if(i.setUint8(a,o),a+=1,r===0)i.setInt32(a,s[1],!0),a+=4;else{let u=new hx().encode(s[1]);i.setUint32(a,u.byteLength,!0),a+=4;for(let d=0;d<u.byteLength;d++)i.setUint8(a,u[d]),a+=1}}break}for(let s of this.transformer[1]){i.setUint8(a,s[0]),a+=1,i.setUint8(a,s[1].length),a+=1;for(let r of s[1])i.setUint8(a,r),a+=1}return t}static fromArrayBuffer(e){let t=new DataView(e),i=0,a=t.getUint32(i,!0);if(i+=4,a!==ve.LIBRARY_VERSION)throw new TypeError("Invalid library version");let s=t.getUint32(i,!0);i+=4;let r=t.getUint32(i,!0);i+=4;let o=new Array(s);for(let d=0;d<s;d++){let h=t.getUint8(i++),m=h>>6;switch(m){case Q.FUNC:{let w=h&1,x=t.getUint8(i++);o[d]=[m,x,w]}break;case Q.N_ARR:case Q.REF:o[d]=[m];break;case Q.LITERAL:if((h&1)===0){let x=t.getInt32(i,!0);i+=4,o[d]=[m,x]}else{let x=t.getUint32(i,!0);i+=4;let y=new Uint8Array(x);for(let _=0;_<x;_++)y[_]=t.getUint8(i++);o[d]=[m,new UC().decode(y)]}break;default:throw new Error("Invalid opcode")}}let u=new Array(r);for(let d=0;d<r;d++){let h=t.getUint8(i++),m=t.getUint8(i++),w=new Array(m);for(let x=0;x<m;x++)w[x]=t.getUint8(i++);u[d]=[h,w]}return new ve([o,u])}static get LIBRARY_VERSION(){return 1}static getFunc(e){return e.match(Hl.FUNCTIONS)}static getTransformationData(e){var i;let t=`[${(i=e.replace(/\n/g,"").match(/c=\[(.*?)\];c/s))==null?void 0:i[1]}]`;return JSON.parse(this.refineNTokenData(t))}static refineNTokenData(e){return e.replace(/function\(d,e\)/g,'"function(d,e)').replace(/function\(d\)/g,'"function(d)').replace(/function\(\)/g,'"function()').replace(/function\(d,e,f\)/g,'"function(d,e,f)').replace(/\[function\(d,e,f\)/g,'["function(d,e,f)').replace(/,b,/g,',"b",').replace(/,b/g,',"b"').replace(/b,/g,'"b",').replace(/b]/g,'"b"]').replace(/\[b/g,'["b"').replace(/}]/g,'"]').replace(/},/g,'}",').replace(/""/g,"").replace(/length]\)}"/g,"length])}")}};n(ve,"NToken");gn.default=ve});var yx=g((CA,_x)=>{"use strict";var bt=G(),MC=pe(),{default:VC}=lx(),{default:FC}=dx(),_n,Tt,qt,Jc,Et,St,It,yn,Xc,px,Zc,mx,jc,gx,zl=class{constructor(e,t){q(this,Xc);q(this,Zc);q(this,jc);q(this,_n,void 0);q(this,Tt,void 0);q(this,qt,void 0);q(this,Jc,void 0);q(this,Et,void 0);q(this,St,void 0);q(this,It,void 0);q(this,yn,void 0);I(this,Tt,e),I(this,_n,t),I(this,yn,`${bt.getTmpdir()}/yt-cache`),I(this,qt,`${MC.URLS.YT_BASE}/s/player/${l(this,Tt)}/player_ias.vflset/en_US/base.js`),I(this,Jc,`${l(this,yn)}/${l(this,Tt)}.bin`)}async init(){let e=await l(this,_n).get(l(this,qt),{headers:{"content-type":"text/javascript"}});I(this,It,N(this,Xc,px).call(this,e.data));let t=N(this,Zc,mx).call(this,e.data),i=N(this,jc,gx).call(this,e.data);I(this,St,VC.fromSourceCode(t)),I(this,Et,FC.fromSourceCode(i));try{let a=l(this,Et).toArrayBuffer(),s=l(this,St).toArrayBuffer(),r=new ArrayBuffer(12+s.byteLength+a.byteLength),o=new DataView(r);o.setUint32(0,zl.LIBRARY_VERSION,!0),o.setUint32(4,l(this,It),!0),o.setUint32(8,s.byteLength,!0),new Uint8Array(r).set(new Uint8Array(s),12),new Uint8Array(r).set(new Uint8Array(a),12+s.byteLength)}finally{}return this}decipher(e,t,i){e=e||t||i,bt.throwIfMissing({url:e});let a=new URLSearchParams(e),s=new URL(a.get("url")||e);if(s.searchParams.set("ratebypass","yes"),t||i){let r=l(this,St).decipher(e);a.get("sp")?s.searchParams.set(a.get("sp"),r):s.searchParams.set("signature",r)}if(s.searchParams.get("n")){let r=l(this,Et).transform(s.searchParams.get("n"));s.searchParams.set("n",r)}return s.toString()}get url(){return l(this,qt)}get sts(){return l(this,It)}static get LIBRARY_VERSION(){return 1}},Qc=zl;n(Qc,"Player"),_n=new WeakMap,Tt=new WeakMap,qt=new WeakMap,Jc=new WeakMap,Et=new WeakMap,St=new WeakMap,It=new WeakMap,yn=new WeakMap,Xc=new WeakSet,px=n(function(e){return parseInt(bt.getStringBetweenStrings(e,"signatureTimestamp:",","))},"#extractSigTimestamp"),Zc=new WeakSet,mx=n(function(e){let t=bt.getStringBetweenStrings(e,"this.audioTracks};var","};"),i=bt.getStringBetweenStrings(e,'function(a){a=a.split("")','return a.join("")}');return t+i},"#extractSigDecipherSc"),jc=new WeakSet,gx=n(function(e){return`var b=a.split("")${bt.getStringBetweenStrings(e,'b=a.split("")','}return b.join("")}')}} return b.join("");`},"#extractNTokenSc");_x.exports=Qc});var qx=g((RA,Tx)=>{"use strict";var YC=yx(),$C=ut(),wx=G(),fc=pe(),GC=require("user-agents"),wn,nt,vn,Ct,Rt,xn,bn,Tn,qn,ta,vx,na,xx,ia,bx,ea=class{constructor(e,t){q(this,ta);q(this,na);q(this,ia);q(this,wn,void 0);q(this,nt,void 0);q(this,vn,void 0);q(this,Ct,void 0);q(this,Rt,void 0);q(this,xn,void 0);q(this,bn,void 0);q(this,Tn,void 0);q(this,qn,void 0);I(this,wn,e),I(this,nt,t)}async build(){let e=await Promise.all([N(this,na,xx).call(this),N(this,ia,bx).call(this)]),t=e[0][0][2];return I(this,vn,t[1]),I(this,xn,`v${t[0][0][6]}`),I(this,Ct,fc.CLIENTS.WEB.NAME),I(this,Rt,t[0][0][16]),I(this,bn,t[0][0][3]),I(this,qn,await new YC(e[1],l(this,nt)).init()),I(this,Tn,N(this,ta,vx).call(this)),this}get key(){return l(this,vn)}get context(){return l(this,Tn)}get api_version(){return l(this,xn)}get client_version(){return l(this,Rt)}get client_name(){return l(this,Ct)}get player(){return l(this,qn)}};n(ea,"SessionBuilder"),wn=new WeakMap,nt=new WeakMap,vn=new WeakMap,Ct=new WeakMap,Rt=new WeakMap,xn=new WeakMap,bn=new WeakMap,Tn=new WeakMap,qn=new WeakMap,ta=new WeakSet,vx=n(function(){let e=new GC({deviceCategory:"desktop"}),t=wx.generateRandomString(11),i=Math.floor(Date.now()/1e3),a=$C.encodeVisitorData(t,i);return{client:{hl:"en",gl:l(this,wn).gl||"US",remoteHost:l(this,bn),deviceMake:e.vendor,deviceModel:e.platform,visitorData:a,userAgent:e.toString(),clientName:l(this,Ct),clientVersion:l(this,Rt),originalUrl:fc.URLS.API.BASE},user:{lockedSafetyMode:!1},request:{useSsl:!0}}},"#buildContext"),na=new WeakSet,xx=n(async function(){let e=await l(this,nt).get(`${fc.URLS.YT_BASE}/sw.js_data`);return JSON.parse(e.data.replace(")]}'",""))},"#getYtConfig"),ia=new WeakSet,bx=n(async function(){let e=await l(this,nt).get(`${fc.URLS.YT_BASE}/iframe_api`);return wx.getStringBetweenStrings(e.data,"player\\/","\\/")},"#getPlayerId");Tx.exports=ea});var Sx=g((PA,Ex)=>{"use strict";var WC=S(),Pt,sa=class{constructor(e){q(this,Pt,void 0);I(this,Pt,WC.parseResponse(e)),this.sections=l(this,Pt).contents_memo.get("Element")}get page(){return l(this,Pt)}};n(sa,"Analytics"),Pt=new WeakMap;Ex.exports=sa});var Cx=g((kA,Ix)=>{"use strict";var kt=G(),$e=pe(),HC=Sx(),zC=ut(),xe,be,Pe,ra=class{constructor(e){q(this,be);q(this,xe,void 0);I(this,xe,e),this.channel={editName:t=>l(this,xe).channel("channel/edit_name",{new_name:t}),editDescription:t=>l(this,xe).channel("channel/edit_description",{new_description:t}),getBasicAnalytics:()=>this.getAnalytics()},this.settings={notifications:{setSubscriptions:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.SUBSCRIPTIONS,"SPaccount_notifications",t),setRecommendedVideos:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.RECOMMENDED_VIDEOS,"SPaccount_notifications",t),setChannelActivity:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.CHANNEL_ACTIVITY,"SPaccount_notifications",t),setCommentReplies:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.COMMENT_REPLIES,"SPaccount_notifications",t),setMentions:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.USER_MENTION,"SPaccount_notifications",t),setSharedContent:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.SHARED_CONTENT,"SPaccount_notifications",t)},privacy:{setSubscriptionsPrivate:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.SUBSCRIPTIONS_PRIVACY,"SPaccount_privacy",t),setSavedPlaylistsPrivate:t=>N(this,be,Pe).call(this,$e.ACCOUNT_SETTINGS.PLAYLISTS_PRIVACY,"SPaccount_privacy",t)}}}async getInfo(){let e=await l(this,xe).account("account/accounts_list",{client:"ANDROID"}),t=kt.findNode(e.data,"contents","accountItem",8,!1),i=t.accountItem.serviceEndpoint.signInEndpoint.directSigninUserProfile,a=i.accountName,s=i.email,r=i.accountPhoto.thumbnails,o=t.accountItem.accountByline.runs.map(d=>d.text).join(""),u=e.data.contents[0].accountSectionListRenderer.footers[0].accountChannelRenderer.navigationEndpoint.browseEndpoint.browseId;return{name:a,email:s,channel_id:u,subscriber_count:o,photo:r}}async getTimeWatched(){let e=await l(this,xe).browse("SPtime_watched",{client:"ANDROID"});return kt.findNode(e.data,"contents","statRowRenderer",11,!1).map(a=>{let s=a.statRowRenderer;if(s)return{title:s.title.runs.map(r=>r.text).join(""),time:s.contents.runs.map(r=>r.text).join("")}}).filter(a=>a)}async getAnalytics(){let e=await this.getInfo(),t=zC.encodeChannelAnalyticsParams(e.channel_id),i=await l(this,xe).browse("FEanalytics_screen",{params:t,client:"ANDROID"});return new HC(i.data)}};n(ra,"AccountManager"),xe=new WeakMap,be=new WeakSet,Pe=n(async function(e,t,i){kt.throwIfMissing({setting_id:e,type:t,new_value:i});let a={ON:!0,OFF:!1};if(!a.hasOwnProperty(i))throw new kt.InnertubeError("Invalid option",{option:i,available_options:Object.keys(a)});let s=await l(this,xe).browse(t),u=(()=>{switch(t.trim()){case"SPaccount_notifications":return kt.findNode(s.data,"contents","Your preferences",13,!1).options;case"SPaccount_privacy":return kt.findNode(s.data,"contents","settingsSwitchRenderer",13,!1).options;default:throw new TypeError("undefined is not a function")}})().find(h=>h.settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemIdForClient==e).settingsSwitchRenderer.enableServiceEndpoint.setSettingEndpoint.settingItemId;return await l(this,xe).account("account/set_setting",{new_value:t=="SPaccount_privacy"?!a[i]:a[i],setting_item_id:u})},"#setSetting");Ix.exports=ra});var Ge=g((LA,Px)=>{"use strict";var KC=S(),{InnertubeError:Rx}=G(),ce,ke,Lt,Z,En=class{constructor(e,t,i=!1){q(this,ce,void 0);q(this,ke,void 0);q(this,Lt,void 0);q(this,Z,void 0);t.on_response_received_actions||t.on_response_received_endpoints||i?I(this,ce,t):I(this,ce,KC.parseResponse(t)),I(this,Z,l(this,ce).on_response_received_commands?l(this,ce).on_response_received_commands_memo:l(this,ce).on_response_received_endpoints?l(this,ce).on_response_received_endpoints_memo:l(this,ce).contents?l(this,ce).contents_memo:l(this,ce).on_response_received_actions?l(this,ce).on_response_received_actions_memo:[]),I(this,Lt,e)}static getVideosFromMemo(e){let t=e.get("Video")||[],i=e.get("GridVideo")||[],a=e.get("CompactVideo")||[],s=e.get("PlaylistVideo")||[],r=e.get("PlaylistPanelVideo")||[],o=e.get("WatchCardCompactVideo")||[];return[...t,...i,...a,...s,...r,...o]}static getPlaylistsFromMemo(e){let t=e.get("Playlist")||[],i=e.get("GridPlaylist")||[];return[...t,...i]}get videos(){return En.getVideosFromMemo(l(this,Z))}get posts(){return l(this,Z).get("BackstagePost")||l(this,Z).get("Post")||[]}get channels(){let e=l(this,Z).get("Channel")||[],t=l(this,Z).get("GridChannel")||[];return[...e,...t]}get playlists(){return En.getPlaylistsFromMemo(l(this,Z))}get memo(){return l(this,Z)}get contents(){var a,s,r,o;let e=(s=(a=l(this,Z).get("Tab"))==null?void 0:a[0])==null?void 0:s.content,t=(r=l(this,Z).get("reloadContinuationItemsCommand"))==null?void 0:r[0],i=(o=l(this,Z).get("appendContinuationItemsAction"))==null?void 0:o[0];return e||t||i}get shelves(){let e=l(this,Z).get("Shelf")||[],t=l(this,Z).get("RichShelf")||[],i=l(this,Z).get("ReelShelf")||[];return[...e,...t,...i]}getShelf(e){return this.shelves.find(t=>t.title.toString()===e)}get secondary_contents(){var e;return(e=this.page.contents)==null?void 0:e.secondary_contents}get actions(){return l(this,Lt)}get page(){return l(this,ce)}get has_continuation(){return(l(this,Z).get("ContinuationItem")||[]).length>0}async getContinuationData(){if(l(this,ke)){if(l(this,ke).length>1)throw new Rx("There are too many continuations, you'll need to find the correct one yourself in this.page");if(l(this,ke).length===0)throw new Rx("There are no continuations");return await l(this,ke)[0].endpoint.call(l(this,Lt))}return I(this,ke,l(this,Z).get("ContinuationItem")),l(this,ke)?this.getContinuationData():null}async getContinuation(){let e=await this.getContinuationData();return new En(this.actions,e,!0)}},oa=En;n(oa,"Feed"),ce=new WeakMap,ke=new WeakMap,Lt=new WeakMap,Z=new WeakMap;Px.exports=oa});var la=g((AA,kx)=>{"use strict";var QC=Ge(),At,aa,ca=class extends QC{constructor(t,i,a=!1){super(t,i,a);q(this,At);let s=this.page.sidebar.contents.get({type:"PlaylistSidebarPrimaryInfo"}),r=this.page.sidebar.contents.get({type:"PlaylistSidebarSecondaryInfo"});this.info={...this.page.metadata,author:r.owner.author,thumbnails:s.thumbnail_renderer.thumbnail,total_items:N(this,At,aa).call(this,0,s),views:N(this,At,aa).call(this,1,s),last_updated:N(this,At,aa).call(this,2,s),can_share:this.page.header.can_share,can_delete:this.page.header.can_delete,is_editable:this.page.header.is_editable,privacy:this.page.header.privacy},this.menu=s.menu,this.endpoint=s.endpoint}get items(){return this.videos}};n(ca,"Playlist"),At=new WeakSet,aa=n(function(t,i){var a;return!i||!i.stats?"N/A":((a=i.stats[t])==null?void 0:a.toString())||"N/A"},"#getStat");kx.exports=ca});var Nx=g((NA,Ax)=>{"use strict";var Lx=la(),{InnertubeError:Kl,throwIfMissing:Sn}=G(),le,ua=class{constructor(e){q(this,le,void 0);I(this,le,e)}async create(e,t){Sn({title:e,video_ids:t});let i={title:e,videoIds:t},a=await l(this,le).execute("/playlist/create",{...i,parse:!1});return{playlist_id:a.data.playlistId,data:a.data}}async delete(e){Sn({playlist_id:e});let t=await l(this,le).execute("playlist/delete",{playlistId:e});return{playlist_id:e,data:t.data}}async addVideos(e,t){Sn({playlist_id:e,video_ids:t});let i={playlistId:e,actions:[]};i.actions=t.map(s=>({action:"ACTION_ADD_VIDEO",addedVideoId:s}));let a=await l(this,le).execute("/browse/edit_playlist",{...i,parse:!1});return{playlist_id:e,action_result:a.data.actions}}async removeVideos(e,t){Sn({playlist_id:e,video_ids:t});let i=await l(this,le).execute("/browse",{browseId:`VL${e}`,parse:!0}),a=new Lx(l(this,le),i,!0);if(!a.info.is_editable)throw new Kl("This playlist cannot be edited.",e);let s={playlistId:e,actions:[]},r=n(async u=>{if(u.videos.filter(h=>t.includes(h.id)).forEach(h=>s.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:h.set_video_id})),s.actions.length<t.length){let h=await u.getContinuation();return r(h)}},"getSetVideoIds");if(await r(a),!s.actions.length)throw new Kl("Given video ids were not found in this playlist.",t);let o=await l(this,le).execute("/browse/edit_playlist",{...s,parse:!1});return{playlist_id:e,action_result:o.data.actions}}async moveVideo(e,t,i){Sn({playlist_id:e,moved_video_id:t,predecessor_video_id:i});let a=await l(this,le).execute("/browse",{browseId:`VL${e}`,parse:!0}),s=new Lx(l(this,le),a,!0);if(!s.info.is_editable)throw new Kl("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},o,u,d=n(async m=>{let w=m.videos.find(y=>t===y.id),x=m.videos.find(y=>i===y.id);if(o=o||(w==null?void 0:w.set_video_id),u=u||(x==null?void 0:x.set_video_id),!o||!u){let y=await m.getContinuation();return d(y)}},"getSetVideoIds");await d(s),r.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:o,movedSetVideoIdPredecessor:u});let h=await l(this,le).execute("/browse/edit_playlist",{...r,parse:!1});return{playlist_id:e,action_result:h.data.actions}}};n(ua,"PlaylistManager"),le=new WeakMap;Ax.exports=ua});var Ux=g((OA,Ox)=>{"use strict";var Le=G(),Te,ha=class{constructor(e){q(this,Te,void 0);I(this,Te,e)}async like(e){return Le.throwIfMissing({video_id:e}),await l(this,Te).engage("like/like",{video_id:e})}async dislike(e){return Le.throwIfMissing({video_id:e}),await l(this,Te).engage("like/dislike",{video_id:e})}async removeLike(e){return Le.throwIfMissing({video_id:e}),await this.actions.engage("like/removelike",{video_id:e})}async subscribe(e){return Le.throwIfMissing({channel_id:e}),await l(this,Te).engage("subscription/subscribe",{channel_id:e})}async unsubscribe(e){return Le.throwIfMissing({channel_id:e}),await l(this,Te).engage("subscription/unsubscribe",{channel_id:e})}async comment(e,t){return Le.throwIfMissing({video_id:e,text:t}),await l(this,Te).engage("comment/create_comment",{video_id:e,text:t})}async translate(e,t,i={}){Le.throwIfMissing({text:e,target_language:t});let a=await await l(this,Te).engage("comment/perform_comment_action",{video_id:i.video_id,comment_id:i.comment_id,target_language:t,comment_action:"translate",text:e}),s=Le.findNode(a.data,"frameworkUpdates","content",7,!1);return{success:a.success,status_code:a.status_code,translated_content:s.content,data:a.data}}async setNotificationPreferences(e,t){return Le.throwIfMissing({channel_id:e,type:t}),await l(this,Te).notifications("modify_channel_preference",{channel_id:e,pref:t||"NONE"})}};n(ha,"InteractionManager"),Te=new WeakMap;Ox.exports=ha});var Mx=g((UA,Bx)=>{"use strict";var JC=Ge(),{InnertubeError:Dx}=G(),it=class extends JC{constructor(e,t,i=!1){var u,d,h;super(e,t,i);let a=((u=this.page.contents)==null?void 0:u.primary_contents.contents)||this.page.on_response_received_commands[0].contents,s=(h=(d=this.page.contents)==null?void 0:d.secondary_contents)==null?void 0:h.contents;this.results=a.get({type:"ItemSection"}).contents;let r=this.results.get({type:"HorizontalCardList"},!0),o=s==null?void 0:s.get({type:"UniversalWatchCard"});this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.watch_card={header:(o==null?void 0:o.header)||null,call_to_action:(o==null?void 0:o.call_to_action)||null,sections:(o==null?void 0:o.sections)||[]},this.refinement_cards={header:(r==null?void 0:r.header)||null,cards:(r==null?void 0:r.cards)||[]}}async selectRefinementCard(e){let t;if(typeof e=="string"){if(t=this.refinement_cards.cards.get({query:e}),!t)throw new Dx("Refinement card not found!",{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")t=e;else throw new Dx("Invalid refinement card!");let i=await t.endpoint.call(this.actions);return new it(this.actions,i,!0)}get refinement_card_queries(){return this.refinement_cards.cards.map(e=>e.query)}async getContinuation(){let e=await this.getContinuationData();return new it(this.actions,e,!0)}};n(it,"Search");Bx.exports=it});var $x=g((DA,Yx)=>{"use strict";var Ql=S(),XC=require("events"),st,Ae,Nt,Ot,In,Cn,Rn,Jl,pa,Vx,Pn,Xl,ma,Fx,da=class{constructor(e){q(this,Rn);q(this,pa);q(this,Pn);q(this,ma);ie(this,"ev");q(this,st,void 0);q(this,Ae,void 0);q(this,Nt,void 0);q(this,Ot,void 0);q(this,In,1e3);q(this,Cn,5e3);ie(this,"initial_info");ie(this,"live_metadata");ie(this,"running",!1);ie(this,"is_replay",!1);I(this,Ae,e),I(this,st,e.actions),I(this,Nt,l(this,Ae).livechat.continuation),this.is_replay=l(this,Ae).livechat.is_replay,this.live_metadata={title:null,description:null,views:null,likes:null,date:null},this.ev=new XC}start(){this.running||(this.running=!0,N(this,Rn,Jl).call(this),N(this,Pn,Xl).call(this))}stop(){this.running=!1}async sendMessage(e){let t=await l(this,st).livechat("live_chat/send_message",{text:e,video_id:l(this,Ae).basic_info.id,channel_id:l(this,Ae).basic_info.channel_id});return Ql.parseResponse(t.data).actions}};n(da,"LiveChat"),st=new WeakMap,Ae=new WeakMap,Nt=new WeakMap,Ot=new WeakMap,In=new WeakMap,Cn=new WeakMap,Rn=new WeakSet,Jl=n(function(){let e=setTimeout(()=>{(async()=>{let t=this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",i=await l(this,st).livechat(t,{ctoken:l(this,Nt)}),s=Ql.parseResponse(i.data).continuation_contents;I(this,Nt,s.continuation.token),I(this,In,s.continuation.timeout_ms),s.header?(this.initial_info=s,this.ev.emit("start",s)):await N(this,pa,Vx).call(this,s.actions),clearTimeout(e),this.running&&N(this,Rn,Jl).call(this)})().catch(t=>Promise.reject(t))},l(this,In))},"#pollLivechat"),pa=new WeakSet,Vx=n(async function(e){let i=e.length<125?1:0,a=i==1?(i=1e4/e.length,i*=Math.random()+.5,i=Math.min(1e3,i),i=Math.max(80,i)):i=80;for(let s of e)await N(this,ma,Fx).call(this,a),this.ev.emit("chat-update",s)},"#emitSmoothedActions"),Pn=new WeakSet,Xl=n(function(){let e=setTimeout(()=>{(async()=>{var s,r,o,u,d;let t={video_id:l(this,Ae).basic_info.id};l(this,Ot)&&(t.ctoken=l(this,Ot));let i=await l(this,st).livechat("updated_metadata",t),a=Ql.parseResponse(i.data);I(this,Ot,a.continuation.token),I(this,Cn,a.continuation.timeout_ms),this.metadata={title:a.actions.get({type:"UpdateTitleAction"})||((s=this.metadata)==null?void 0:s.title),description:a.actions.get({type:"UpdateDescriptionAction"})||((r=this.metadata)==null?void 0:r.description),views:a.actions.get({type:"UpdateViewershipAction"})||((o=this.metadata)==null?void 0:o.views),likes:a.actions.get({type:"UpdateToggleButtonTextAction"})||((u=this.metadata)==null?void 0:u.likes),date:a.actions.get({type:"UpdateDateTextAction"})||((d=this.metadata)==null?void 0:d.date)},this.ev.emit("metadata-update",this.metadata),clearTimeout(e),this.running&&N(this,Pn,Xl).call(this)})().catch(t=>Promise.reject(t))},l(this,Cn))},"#pollMetadata"),ma=new WeakSet,Fx=n(async function(e){return new Promise(t=>setTimeout(()=>t(),e))},"#wait");Yx.exports=da});var Qx=g((BA,Kx)=>{"use strict";var{InnertubeError:ue}=G(),{PassThrough:ZC,Readable:Gx}=require("stream-browserify"),Zl=require("axios"),Wx=S(),jC=$x(),Hx=pe(),zx=Zl.CancelToken,kn,Ce,Ln,Ut,Dt,ga=class{constructor(e,t,i,a){q(this,kn,void 0);q(this,Ce,void 0);q(this,Ln,void 0);q(this,Ut,void 0);q(this,Dt,void 0);var d,h,m,w,x,y;I(this,Ce,t),I(this,Ln,i),I(this,Ut,a);let s=Wx.parseResponse(e[0]),r=Wx.parseResponse(e[1].data||{});if(I(this,kn,[s,r]),s.playability_status.status==="ERROR")throw new ue("This video is unavailable",s.playability_status);this.basic_info={...s.video_details,embed:s.microformat.embed,channel:s.microformat.channel,is_unlisted:s.microformat.is_unlisted,is_family_safe:s.microformat.is_family_safe,has_ypc_metadata:s.microformat.has_ypc_metadata},this.streaming_data=s.streaming_data||null,this.playability_status=s.playability_status,this.annotations=s.annotations,this.storyboards=s.storyboards,this.endscreen=s.endscreen,this.captions=s.captions,this.cards=s.cards;let o=(d=r.contents)==null?void 0:d.results,u=(h=r.contents)==null?void 0:h.secondary_results;if(o&&u){this.primary_info=o.get({type:"VideoPrimaryInfo"}),this.secondary_info=o.get({type:"VideoSecondaryInfo"}),this.merchandise=(o==null?void 0:o.get({type:"MerchandiseShelf"}))||null,this.related_chip_cloud=(m=u==null?void 0:u.get({type:"RelatedChipCloud"}))==null?void 0:m.content,this.watch_next_feed=(w=u==null?void 0:u.get({type:"ItemSection"}))==null?void 0:w.contents,I(this,Dt,(x=this.watch_next_feed)==null?void 0:x.pop()),this.player_overlays=r.player_overlays,this.basic_info.like_count=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).like_count,this.basic_info.is_liked=this.primary_info.menu.top_level_buttons.get({icon_type:"LIKE"}).is_toggled,this.basic_info.is_disliked=this.primary_info.menu.top_level_buttons.get({icon_type:"DISLIKE"}).is_toggled;let _=o.get({target_id:"comments-entry-point"});this.comments_entry_point_header=(_==null?void 0:_.contents.get({type:"CommentsEntryPointHeader"}))||null,this.livechat=((y=r.contents_memo.get("LiveChat"))==null?void 0:y[0])||null}}async selectFilter(e){if(!this.filters.includes(e))throw new ue("Invalid filter",{available_filters:this.filters});let t=this.related_chip_cloud.chips.get({text:e});if(t.is_selected)return this;let a=(await t.endpoint.call(l(this,Ce))).on_response_received_endpoints.get({target_id:"watch-next-feed"});return this.watch_next_feed=a.contents,this}async getWatchNextContinuation(){let t=(await l(this,Dt).endpoint.call(l(this,Ce))).on_response_received_endpoints.get({type:"appendContinuationItemsAction"});return this.watch_next_feed=t.contents,I(this,Dt,this.watch_next_feed.pop()),this.watch_next_feed}async like(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_LIKE"});if(e.is_toggled)throw new ue("This video is already liked",{video_id:this.basic_info.id});return await e.endpoint.call(l(this,Ce))}async dislike(){let e=this.primary_info.menu.top_level_buttons.get({button_id:"TOGGLE_BUTTON_ID_TYPE_DISLIKE"});if(e.is_toggled)throw new ue("This video is already disliked",{video_id:this.basic_info.id});return await e.endpoint.call(l(this,Ce))}async removeLike(){let e=this.primary_info.menu.top_level_buttons.get({is_toggled:!0});if(!e)throw new ue("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(l(this,Ce))}async getLiveChat(e){if(!this.livechat)throw new ue("Live Chat is not available",{video_id:this.id});return new jC(this,e)}get filters(){var e;return((e=this.related_chip_cloud)==null?void 0:e.chips.map(t=>t.text.toString()))||[]}get actions(){return l(this,Ce)}get page(){return l(this,kn)}get music_tracks(){let e=this.secondary_info.metadata;if(!e)return[];let t=[],i={},a=!1;for(let s=0;s<e.rows.length;s++){let r=e.rows[s];if(r.type==="MetadataRowHeader"){r.content.toString().toLowerCase().startsWith("music")&&(a=!0,s++);continue}!a||(i[r.title.toString().toLowerCase().replace(/ /g,"_")]=r.contents,r.has_divider_line&&(t.push(i),i={}))}return a&&t.push(i),t}chooseFormat(e){let t=[...this.streaming_data.formats||[],...this.streaming_data.adaptive_formats||[]],i=e.type.includes("audio"),a=e.type.includes("video"),s=-1,r=["best","bestefficiency"].includes(e.quality),o=e.quality!=="best",u=t.filter(d=>i&&!d.has_audio||a&&!d.has_video||e.format!=="any"&&!d.mime_type.includes(e.format)||!r&&d.quality_label!==e.quality?!1:(s<d.width&&(s=d.width),!0));if(u.length===0)throw new ue("No matching formats found",{options:e});if(r&&a&&(u=u.filter(d=>d.width===s)),i&&!a){let d=u.filter(h=>!h.has_video);d.length>0&&(u=d)}return o?u.sort((d,h)=>d.bitrate-h.bitrate):u.sort((d,h)=>h.bitrate-d.bitrate),u[0]}download(e={},t){let i=t||new ZC,a,s=!1;return(async()=>{if(this.playability_status==="UNPLAYABLE")return i.emit("error",new ue("Video is unplayable",{video:this,error_type:"UNPLAYABLE"}));if(this.playability_status==="LOGIN_REQUIRED")return i.emit("error",new ue("Video is login required",{video:this,error_type:"LOGIN_REQUIRED"}));if(!this.streaming_data)return i.emit("error",new ue("Streaming data not available.",{video:this,error_type:"NO_STREAMING_DATA"}));let r={quality:"360p",type:"videoandaudio",format:"mp4",range:void 0,...e},o=this.chooseFormat(r),u=o.decipher(l(this,Ln));if(r.type==="videoandaudio"&&!e.range){let d=await Zl.get(`${u}&cpn=${l(this,Ut)}`,{responseType:"stream",cancelToken:new zx(n(function(w){a=w},"executor")),headers:Hx.STREAM_HEADERS}).catch(m=>m);if(d instanceof Error)return i.emit("error",new ue(d.message,{type:"REQUEST_FAILED"})),i;i.emit("start");let h=0;if(typeof d.data=="object")d.data.on("data",m=>{h+=m.length;let w=(d.headers["content-length"]/1024/1024).toFixed(2),x=Math.floor(h/d.headers["content-length"]*100);i.emit("progress",{size:w,percentage:x,chunk_size:m.length,downloaded_size:(h/1024/1024).toFixed(2),raw_data:{chunk_size:m.length,downloaded:h,size:d.headers["content-length"]}})}),d.data.on("error",m=>{s&&i.emit("error",new ue("The download was cancelled.",{type:"DOWNLOAD_CANCELLED"}))||i.emit("error",new ue(m.message,{type:"DOWNLOAD_ABORTED"}))}),d.data.pipe(i,{end:!0});else{let m=new Gx;m.push(d.data),m.pipe(i,{end:!0})}}else{let h=e.range?e.range.start:0,m=e.range?e.range.end:10485760,w=0,x=!1;i.emit("start");let y=n(async()=>{(m>=o.content_length||e.range)&&(x=!0),e.range&&(o.content_length=e.range.end);let _=await Zl.get(`${u}&cpn=${l(this,Ut)}&range=${h}-${m||""}`,{responseType:"stream",cancelToken:new zx(n(function(R){a=R},"executor")),headers:Hx.STREAM_HEADERS}).catch(T=>T);if(_ instanceof Error)return i.emit("error",{message:_.message,type:"REQUEST_FAILED"}),i;if(typeof _.data=="object")_.data.on("data",T=>{w+=T.length;let R=(_.headers["content-length"]/1024/1024).toFixed(2),k=Math.floor(w/_.headers["content-length"]*100);i.emit("progress",{size:R,percentage:k,chunk_size:T.length,downloaded_size:(w/1024/1024).toFixed(2),raw_data:{chunk_size:T.length,downloaded:w,size:_.headers["content-length"]}})}),_.data.on("error",T=>{s&&i.emit("error",{message:"The download was cancelled.",type:"DOWNLOAD_CANCELLED"})||i.emit("error",{message:T.message,type:"DOWNLOAD_ABORTED"})}),_.data.on("end",()=>{!x&&!e.range&&(h=m+1,m+=10485760,y())}),_.data.pipe(i,{end:x});else{let T=new Gx;T.push(_.data),T.pipe(i,{end:x})}},"downloadChunk");y()}})().catch(r=>{i.emit("error",r)}),i.cancel=()=>{s=!0,a&&a()},i}};n(ga,"VideoInfo"),kn=new WeakMap,Ce=new WeakMap,Ln=new WeakMap,Ut=new WeakMap,Dt=new WeakMap;Kx.exports=ga});var fl=g((MA,Jx)=>{"use strict";var{InnertubeError:fC}=G(),e0=Ge(),Bt,Mt,jl=class extends e0{constructor(t,i,a=!1){super(t,i,a);q(this,Bt,void 0);q(this,Mt,void 0);I(this,Mt,t),I(this,Bt,this.page.contents_memo.get("Tab"))}get tabs(){return l(this,Bt).map(t=>t.title.toString())}async getTab(t){let i=l(this,Bt).find(s=>s.title.toLowerCase()===t.toLowerCase());if(!i)throw new fC(`Tab "${t}" not found`);if(i.selected)return this;let a=await i.endpoint.call(l(this,Mt));return new jl(l(this,Mt),a,!0)}get title(){var t,i;return(i=(t=this.page.contents_memo("Tab"))==null?void 0:t.find(a=>a.selected))==null?void 0:i.title.toString()}},_a=jl;n(_a,"TabbedFeed"),Bt=new WeakMap,Mt=new WeakMap;Jx.exports=_a});var Zx=g((VA,Xx)=>{"use strict";var t0=fl(),eu,rt=class extends t0{constructor(t,i,a=!1){super(t,i,a);q(this,eu,void 0);this.header={author:this.page.header.author,subscribers:this.page.header.subscribers.toString(),banner:this.page.header.banner,tv_banner:this.page.header.tv_banner,mobile_banner:this.page.header.mobile_banner,header_links:this.page.header.header_links},this.metadata={...this.page.metadata,...this.page.microformat},this.sponsor_button=this.page.header.sponsor_button||null,this.subscribe_button=this.page.header.subscribe_button||null;let s=this.page.contents.tabs.get({selected:!0});this.current_tab=s}async getVideos(){let t=await this.getTab("Videos");return new rt(this.actions,t.page,!0)}async getPlaylists(){let t=await this.getTab("Playlists");return new rt(this.actions,t.page,!0)}async getHome(){let t=await this.getTab("Home");return new rt(this.actions,t.page,!0)}async getCommunity(){let t=await this.getTab("Community");return new rt(this.actions,t.page,!0)}async getChannels(){let t=await this.getTab("Channels");return new rt(this.actions,t.page,!0)}async getAbout(){var i;return(i=(await this.getTab("About")).memo.get("ChannelAboutFullMetadata"))==null?void 0:i[0]}},ya=rt;n(ya,"Channel"),eu=new WeakMap;Xx.exports=ya});var tu=g((FA,jx)=>{"use strict";var n0=Ge(),Vt=class extends n0{constructor(e,t,i=!1){var a;super(e,t,i),this.sections=this.memo.get("ItemSection"),this.feed_actions=((a=this.memo.get("BrowseFeedActions"))==null?void 0:a[0])||[]}async getContinuation(){let e=await this.getContinuationData();return new Vt(this.actions,e,!0)}};n(Vt,"History");jx.exports=Vt});var tb=g((YA,eb)=>{"use strict";var i0=S(),s0=tu(),r0=la(),o0=Ge(),{observe:c0}=G(),We,He,va,fx,wa=class{constructor(e,t){q(this,va);q(this,We,void 0);q(this,He,void 0);I(this,We,t),I(this,He,i0.parseResponse(e));let a=l(this,He).contents.tabs.get({selected:!0}).content.contents.map(o=>o.contents[0]),s=l(this,He).contents.secondary_contents.items.get({type:"ProfileColumnStats"}).items,r=l(this,He).contents.secondary_contents.items.get({type:"ProfileColumnUserInfo"});this.profile={stats:s,user_info:r},this.sections=c0(a.map(o=>({type:o.icon_type,title:o.title,contents:o.content.items,getAll:()=>N(this,va,fx).call(this,o)})))}get history(){return this.sections.get({type:"WATCH_HISTORY"})}get watch_later(){return this.sections.get({type:"WATCH_LATER"})}get liked_videos(){return this.sections.get({type:"LIKE"})}get playlists(){return this.sections.get({type:"PLAYLISTS"})}get clips(){return this.sections.get({type:"CONTENT_CUT"})}get page(){return l(this,He)}};n(wa,"Library"),We=new WeakMap,He=new WeakMap,va=new WeakSet,fx=n(async function(e){var a;if(!((a=e.menu)!=null&&a.top_level_buttons))throw new Error(`The ${e.title.text} section doesn't have more items`);let i=await(await e.menu.top_level_buttons.get({text:"See all"})).endpoint.call(l(this,We));switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new r0(l(this,We),i,!0);case"WATCH_HISTORY":return new s0(l(this,We),i,!0);case"CONTENT_CUT":return new o0(l(this,We),i,!0);default:}},"#getAll");eb.exports=wa});var ib=g(($A,nb)=>{"use strict";var a0=S(),{InnertubeError:l0}=G(),ot,Ne,Ft,nu=class{constructor(e,t,i=!1){q(this,ot,void 0);q(this,Ne,void 0);q(this,Ft,void 0);var r,o;I(this,ot,i?t:a0.parseResponse(t)),I(this,Ne,e);let a=l(this,ot).on_response_received_endpoints;this.header=a[0].contents.get({type:"CommentsHeader"});let s=((r=a[1].contents)==null?void 0:r.findAll({type:"CommentThread"}))||[];this.contents=s.map(u=>(u.comment.setActions(l(this,Ne)),u.setActions(l(this,Ne)),u)),I(this,Ft,((o=a[1].contents)==null?void 0:o.get({type:"ContinuationItem"}))||null)}async comment(e){let t=this.header.create_renderer.submit_button,i={params:{commentText:e},parse:!1};return await t.endpoint.callTest(l(this,Ne),i)}async getContinuation(){if(!l(this,Ft))throw new l0("Continuation not found");let e=await l(this,Ft).endpoint.callTest(l(this,Ne)),t=Object.assign({},l(this,ot));return t.on_response_received_endpoints.pop(),t.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new nu(l(this,Ne),t,!0)}get page(){return l(this,ot)}},xa=nu;n(xa,"Comments"),ot=new WeakMap,Ne=new WeakMap,Ft=new WeakMap;nb.exports=xa});var rb=g((GA,sb)=>{"use strict";var u0=S(),{InnertubeError:h0}=G(),ze,Yt,iu,su=class{constructor(e,t){q(this,ze,void 0);q(this,Yt,void 0);q(this,iu,void 0);var i;I(this,Yt,e),I(this,ze,u0.parseResponse(t)),this.header=((i=l(this,ze).actions_memo.get("SimpleMenuHeader"))==null?void 0:i[0])||null,this.contents=l(this,ze).actions_memo.get("Notification")}async getContinuation(){var i;let e=(i=l(this,ze).actions_memo.get("ContinuationItem"))==null?void 0:i[0];if(!e)throw new h0("Continuation not found");let t=await e.endpoint.callTest(l(this,Yt),{parse:!1});return new su(l(this,Yt),t.data)}get page(){return l(this,ze)}},ba=su;n(ba,"NotificationsMenu"),ze=new WeakMap,Yt=new WeakMap,iu=new WeakMap;sb.exports=ba});var lb=g((WA,ab)=>{"use strict";var ob=S(),{observe:d0,InnertubeError:ru}=G(),$t,Oe,Ke,Gt,qa,cb,Ea=class{constructor(e,t,i={}){q(this,qa);q(this,$t,void 0);q(this,Oe,void 0);q(this,Ke,void 0);q(this,Gt,void 0);I(this,Oe,t),I(this,$t,i.is_continuation&&e||ob.parseResponse(e.data));let a=l(this,$t).contents.tabs.get({selected:!0}),s=a.content.contents,r=s.get({type:"ItemSection"});if(I(this,Gt,a.content.header),this.did_you_mean=(r==null?void 0:r.contents.get({type:"DidYouMean"}))||null,this.showing_results_for=(r==null?void 0:r.contents.get({type:"ShowingResultsFor"}))||null,(!!this.did_you_mean||!!this.showing_results_for)&&s.shift(),i.is_continuation||i.is_filtered){let o=s.get({type:"MusicShelf"});this.results=o.contents,I(this,Ke,o.continuation);return}this.sections=d0(s.map(o=>({title:o.title,contents:o.contents,getMore:()=>N(this,qa,cb).call(this,o)})))}async getContinuation(){var i,a,s;if(!l(this,Ke))throw new ru("Looks like you've reached the end");let t=(await l(this,Oe).search({ctoken:l(this,Ke),client:"YTMUSIC"})).data.continuationContents.musicShelfContinuation;return this.results=ob.parse(t.contents),I(this,Ke,(s=(a=(i=t==null?void 0:t.continuations)==null?void 0:i[0])==null?void 0:a.nextContinuationData)==null?void 0:s.continuation),this}async selectFilter(e){if(!this.filters.includes(e))throw new ru("Invalid filter",{available_filters:this.filters});let t=l(this,Gt).chips.get({text:e});if(t.is_selected)return this;let i=await t.endpoint.call(l(this,Oe),"YTMUSIC");return new Ea(i,l(this,Oe),{is_continuation:!0})}get has_continuation(){return!!l(this,Ke)}get filters(){return l(this,Gt).chips.map(e=>e.text)}get songs(){return this.sections.get({title:"Songs"})}get videos(){return this.sections.get({title:"Videos"})}get albums(){return this.sections.get({title:"Albums"})}get artists(){return this.sections.get({title:"Artists"})}get playlists(){return this.sections.get({title:"Community playlists"})}get page(){return l(this,$t)}},Ta=Ea;n(Ta,"Search"),$t=new WeakMap,Oe=new WeakMap,Ke=new WeakMap,Gt=new WeakMap,qa=new WeakSet,cb=n(async function(e){if(!e.endpoint)throw new ru(`${e.title} doesn't have more items`);let t=await e.endpoint.call(l(this,Oe),"YTMUSIC");return new Ea(t,l(this,Oe),{is_continuation:!0})},"#getMore");ab.exports=Ta});var hb=g((HA,ub)=>{"use strict";var p0=S(),Qe,Wt,An,ou=class{constructor(e,t){q(this,Qe,void 0);q(this,Wt,void 0);q(this,An,void 0);var a,s;I(this,Wt,t),I(this,Qe,p0.parseResponse(e.data));let i=l(this,Qe).contents.tabs.get({title:"Home"});I(this,An,((a=i.content)==null?void 0:a.continuation)||l(this,Qe).continuation_contents.continuation),this.sections=((s=i.content)==null?void 0:s.contents)||l(this,Qe).continuation_contents.contents}async getContinuation(){let e=await l(this,Wt).browse(l(this,An),{is_ctoken:!0,client:"YTMUSIC"});return new ou(e,l(this,Wt))}get page(){return l(this,Qe)}},Sa=ou;n(Sa,"HomeFeed"),Qe=new WeakMap,Wt=new WeakMap,An=new WeakMap;ub.exports=Sa});var pb=g((zA,db)=>{"use strict";var m0=S(),Nn,Ia=class{constructor(e){q(this,Nn,void 0);I(this,Nn,m0.parseResponse(e.data));let t=this.page.contents.tabs.get({selected:!0});this.top_buttons=t.content.contents.get({type:"Grid"}).items,this.sections=t.content.contents.findAll({type:"MusicCarouselShelf"})}get page(){return l(this,Nn)}};n(Ia,"Explore"),Nn=new WeakMap;db.exports=Ia});var gb=g((KA,mb)=>{"use strict";var g0=S(),On,Ca=class{constructor(e){q(this,On,void 0);I(this,On,g0.parseResponse(e.data))}get page(){return l(this,On)}};n(Ca,"Library"),On=new WeakMap;mb.exports=Ca});var yb=g((QA,_b)=>{"use strict";var _0=S(),{observe:y0}=G(),ct,Un,Ra=class{constructor(e,t){q(this,ct,void 0);q(this,Un,void 0);I(this,ct,_0.parseResponse(e.data)),I(this,Un,t),this.header=this.page.header;let i=l(this,ct).contents_memo.get("MusicShelf"),a=l(this,ct).contents_memo.get("MusicCarouselShelf");this.sections=y0([...i,...a])}async getAllSongs(){var i;return((i=(await this.sections.get({type:"MusicShelf"}).endpoint.call(l(this,Un),"YTMUSIC")).contents_memo.get("MusicPlaylistShelf"))==null?void 0:i[0])||[]}get page(){return l(this,ct)}};n(Ra,"Artist"),ct=new WeakMap,Un=new WeakMap;_b.exports=Ra});var vb=g((JA,wb)=>{"use strict";var w0=S(),Ue,ka,Pa=class{constructor(e,t){q(this,Ue,void 0);q(this,ka,void 0);var i;I(this,Ue,w0.parseResponse(e.data)),I(this,ka,t),this.header=l(this,Ue).header,this.url=l(this,Ue).microformat.url_canonical,this.contents=(i=l(this,Ue).contents_memo.get("MusicShelf"))==null?void 0:i[0].contents,this.sections=l(this,Ue).contents_memo.get("MusicCarouselShelf")||[]}get page(){return l(this,Ue)}};n(Pa,"Album"),Ue=new WeakMap,ka=new WeakMap;wb.exports=Pa});var bb=g((XA,xb)=>{"use strict";var cu=S(),v0=lb(),x0=hb(),b0=pb(),T0=gb(),q0=yb(),E0=vb(),{InnertubeError:Ht,throwIfMissing:zt,observe:S0}=G(),Aa,J,La=class{constructor(e){q(this,Aa,void 0);q(this,J,void 0);I(this,Aa,e),I(this,J,e.actions)}async search(e,t){zt({query:e});let i=await l(this,J).search({query:e,filters:t,client:"YTMUSIC"});return new v0(i,l(this,J),{is_filtered:(t==null?void 0:t.hasOwnProperty("type"))&&t.type!=="all"})}async getHomeFeed(){let e=await l(this,J).browse("FEmusic_home",{client:"YTMUSIC"});return new x0(e,l(this,J))}async getExplore(){let e=await l(this,J).browse("FEmusic_explore",{client:"YTMUSIC"});return new b0(e,l(this,J))}async getLibrary(){let e=await l(this,J).browse("FEmusic_liked_albums",{client:"YTMUSIC"});return new T0(e,l(this,J))}async getArtist(e){if(zt({artist_id:e}),!e.startsWith("UC"))throw new Ht("Invalid artist id",e);let t=await l(this,J).browse(e,{client:"YTMUSIC"});return new q0(t,l(this,J))}async getAlbum(e){if(zt({album_id:e}),!e.startsWith("MPR"))throw new Ht("Invalid album id",e);let t=await l(this,J).browse(e,{client:"YTMUSIC"});return new E0(t,l(this,J))}async getLyrics(e){zt({video_id:e});let t=await l(this,J).next({video_id:e,client:"YTMUSIC"}),s=await cu.parseResponse(t.data).contents.tabs.get({title:"Lyrics"}).endpoint.call(l(this,J),"YTMUSIC");if(!s)throw new Ht("Invalid video id");if(s.contents.constructor.name==="Message")throw new Ht(s.contents.text,e);let r=s.contents.contents.get({type:"MusicDescriptionShelf"});return{text:r.description.toString(),footer:r.footer}}async getUpNext(e){zt({video_id:e});let t=await l(this,J).next({video_id:e,client:"YTMUSIC"}),s=cu.parseResponse(t.data).contents.tabs.get({title:"Up next"}).content.content;if(!s)throw new Ht("Invalid id",e);return{id:s.playlist_id,title:s.title,is_editable:s.is_editable,contents:S0(s.contents)}}async getRelated(e){zt({video_id:e});let t=await l(this,J).next({video_id:e,client:"YTMUSIC"}),s=await cu.parseResponse(t.data).contents.tabs.get({title:"Related"}).endpoint.call(l(this,J),"YTMUSIC");if(!s)throw new Ht("Invalid video id");let r=s.contents.contents.findAll({type:"MusicCarouselShelf"}),o=s.contents.contents.get({type:"MusicDescriptionShelf"});return{sections:r,info:(o==null?void 0:o.description.toString())||""}}async getSearchSuggestions(e){var s;let t={parse:!0,input:e,client:"YTMUSIC"},a=(s=(await l(this,J).execute("/music/get_search_suggestions",t)).contents_memo.get("SearchSuggestionsSection"))==null?void 0:s[0];return(a==null?void 0:a.contents)||[]}};n(La,"Music"),Aa=new WeakMap,J=new WeakMap;xb.exports=La});var Eb=g((ZA,qb)=>{"use strict";var{InnertubeError:Na}=G(),Tb=Ge(),at,Oa=class extends Tb{constructor(t,i,a=!1){super(t,i,a);q(this,at,void 0)}get filter_chips(){var t,i;if(l(this,at))return l(this,at)||[];if(((t=this.memo.get("FeedFilterChipBar"))==null?void 0:t.length)>1)throw new Na("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.get("FeedFilterChipBar"))==null?void 0:i.length)===0)throw new Na("There are no feed filter chipbars");return I(this,at,this.memo.get("ChipCloudChip")||[]),l(this,at)||[]}get filters(){return this.filter_chips.map(t=>t.text.toString())||[]}async getFilteredFeed(t){let i;if(typeof t=="string"){if(!this.filters.includes(t))throw new Na("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(s=>s.text.toString()===t)}else if(t.type==="ChipCloudChip")i=t;else throw new Na("Invalid filter");if(i.is_selected)return this;let a=await i.endpoint.call(this.actions);return new Tb(this.actions,a,!0)}};n(Oa,"FilterableFeed"),at=new WeakMap;qb.exports=Oa});var Pb=g((jA,Rb)=>{"use strict";var I0=require("axios"),Dn=pe(),Kt=G(),Je,he,Da,Sb,Ba,Ib,Ma,Cb,Ua=class{constructor(e){q(this,Da);q(this,Ba);q(this,Ma);q(this,Je,void 0);q(this,he,void 0);this.config=e,I(this,Je,I0.create({proxy:e.proxy,httpAgent:e.http_agent,httpsAgent:e.https_agent,params:{prettyPrint:!1},headers:{accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json","user-agent":Kt.getRandomUserAgent("desktop").userAgent},validateStatus:()=>!0,timeout:15e3})),N(this,Da,Sb).call(this),N(this,Ba,Ib).call(this)}setSession(e){I(this,he,e)}get instance(){return l(this,Je)}};n(Ua,"Request"),Je=new WeakMap,he=new WeakMap,Da=new WeakSet,Sb=n(function(){l(this,Je).interceptors.request.use(async e=>{if(l(this,he)){let t=`${Dn.URLS.API.PRODUCTION}${l(this,he).version}`;e.baseURL=e.baseURL||t,e.headers["accept-language"]=`en-${l(this,he).config.gl||"US"}`,e.headers["x-goog-visitor-id"]=l(this,he).context.client.visitorData||"",e.headers["x-youtube-client-version"]=l(this,he).context.client.clientVersion,e.headers["x-origin"]=new URL(e.baseURL).origin,e.headers.origin=new URL(e.baseURL).origin,e.params.key=l(this,he).key;let i=e.baseURL==t;if(i&&typeof e.data=="object"&&(e.data={context:JSON.parse(JSON.stringify(l(this,he).context)),...e.data},N(this,Ma,Cb).call(this,e.data.context,e.data.client),e.headers["x-youtube-client-version"]=e.data.context.client.clientVersion,delete e.data.client),l(this,he).logged_in&&i){let a=l(this,he).oauth;if(a.validateCredentials()&&(await a.checkAccessTokenValidity(),e.headers.authorization=`Bearer ${a.credentials.access_token}`,delete e.params.key),this.config.cookie){let s=Kt.getStringBetweenStrings(this.config.cookie,"PAPISID=",";");e.headers.authorization=Kt.generateSidAuth(s),e.headers.cookie=this.config.cookie}}}if(this.config.debug){let t=`${e.baseURL?`${e.baseURL}`:""}${e.url}`;console.info(`
`,`[${e.method.toUpperCase()}] > ${t}`,`
`,(e==null?void 0:e.data)||"N/A",`
`)}return e},e=>{throw new Kt.InnertubeError(e.message,e)})},"#setupRequestInterceptor"),Ba=new WeakSet,Ib=n(function(){l(this,Je).interceptors.response.use(e=>{let t={success:e.status===200,status_code:e.status,data:e.data};if(e.status!==200)throw new Kt.InnertubeError(`Request to ${e.config.url} failed with status code ${e.status}`,t);return t}),l(this,Je).interceptors.response.use(void 0,e=>{if(e.info)return Promise.reject(e);throw new Kt.InnertubeError("Could not complete this operation",e.message)})},"#setupResponseInterceptor"),Ma=new WeakSet,Cb=n(function(e,t){switch(t){case"YTMUSIC":e.client.clientVersion=Dn.CLIENTS.YTMUSIC.VERSION,e.client.clientName=Dn.CLIENTS.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=Dn.CLIENTS.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=Dn.CLIENTS.ANDROID.NAME;break;default:break}},"#adjustContext");Rb.exports=Ua});var C0=yu(),R0=cx(),P0=qx(),k0=Cx(),L0=Nx(),A0=Ux(),N0=Mx(),kb=Qx(),O0=Zx(),U0=la(),D0=tb(),B0=tu(),M0=ib(),V0=rb(),F0=bb(),Y0=Eb(),$0=fl(),G0=Ge(),W0=require("events"),{PassThrough:H0}=require("stream-browserify"),z0=Pb(),K0=pe(),{InnertubeError:Q0,throwIfMissing:Xe,generateRandomString:Lb}=G(),J0=ut(),lt,Qt,Fa,Ab,Va=class{constructor(e){q(this,Fa);q(this,lt,void 0);q(this,Qt,void 0);return this.config=e||{},N(this,Fa,Ab).call(this)}signIn(e={}){return new Promise(async t=>{this.oauth.init(e),this.oauth.validateCredentials()&&(await this.oauth.checkAccessTokenValidity(),this.logged_in=!0,t()),this.ev.on("auth",i=>{this.logged_in=!0,i.status==="SUCCESS"&&t()})})}async signOut(){if(!this.logged_in)throw new Q0("You are not signed in");let e=await this.oauth.revokeAccessToken();return this.logged_in=!1,e}async getInfo(e){Xe({video_id:e});let t=Lb(16),i=this.actions.getVideoInfo(e,t),a=this.actions.next({video_id:e}),s=await Promise.all([i,a]);return new kb(s,this.actions,l(this,lt),t)}async getBasicInfo(e){Xe({video_id:e});let t=Lb(16),i=await this.actions.getVideoInfo(e,t);return new kb([i,{}],this.actions,l(this,lt),t)}async search(e,t={}){Xe({query:e});let i=await this.actions.search({query:e,filters:t});return new N0(this.actions,i.data)}async getSearchSuggestions(e){Xe({query:e});let t=await l(this,Qt).call(this,{url:"search",baseURL:K0.URLS.YT_SUGGESTIONS,params:{q:e,ds:"yt",client:"youtube",xssi:"t",oe:"UTF",gl:this.context.client.gl,hl:this.context.client.hl}});return JSON.parse(t.data.replace(")]}'",""))[1].map(s=>s[0])}async getComments(e,t){Xe({video_id:e});let i=J0.encodeCommentsSectionParams(e,{sort_by:t||"TOP_COMMENTS"}),a=await this.actions.next({ctoken:i});return new M0(this.actions,a.data)}async getHomeFeed(){let e=await this.actions.browse("FEwhat_to_watch");return new Y0(this.actions,e.data)}async getLibrary(){let e=await this.actions.browse("FElibrary");return new D0(e.data,this.actions)}async getHistory(){let e=await this.actions.browse("FEhistory");return new B0(this.actions,e.data)}async getTrending(){let e=await this.actions.browse("FEtrending");return new $0(this.actions,e.data)}async getSubscriptionsFeed(){let e=await this.actions.browse("FEsubscriptions");return new G0(this.actions,e.data)}async getChannel(e){Xe({id:e});let t=await this.actions.browse(e);return new O0(this.actions,t.data)}async getNotifications(){let e=await this.actions.notifications("get_notification_menu");return new V0(this.actions,e.data)}async getUnseenNotificationsCount(){return(await this.actions.notifications("get_unseen_count")).data.unseenCount}async getPlaylist(e){Xe({playlist_id:e});let t=await this.actions.browse(`VL${e.replace(/VL/g,"")}`);return new U0(this.actions,t.data)}async getStreamingData(e,t={}){return(await this.getBasicInfo(e)).chooseFormat(t)}download(e,t={}){Xe({video_id:e});let i=new H0;return(async()=>{let a=await this.getBasicInfo(e);i.emit("info",a),a.download(t,i)})(),i}getPlayer(){return l(this,lt)}get request(){return l(this,Qt)}};n(Va,"Innertube"),lt=new WeakMap,Qt=new WeakMap,Fa=new WeakSet,Ab=n(async function(){let e=new z0(this.config),t=await new P0(this.config,e.instance).build();return this.key=t.key,this.version=t.api_version,this.context=t.context,this.logged_in=!!this.config.cookie,this.sts=t.player.sts,this.player_url=t.player.url,I(this,lt,t.player),e.setSession(this),I(this,Qt,e.instance),this.ev=new W0,this.oauth=new C0(this.ev,e.instance),this.actions=new R0(this),this.account=new k0(this.actions),this.playlist=new L0(this.actions),this.interact=new A0(this.actions),this.music=new F0(this),this},"#init");module.exports=Va;
//# sourceMappingURL=node.js.map
